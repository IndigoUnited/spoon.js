var requirejs,require,define;(function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;e.length>n&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,r){return t&&eachProp(t,function(t,o){(n||!hasProp(e,o))&&(r&&"string"!=typeof t?(e[o]||(e[o]={}),mixin(e[o],t,n,r)):e[o]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,r){var o=Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return o.requireType=e,o.requireModules=r,n&&(o.originalError=n),o}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,r){var o,i,s,a,l,c,u,d,p,h,f,m=n&&n.split("/"),g=m,y=T.map,v=y&&y["*"];if(e&&"."===e.charAt(0)&&(n?(g=getOwn(T.pkgs,n)?m=[n]:m.slice(0,m.length-1),e=g.concat(e.split("/")),t(e),i=getOwn(T.pkgs,o=e[0]),e=e.join("/"),i&&e===o+"/"+i.main&&(e=o)):0===e.indexOf("./")&&(e=e.substring(2))),r&&y&&(m||v)){for(a=e.split("/"),l=a.length;l>0;l-=1){if(u=a.slice(0,l).join("/"),m)for(c=m.length;c>0;c-=1)if(s=getOwn(y,m.slice(0,c).join("/")),s&&(s=getOwn(s,u))){d=s,p=l;break}if(d)break;!h&&v&&getOwn(v,u)&&(h=getOwn(v,u),f=l)}!d&&h&&(d=h,p=f),d&&(a.splice(0,p,d),e=a.join("/"))}return e}function r(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function o(e){var t=getOwn(T.paths,e);return t&&isArray(t)&&t.length>1?(r(e),t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function i(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e,t,r,o){var s,a,l,c,u=null,d=t?t.name:null,p=e,h=!0,f="";return e||(h=!1,e="_@r"+(A+=1)),c=i(e),u=c[0],e=c[1],u&&(u=n(u,d,o),a=getOwn(q,u)),e&&(u?f=a&&a.normalize?a.normalize(e,function(e){return n(e,d,o)}):n(e,d,o):(f=n(e,d,o),c=i(f),u=c[0],f=c[1],r=!0,s=w.nameToUrl(f))),l=!u||a||r?"":"_unnormalized"+(N+=1),{prefix:u,name:f,parentMap:t,unnormalized:!!l,url:s,originalName:p,isDefine:h,id:(u?u+"!"+f:f)+l}}function a(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new w.Module(e)),n}function l(e,t,n){var r=e.id,o=getOwn(C,r);!hasProp(q,r)||o&&!o.defineEmitComplete?(o=a(e),o.error&&"error"===t?n(o.error):o.on(t,n)):"defined"===t&&n(q[r])}function c(e,t){var n=e.requireModules,r=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(r=!0,n.emit("error",e)))}),r||req.onError(e))}function u(){globalDefQueue.length&&(apsp.apply(j,[j.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete C[e],delete S[e]}function p(e,t,n){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,o){var i=r.id,s=getOwn(C,i);!s||e.depMatched[o]||n[i]||(getOwn(t,i)?(e.defineDep(o,q[i]),e.check()):p(s,t,n))}),n[r]=!0)}function h(){var e,t,n,i,s=1e3*T.waitSeconds,a=s&&w.startTime+s<(new Date).getTime(),l=[],u=[],d=!1,f=!0;if(!v){if(v=!0,eachProp(S,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||u.push(n),!n.error))if(!n.inited&&a)o(t)?(i=!0,d=!0):(l.push(t),r(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return f=!1}),a&&l.length)return n=makeError("timeout","Load timeout for modules: "+l,null,l),n.contextName=w.contextName,c(n);f&&each(u,function(e){p(e,{},{})}),a&&!i||!d||!isBrowser&&!isWebWorker||x||(x=setTimeout(function(){x=0,h()},50)),v=!1}}function f(e){hasProp(q,e[0])||a(s(e[0],null,!0)).init(e[1],e[2])}function m(e,t,n,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(n,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,w.onScriptLoad,"load","onreadystatechange"),m(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function y(){var e;for(u();j.length;){if(e=j.shift(),null===e[0])return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var v,b,w,_,x,T={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},C={},S={},k={},j=[],q={},E={},A=1,N=1;return _={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=q[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(T.pkgs,e.map.id);return t=n?getOwn(T.config,e.map.id+"/"+n.main):getOwn(T.config,e.map.id),t||{}},exports:q[e.map.id]}}},b=function(e){this.events=getOwn(k,e.id)||{},this.map=e,this.shim=getOwn(T.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,r){r=r||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?(w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})),void 0):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;E[e]||(E[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,r=this.depExports,o=this.exports,i=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,1>this.depCount&&!this.defined){if(isFunction(i)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{o=w.execCb(n,i,r,o)}catch(s){e=s}else o=w.execCb(n,i,r,o);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?o=t.exports:void 0===o&&this.usingExports&&(o=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}else o=i;this.exports=o,this.map.isDefine&&!this.ignore&&(q[n]=o,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,r=s(e.prefix);this.depMaps.push(r),l(r,"defined",bind(this,function(r){var o,i,u,p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,f=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(p=r.normalize(p,function(e){return n(e,h,!0)})||""),i=s(e.prefix+"!"+p,this.map.parentMap),l(i,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),u=getOwn(C,i.id),u&&(this.depMaps.push(i),this.events.error&&u.on("error",bind(this,function(e){this.emit("error",e)})),u.enable()),void 0):(o=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),o.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),c(e)}),o.fromText=bind(this,function(n,r){var i=e.name,l=s(i),u=useInteractive;r&&(n=r),u&&(useInteractive=!1),a(l),hasProp(T.config,t)&&(T.config[i]=T.config[t]);try{req.exec(n)}catch(d){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}u&&(useInteractive=!0),this.depMaps.push(l),w.completeLoad(i),f([i],o)}),r.load(e.name,f,o,T),void 0)})),w.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){S[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,r,o;if("string"==typeof e){if(e=s(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,o=getOwn(_,e.id))return this.depExports[t]=o(this),void 0;this.depCount+=1,l(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&l(e,"error",bind(this,this.errback))}n=e.id,r=C[n],hasProp(_,n)||!r||r.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:T,contextName:e,registry:C,defined:q,urlFetched:E,defQueue:j,Module:b,makeModuleMap:s,nextTick:req.nextTick,onError:c,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=T.pkgs,n=T.shim,r={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?"map"===t?(T.map||(T.map={}),mixin(T[t],e,!0,!0)):mixin(T[t],e,!0):T[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),T.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),T.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=s(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,r){function o(n,i,l){var u,d,p;return r.enableBuildCallback&&i&&isFunction(i)&&(i.__requireJsBuild=!0),"string"==typeof n?isFunction(i)?c(makeError("requireargs","Invalid require call"),l):t&&hasProp(_,n)?_[n](C[t.id]):req.get?req.get(w,n,t,o):(d=s(n,t,!1,!0),u=d.id,hasProp(q,u)?q[u]:c(makeError("notloaded",'Module name "'+u+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(y(),w.nextTick(function(){y(),p=a(s(null,t)),p.skipMap=r.skipMap,p.init(n,i,l,{enabled:!0}),h()}),o)}return r=r||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,o=e.lastIndexOf("."),i=e.split("/")[0],s="."===i||".."===i;return-1!==o&&(!s||o>1)&&(r=e.substring(o,e.length),e=e.substring(0,o)),w.nameToUrl(n(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(q,s(e,t,!1,!0).id)},specified:function(e){return e=s(e,t,!1,!0).id,hasProp(q,e)||hasProp(C,e)}}),t||(o.undef=function(e){u();var n=s(e,t,!0),r=getOwn(C,e);delete q[e],delete E[n.url],delete k[e],r&&(r.events.defined&&(k[e]=r.events),d(e))}),o},enable:function(e){var t=getOwn(C,e.id);t&&a(e).enable()},completeLoad:function(e){var t,n,r,i=getOwn(T.shim,e)||{},s=i.exports;for(u();j.length;){if(n=j.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(r=getOwn(C,e),!t&&!hasProp(q,e)&&r&&!r.inited){if(!(!T.enforceDefine||s&&getGlobal(s)))return o(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]));f([e,i.deps||[],i.exportsFn])}h()},nameToUrl:function(e,t,n){var r,o,i,s,a,l,c,u,d;if(req.jsExtRegExp.test(e))u=e+(t||"");else{for(r=T.paths,o=T.pkgs,a=e.split("/"),l=a.length;l>0;l-=1){if(c=a.slice(0,l).join("/"),i=getOwn(o,c),d=getOwn(r,c)){isArray(d)&&(d=d[0]),a.splice(0,l,d);break}if(i){s=e===i.name?i.location+"/"+i.main:i.location,a.splice(0,l,s);break}}u=a.join("/"),u+=t||(/\?/.test(u)||n?"":".js"),u=("/"===u.charAt(0)||u.match(/^[\w\+\.\-]+:/)?"":T.baseUrl)+u}return T.urlArgs?u+((-1===u.indexOf("?")?"?":"&")+T.urlArgs):u},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,r){return t.apply(r,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);return o(t.id)?void 0:c(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.8",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"==""+opera,contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if(void 0===define){if(requirejs!==void 0){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}void 0===require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,r){var o,i,s=defContextName;return isArray(e)||"string"==typeof e||(i=e,isArray(t)?(e=t,t=n,n=r):e=[]),i&&i.context&&(s=i.context),o=getOwn(contexts,s),o||(o=contexts[s]=req.s.newContext(s)),i&&o.configure(i),o.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e){var t=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return t.type=e.scriptType||"text/javascript",t.charset="utf-8",t.async=!0,t},req.load=function(e,t,n){var r,o=e&&e.config||{};if(isBrowser)return r=req.createNode(o,t,n),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&0>(""+r.attachEvent).indexOf("[native code")||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(i){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,i,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var r,o;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&((""+n).replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),o=contexts[r.getAttribute("data-requirecontext")])),(o?o.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}})(this),define("../bower_components/requirejs/require",function(){}),requirejs.config({baseUrl:"./dev/src",paths:{mout:"../bower_components/mout/src","events-emitter":"../bower_components/events-emitter/src",address:"../bower_components/address/src",jquery:"../bower_components/jquery/jquery",doT:"../bower_components/doT/doT",text:"../bower_components/requirejs-text/text",has:"../bower_components/has/has",bootstrap:"../bower_components/bootstrap/js/bootstrap","bootstrap-css":"../bower_components/bootstrap/css","normalize-css":"../bower_components/normalize-css",rainbow:"../bower_components/rainbow","jquery.scrollTo":"../bower_components/jquery.scrollTo/jquery.scrollTo"},shim:{"jquery.scrollTo":{deps:["jquery"],exports:"$"},rainbow:{exports:"Rainbow"},"rainbow/js/language/generic":{deps:["rainbow/js/rainbow"],exports:"Rainbow"},"rainbow/js/language/javascript":{deps:["rainbow/js/language/generic"],exports:"Rainbow"}},map:{"*":{"app-config":"../app/config/config_prod",spoon:"../bower_components/spoonjs/src/index","spoon/Controller":"../bower_components/spoonjs/src/core/Controller","spoon/View":"../bower_components/spoonjs/src/core/View","services/broadcaster":"../bower_components/spoonjs/src/core/Broadcaster/BroadcasterFactory","services/address":"../bower_components/spoonjs/src/core/Address/AddressFactory","services/state":"../bower_components/spoonjs/src/core/StateRegistry/StateRegistryFactory"}},packages:[{name:"css",location:"../bower_components/require-css",main:"css"}]}),define("../app/loader",function(){}),define("events-emitter/MixableEventsEmitter",[],function(){function e(){}function t(e,t,n){var r,o,i=this._listeners[e];if(i)for(r=i.length-1;r>=0;r-=1)if(o=i[r],o.fn===t&&o.context===n)return r;return-1}function n(e){var t;if(e)this._firing?this._listeners[e].length=0:delete this._listeners[e];else if(this._firing)for(t in this._listeners)this._listeners[t].length=0;else this._listeners={}}var r=Object.prototype.hasOwnProperty,o=Array.prototype.slice;return e.prototype.on=function(e,n,r){var o;return this._listeners=this._listeners||{},o=this._listeners[e]=this._listeners[e]||[],-1===t.call(this,e,n,r)&&o.push({fn:n,callable:n,context:r}),this},e.prototype.once=function(e,n,r){var o,i,s=this;return this._listeners=this._listeners||{},o=this._listeners[e]=this._listeners[e]||[],-1===t.call(this,e,n,r)&&(i=function(){n.apply(this,arguments),s.off(e,n,r)},o.push({fn:n,callable:i,context:r})),this},e.prototype.off=function(e,r,o){if(this._listeners=this._listeners||{},!r&&2>arguments.length)n.call(this,e);else{var i=t.call(this,e,r,o);-1!==i&&(this._firing?this._listeners[e][i]={}:1===this._listeners[e].length?delete this._listeners[e]:this._listeners[e].splice(i,1))}return this},e.prototype._emit=function(e){var t,n,i,s;if(this._listeners=this._listeners||{},t=this._listeners[e]){for(n=o.call(arguments,1),this._firing=!0,i=0;t.length>i;i+=1)s=t[i],r.call(s,"fn")?s.callable.apply(s.context||this,n):(t.splice(i,1),i-=1);0===t.length&&delete this._listeners[e],this._firing=!1}return this},e.getListenerIndex=t,e.clearListeners=n,e}),define("events-emitter/EventsEmitter",["./MixableEventsEmitter"],function(e){function t(){}var n=e.getListenerIndex;return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.emit=function(){return this._emit.apply(this,arguments)},t.prototype.has=function(e,t,r){var o,i;if(this._listeners=this._listeners||{},t)return-1!==n.call(this,e,t,r);if(o=this._listeners[e],this._firing){for(i=o.length-1;i>=0;i-=1)if(o[i].fn)return!0;return!1}return!!o},t.prototype.forEach=function(e,t){var n,r,o,i,s;this._listeners=this._listeners||{},t=t||this;for(n in this._listeners)for(i=this._listeners[n],o=i.length,r=0;o>r;r+=1)s=i[r],s.fn&&e.call(t,n,s.fn,s.context)},t}),define("has",{}),define("../bower_components/spoonjs/src/core/Broadcaster/Broadcaster",["events-emitter/EventsEmitter","has"],function(e){function t(){this._emitter=new e}return t.prototype.on=function(e,t,n){return this._emitter.on(e,t,n),this},t.prototype.once=function(e,t,n){return this._emitter.once(e,t,n),this},t.prototype.off=function(e,t,n){return this._emitter.off(e,t,n),this},t.prototype.broadcast=function(e){return this._emitter.has(e)&&this._emitter.emit.apply(this._emitter,arguments),this},t}),define("../bower_components/spoonjs/src/core/Broadcaster/BroadcasterFactory",["./Broadcaster"],function(e){return new e}),define("../bower_components/spoonjs/src/util/extend",[],function(){function e(){}function t(n,r){var o,i,s;"function"==typeof n?r=r||{}:(r=n||{},n=this===window?null:this),o=r.initialize||(n?function(){return n.apply(this,arguments)}:e),n&&(o.prototype=Object.create(n.prototype)),i=o.prototype,i.constructor=o;for(s in r)i[s]=r[s];return i.$name=i.$name||"Unnamed",o.extend=t,o}return t}),define("mout/array/indexOf",[],function(){function e(e,t,n){if(n=n||0,null==e)return-1;for(var r=e.length,o=0>n?r+n:n;r>o;){if(e[o]===t)return o;o++}return-1}return e}),define("mout/function/prop",[],function(){function e(e){return function(t){return t[e]}}return e}),define("mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),define("mout/object/forIn",[],function(){function e(){o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=!0;for(var e in{toString:null})r=!1}function t(t,i,s){var a,l=0;null==r&&e();for(a in t)if(n(i,t,a,s)===!1)break;if(r)for(;(a=o[l++])&&(t[a]===Object.prototype[a]||n(i,t,a,s)!==!1););}function n(e,t,n,r){return e.call(r,t[n],n,t)}var r,o;return t}),define("mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,r,o){t(n,function(t,i){return e(n,i)?r.call(o,n[i],i,n):void 0})}return n}),define("mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(r.call(e))[1]}var t,n=/^\[object (.*)\]$/,r=Object.prototype.toString;return e}),define("mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),define("mout/lang/isArray",["./isKind"],function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}),define("mout/object/deepMatches",["./forOwn","../lang/isArray"],function(e,t){function n(e,t){for(var n=-1,r=e.length;r>++n;)if(i(e[n],t))return!0;return!1}function r(e,t){for(var r=-1,o=t.length;o>++r;)if(!n(e,t[r]))return!1;return!0}function o(t,n){var r=!0;return e(n,function(e,n){return i(t[n],e)?void 0:r=!1}),r}function i(e,n){return e&&"object"==typeof e?t(e)&&t(n)?r(e,n):o(e,n):e===n}return i}),define("mout/function/makeIterator_",["./prop","../object/deepMatches"],function(e,t){function n(n,r){switch(typeof n){case"function":return r!==void 0?function(e,t,o){return n.call(r,e,t,o)}:n;case"object":return null!=n?function(e){return t(e,n)}:n;case"string":case"number":return e(n);default:return n}}return n}),define("mout/array/filter",["../function/makeIterator_"],function(e){function t(t,n,r){n=e(n,r);var o=[];if(null==t)return o;for(var i,s=-1,a=t.length;a>++s;)i=t[s],n(i,s,t)&&o.push(i);return o}return t}),define("mout/array/unique",["./indexOf","./filter"],function(e,t){function n(e){return t(e,r)}function r(t,n,r){return-1===e(r,t,n+1)}return n}),define("mout/array/some",["../function/makeIterator_"],function(e){function t(t,n,r){n=e(n,r);var o=!1;if(null==t)return o;for(var i=-1,s=t.length;s>++i;)if(n(t[i],i,t)){o=!0;break}return o}return t}),define("mout/array/contains",["./indexOf"],function(e){function t(t,n){return-1!==e(t,n)}return t}),define("mout/array/difference",["./unique","./filter","./some","./contains"],function(e,t,n,r){function o(o){var i=Array.prototype.slice.call(arguments,1),s=t(e(o),function(e){return!n(i,function(t){return r(t,e)})});return s}return o}),define("mout/lang/toArray",["./kindOf"],function(e){function t(t){var r,o=[],i=e(t);if(null!=t)if(null==t.length||"String"===i||"Function"===i||"RegExp"===i||t===n)o[o.length]=t;else for(r=t.length;r--;)o[r]=t[r];return o}var n=this;return t}),define("mout/array/insert",["./difference","../lang/toArray"],function(e,t){function n(n){var r=e(t(arguments).slice(1),n);return r.length&&Array.prototype.push.apply(n,r),n.length}return n}),define("mout/array/remove",["./indexOf"],function(e){function t(t,n){var r=e(t,n);-1!==r&&t.splice(r,1)}return t}),define("../bower_components/spoonjs/src/core/Joint",["events-emitter/EventsEmitter","services/broadcaster","../util/extend","mout/array/insert","mout/array/remove","has"],function(e,t,n,r,o){function i(){this._downlinks=[],this._emitter=new e}return i.extend=n,i.prototype.on=function(e,n,r){return r=r||this,this._emitter.on(e,n,r),t.on(e,n,r),this},i.prototype.once=function(e,n,r){return r=r||this,this._emitter.once(e,n,r),t.once(e,n,r),this},i.prototype.off=function(e,n,r){return r=r||this,this._emitter.off(e,n,r),t.off(e,n,r),this},i.prototype.destroy=function(){this._destroyed||(this._onDestroy(),this._destroyed=!0)},i.prototype._link=function(e){return e._uplink!==this&&(e._uplink=this,r(this._downlinks,e),e._emitter.emit("link",this)),e},i.prototype._unlink=function(e){return o(this._downlinks,e),e._uplink===this&&(e._uplink=null,e._emitter.emit("unlink",this)),this},i.prototype._upcast=function(e){return this._emitter.has(e)?this._emitter.emit.apply(this._emitter,arguments):this._uplink&&this._uplink._upcast.apply(this._uplink,arguments),this},i.prototype._broadcast=function(){return t.broadcast.apply(t,arguments),this},i.prototype._onDestroy=function(){var e,n;for(this._emitter.forEach(t.off,t),this._emitter.off(),this._uplink&&(this._uplink._unlink(this),this._uplink=null),e=this._downlinks.length-1;e>=0;e-=1)n=this._downlinks[e],this._unlink(n),n.destroy();this._downlinks=null},i}),define("mout/object/keys",["./forOwn"],function(e){var t=Object.keys||function(t){var n=[];return e(t,function(e,t){n.push(t)}),n};return t}),define("mout/object/values",["./forOwn"],function(e){function t(t){var n=[];return e(t,function(e){n.push(e)}),n}return t}),define("mout/lang/isPlainObject",[],function(){function e(e){return!!e&&"object"==typeof e&&e.constructor===Object}return e}),define("mout/object/mixIn",["./forOwn"],function(e){function t(t){for(var r,o=0,i=arguments.length;i>++o;)r=arguments[o],null!=r&&e(r,n,t);return t}function n(e,t){this[t]=e}return t}),define("mout/lang/clone",["./kindOf","./isPlainObject","../object/mixIn"],function(e,t,n){function r(t){switch(e(t)){case"Object":return o(t);case"Array":return a(t);case"RegExp":return i(t);case"Date":return s(t);default:return t}}function o(e){return t(e)?n({},e):e}function i(e){var t="";return t+=e.multiline?"m":"",t+=e.global?"g":"",t+=e.ignorecase?"i":"",RegExp(e.source,t)}function s(e){return new Date(+e)}function a(e){return e.slice()}return r}),define("mout/lang/deepClone",["./clone","../object/forOwn","./kindOf","./isPlainObject"],function(e,t,n,r){function o(t,r){switch(n(t)){case"Object":return i(t,r);case"Array":return s(t,r);default:return e(t)}}function i(e,n){if(r(e)){var i={};return t(e,function(e,t){this[t]=o(e,n)},i),i}return n?n(e):e}function s(e,t){for(var n=[],r=-1,i=e.length;i>++r;)n[r]=o(e[r],t);return n}return o}),define("../bower_components/spoonjs/src/core/StateRegistry/State",["mout/object/keys","mout/object/values","mout/lang/deepClone","mout/array/filter","has"],function(e,t,n,r){function o(e,t){this._nrParts=0,this._cursor=0,this.setFullName(e),this.setParams(t)}return o.prototype.getFullName=function(){return this._name},o.prototype.setFullName=function(e){return this._name=e,this._parts=e.split("."),this._nrParts=this._parts.length,this.setCursor(this._cursor),this},o.prototype.getName=function(){return this._cursor<this._nrParts?this._parts[this._cursor]:null},o.prototype.getParams=function(){return this._params},o.prototype.setParams=function(e){return this._params=e||{},this},o.prototype.next=function(){return this._cursor<this._nrParts&&(this._cursor+=1),this},o.prototype.previous=function(){return this._cursor>1&&(this._cursor-=1),this},o.prototype.getCursor=function(){return this._cursor},o.prototype.setCursor=function(e){return this._cursor=this._cursor>this._nrParts?this._nrParts:0>this._cursor?0:e,this},o.prototype.isEqual=function(e,t){var n,r;if(this===e)return!0;if(this.getName()!==e.getName())return!1;if(t){for(n=t.length-1;n>=0;n-=1)if(r=t[n],this._params[r]!=e._params[r])return!1;return!0}return this._compareObjects(this._params,e._params)},o.prototype.isFullyEqual=function(e){return this===e?!0:this._name!==e._name?!1:this._compareObjects(this._params,e._params)},o.prototype.clone=function(e){var t;return t=new o(this._name,e?n(this._params):this._params),t._cursor=this._cursor,t},o.prototype._compareObjects=function(t,n){var o,i,s=e(t),a=e(n);for(s=r(s,function(e){return"$"!==e.charAt(0)}),a=r(a,function(e){return"$"!==e.charAt(0)}),i=s.length-1;i>=0;i-=1)if(o=s[i],t[o]!=n[o])return!1;for(i=a.length-1;i>=0;i-=1)if(o=a[i],n[o]!=t[o])return!1;return!0},o._nameRegExp=/^([a-z0-9_\-]+(\.[a-z0-9_\-]+)*)?$/i,o.isValid=function(e){var t=this._nameRegExp||o._nameRegExp;return t.test(e)},o}),define("mout/lang/toString",[],function(){function e(e){return null==e?"":""+e}return e}),define("mout/string/escapeRegExp",["../lang/toString"],function(e){function t(t){return t=e(t),t.replace(n,"\\$&")}var n=/[\\.+*?\^$\[\](){}\/'#]/g;return t}),define("../bower_components/spoonjs/src/core/StateRegistry/Route",["mout/string/escapeRegExp","mout/object/hasOwn","has"],function(e,t){function n(t,n,r){r=r||{};var o,i,s,a=e(n);if(this._name=t,this._pattern=n,this._constraints=r,this._placeholderNames=a.match(this.constructor._placeholdersEscapedRegExp),this._placeholderNames)for(o=this._placeholderNames.length-1;o>=0;o-=1)i=this._placeholderNames[o].slice(2,-2),s=r[i]?(""+r[i]).slice(1,-1):"[^/]+?",a=a.replace(this._placeholderNames[o],"("+s+")"),this._placeholderNames[o]=i;this._regExp=RegExp("^"+a+"$")}return n.prototype.getName=function(){return this._name},n.prototype.test=function(e){return this._regExp.test(e)},n.prototype.match=function(e){var t,n,r;if(n=e.match(this._regExp))for(t={},r=n.length-1;r>=1;r-=1)t[this._placeholderNames[r-1]]=n[r];else t=null;return t},n.prototype.generateUrl=function(e){var t,n,r,o=this._pattern,i=(this._constraints||{},this._placeholderNames?this._placeholderNames.length:0);if(i)for(e=e||{},r=0;i>r;r+=1)t=this._placeholderNames[r],n=""+e[t],o=o.replace(this.constructor._placeholdersRegExp,n);return o},n._placeholdersRegExp=/\{.+?\}/,n._placeholdersEscapedRegExp=/\\\{.+?\\\}/g,n}),define("mout/string/startsWith",["../lang/toString"],function(e){function t(t,n){return t=e(t),n=e(n),0===t.indexOf(n)}return t}),define("mout/string/typecast",[],function(){function e(e){var n;return n=null===e||"null"===e?null:"true"===e?!0:"false"===e?!1:e===t||"undefined"===e?t:""===e||isNaN(e)?e:parseFloat(e)}var t;return e}),define("mout/lang/isString",["./isKind"],function(e){function t(t){return e(t,"String")}return t}),define("mout/queryString/decode",["../string/typecast","../lang/isString","../lang/isArray","../object/hasOwn"],function(e,t,n,r){function o(o,i){for(var s,a,l,c,u=(o||"").replace("?","").split("&"),d=-1,p=u.length,h={};p>++d;)s=u[d].split("="),l=s[0],l&&l.length&&(a=i===!1?s[1]:e(s[1]),c=t(a)?decodeURIComponent(a):a,r(h,l)?n(h[l])?h[l].push(c):h[l]=[h[l],c]:h[l]=c);return h}return o}),define("mout/array/forEach",[],function(){function e(e,t,n){if(null!=e)for(var r=-1,o=e.length;o>++r&&t.call(n,e[r],r,e)!==!1;);}return e
}),define("mout/queryString/encode",["../object/forOwn","../lang/isArray","../array/forEach"],function(e,t,n){function r(r){var o,i,s=[];return e(r,function(e,r){t(e)?(o=r+"=",i=RegExp("&"+r+"+=$"),n(e,function(e){o+=encodeURIComponent(e)+"&"+r+"="}),s.push(o.replace(i,""))):s.push(r+"="+encodeURIComponent(e))}),s.length?"?"+s.join("&"):""}return r}),function(e,t){function n(e){var t=e.length,n=ut.type(e);return ut.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e){var t=St[e]={};return ut.each(e.match(pt)||[],function(e,n){t[n]=!0}),t}function o(e,n,r,o){if(ut.acceptData(e)){var i,s,a=ut.expando,l=e.nodeType,c=l?ut.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(o||c[u].data)||r!==t||"string"!=typeof n)return u||(u=l?e[a]=tt.pop()||ut.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),("object"==typeof n||"function"==typeof n)&&(o?c[u]=ut.extend(c[u],n):c[u].data=ut.extend(c[u].data,n)),s=c[u],o||(s.data||(s.data={}),s=s.data),r!==t&&(s[ut.camelCase(n)]=r),"string"==typeof n?(i=s[n],null==i&&(i=s[ut.camelCase(n)])):i=s,i}}function i(e,t,n){if(ut.acceptData(e)){var r,o,i=e.nodeType,s=i?ut.cache:e,l=i?e[ut.expando]:ut.expando;if(s[l]){if(t&&(r=n?s[l]:s[l].data)){ut.isArray(t)?t=t.concat(ut.map(t,ut.camelCase)):t in r?t=[t]:(t=ut.camelCase(t),t=t in r?[t]:t.split(" ")),o=t.length;for(;o--;)delete r[t[o]];if(n?!a(r):!ut.isEmptyObject(r))return}(n||(delete s[l].data,a(s[l])))&&(i?ut.cleanData([e],!0):ut.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,n,r){if(r===t&&1===e.nodeType){var o="data-"+n.replace(jt,"-$1").toLowerCase();if(r=e.getAttribute(o),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:kt.test(r)?ut.parseJSON(r):r}catch(i){}ut.data(e,n,r)}else r=t}return r}function a(e){var t;for(t in e)if(("data"!==t||!ut.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Y.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function p(e,t,n){if(ut.isFunction(t))return ut.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ut.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ft.test(t))return ut.filter(t,e,n);t=ut.filter(t,e)}return ut.grep(e,function(e){return ut.inArray(e,t)>=0!==n})}function h(e){var t=zt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return ut.nodeName(e,"table")&&ut.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function m(e){return e.type=(null!==ut.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var n,r=0;null!=(n=e[r]);r++)ut._data(n,"globalEval",!t||ut._data(t[r],"globalEval"))}function v(e,t){if(1===t.nodeType&&ut.hasData(e)){var n,r,o,i=ut._data(e),s=ut._data(t,i),a=i.events;if(a){delete s.handle,s.events={};for(n in a)for(r=0,o=a[n].length;o>r;r++)ut.event.add(t,n,a[n][r])}s.data&&(s.data=ut.extend({},s.data))}}function b(e,t){var n,r,o;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ut.support.noCloneEvent&&t[ut.expando]){o=ut._data(t);for(r in o.events)ut.removeEvent(t,r,o.handle);t.removeAttribute(ut.expando)}"script"===n&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ut.support.html5Clone&&e.innerHTML&&!ut.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function w(e,n){var r,o,i=0,s=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[i]);i++)!n||ut.nodeName(o,n)?s.push(o):ut.merge(s,w(o,n));return n===t||n&&ut.nodeName(e,n)?ut.merge([e],s):s}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,o=Sn.length;o--;)if(t=Sn[o]+n,t in e)return t;return r}function T(e,t){return e=t||e,"none"===ut.css(e,"display")||!ut.contains(e.ownerDocument,e)}function C(e,t){for(var n,r,o,i=[],s=0,a=e.length;a>s;s++)r=e[s],r.style&&(i[s]=ut._data(r,"olddisplay"),n=r.style.display,t?(i[s]||"none"!==n||(r.style.display=""),""===r.style.display&&T(r)&&(i[s]=ut._data(r,"olddisplay",q(r.nodeName)))):i[s]||(o=T(r),(n&&"none"!==n||!o)&&ut._data(r,"olddisplay",o?n:ut.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?i[s]||"":"none"));return e}function S(e,t,n){var r=vn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function k(e,t,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,s=0;4>i;i+=2)"margin"===n&&(s+=ut.css(e,n+Cn[i],!0,o)),r?("content"===n&&(s-=ut.css(e,"padding"+Cn[i],!0,o)),"margin"!==n&&(s-=ut.css(e,"border"+Cn[i]+"Width",!0,o))):(s+=ut.css(e,"padding"+Cn[i],!0,o),"padding"!==n&&(s+=ut.css(e,"border"+Cn[i]+"Width",!0,o)));return s}function j(e,t,n){var r=!0,o="width"===t?e.offsetWidth:e.offsetHeight,i=dn(e),s=ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,i);if(0>=o||null==o){if(o=pn(e,t,i),(0>o||null==o)&&(o=e.style[t]),bn.test(o))return o;r=s&&(ut.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+k(e,t,n||(s?"border":"content"),r,i)+"px"}function q(e){var t=Y,n=_n[e];return n||(n=E(e,t),"none"!==n&&n||(un=(un||ut("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),un.detach()),_n[e]=n),n}function E(e,t){var n=ut(t.createElement(e)).appendTo(t.body),r=ut.css(n[0],"display");return n.remove(),r}function A(e,t,n,r){var o;if(ut.isArray(t))ut.each(t,function(t,o){n||jn.test(e)?r(e,o):A(e+"["+("object"==typeof o?t:"")+"]",o,n,r)});else if(n||"object"!==ut.type(t))r(e,t);else for(o in t)A(e+"["+o+"]",t[o],n,r)}function N(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,o=0,i=t.toLowerCase().match(pt)||[];if(ut.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,n,r,o){function i(l){var c;return s[l]=!0,ut.each(e[l]||[],function(e,l){var u=l(n,r,o);return"string"!=typeof u||a||s[u]?a?!(c=u):t:(n.dataTypes.unshift(u),i(u),!1)}),c}var s={},a=e===Un;return i(n.dataTypes[0])||!s["*"]&&i("*")}function O(e,n){var r,o,i=ut.ajaxSettings.flatOptions||{};for(o in n)n[o]!==t&&((i[o]?e:r||(r={}))[o]=n[o]);return r&&ut.extend(!0,e,r),e}function L(e,n,r){for(var o,i,s,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("Content-Type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){c.unshift(a);break}if(c[0]in r)s=c[0];else{for(a in r){if(!c[0]||e.converters[a+" "+c[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==c[0]&&c.unshift(s),r[s]):t}function M(e,t,n,r){var o,i,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=u.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(s=c[l+" "+i]||c["* "+i],!s)for(o in c)if(a=o.split(" "),a[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[o]:c[o]!==!0&&(i=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}function D(){try{return new e.XMLHttpRequest}catch(t){}}function I(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function H(){return setTimeout(function(){Zn=t}),Zn=ut.now()}function P(e,t,n){for(var r,o=(ir[t]||[]).concat(ir["*"]),i=0,s=o.length;s>i;i++)if(r=o[i].call(n,t,e))return r}function V(e,t,n){var r,o,i=0,s=or.length,a=ut.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Zn||H(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,i=1-r,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(i);return a.notifyWith(e,[c,i,n]),1>i&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ut.extend({},t),opts:ut.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||H(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ut.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(o)return this;for(o=!0;r>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for($(u,c.opts.specialEasing);s>i;i++)if(r=or[i].call(c,e,u,c.opts))return r;return ut.map(u,P,c),ut.isFunction(c.opts.start)&&c.opts.start.call(e,c),ut.fx.timer(ut.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(e,t){var n,r,o,i,s;for(n in e)if(r=ut.camelCase(n),o=t[r],i=e[n],ut.isArray(i)&&(o=i[1],i=e[n]=i[0]),n!==r&&(e[r]=i,delete e[n]),s=ut.cssHooks[r],s&&"expand"in s){i=s.expand(i),delete e[r];for(n in i)n in e||(e[n]=i[n],t[n]=o)}else t[r]=o}function F(e,t,n){var r,o,i,s,a,l,c=this,u={},d=e.style,p=e.nodeType&&T(e),h=ut._data(e,"fxshow");n.queue||(a=ut._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ut.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ut.css(e,"display")&&"none"===ut.css(e,"float")&&(ut.support.inlineBlockNeedsLayout&&"inline"!==q(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ut.support.shrinkWrapBlocks||c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(o=t[r],tr.exec(o)){if(delete t[r],i=i||"toggle"===o,o===(p?"hide":"show"))continue;u[r]=h&&h[r]||ut.style(e,r)}if(!ut.isEmptyObject(u)){h?"hidden"in h&&(p=h.hidden):h=ut._data(e,"fxshow",{}),i&&(h.hidden=!p),p?ut(e).show():c.done(function(){ut(e).hide()}),c.done(function(){var t;ut._removeData(e,"fxshow");for(t in u)ut.style(e,t,u[t])});for(r in u)s=P(p?h[r]:0,r,c),r in h||(h[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function B(e,t,n,r,o){return new B.prototype.init(e,t,n,r,o)}function U(e,t){var n,r={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)n=Cn[o],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function W(e){return ut.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var z,X,G=typeof t,J=e.location,Y=e.document,Q=Y.documentElement,K=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",rt=tt.concat,ot=tt.push,it=tt.slice,st=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ct=nt.trim,ut=function(e,t){return new ut.fn.init(e,t,X)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pt=/\S+/g,ht=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,yt=/(?:^|:|,)(?:\s*\[)+/g,vt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,_t=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},Tt=function(e){(Y.addEventListener||"load"===e.type||"complete"===Y.readyState)&&(Ct(),ut.ready())},Ct=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",Tt,!1),e.removeEventListener("load",Tt,!1)):(Y.detachEvent("onreadystatechange",Tt),e.detachEvent("onload",Tt))};ut.fn=ut.prototype={jquery:nt,constructor:ut,init:function(e,n,r){var o,i;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!o||!o[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(o[1]){if(n=n instanceof ut?n[0]:n,ut.merge(this,ut.parseHTML(o[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),mt.test(o[1])&&ut.isPlainObject(n))for(o in n)ut.isFunction(this[o])?this[o](n[o]):this.attr(o,n[o]);return this}if(i=Y.getElementById(o[2]),i&&i.parentNode){if(i.id!==o[2])return r.find(e);this.length=1,this[0]=i}return this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ut.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ut.makeArray(e,this))},selector:"",length:0,toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ut.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ut.each(this,e,t)},ready:function(e){return ut.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ut.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},ut.fn.init.prototype=ut.fn,ut.extend=ut.fn.extend=function(){var e,n,r,o,i,s,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ut.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(i=arguments[l]))for(o in i)e=a[o],r=i[o],a!==r&&(u&&r&&(ut.isPlainObject(r)||(n=ut.isArray(r)))?(n?(n=!1,s=e&&ut.isArray(e)?e:[]):s=e&&ut.isPlainObject(e)?e:{},a[o]=ut.extend(u,s,r)):r!==t&&(a[o]=r));return a},ut.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ut&&(e.$=Z),t&&e.jQuery===ut&&(e.jQuery=K),ut},isReady:!1,readyWait:1,holdReady:function(e){e?ut.readyWait++:ut.ready(!0)},ready:function(e){if(e===!0?!--ut.readyWait:!ut.isReady){if(!Y.body)return setTimeout(ut.ready);ut.isReady=!0,e!==!0&&--ut.readyWait>0||(z.resolveWith(Y,[ut]),ut.fn.trigger&&ut(Y).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ut.type(e)},isArray:Array.isArray||function(e){return"array"===ut.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ut.type(e)||e.nodeType||ut.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(ut.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var r=mt.exec(e),o=!n&&[];return r?[t.createElement(r[1])]:(r=ut.buildFragment([e],t,o),o&&ut(o).remove(),ut.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=ut.trim(n),n&&gt.test(n.replace(vt,"@").replace(bt,"]").replace(yt,"")))?Function("return "+n)():(ut.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,o;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(o=new DOMParser,r=o.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(i){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&ut.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(_t,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var o,i=0,s=e.length,a=n(e);if(r){if(a)for(;s>i&&(o=t.apply(e[i],r),o!==!1);i++);else for(i in e)if(o=t.apply(e[i],r),o===!1)break}else if(a)for(;s>i&&(o=t.call(e[i],i,e[i]),o!==!1);i++);else for(i in e)if(o=t.call(e[i],i,e[i]),o===!1)break;return e},trim:ct&&!ct.call("﻿ ")?function(e){return null==e?"":ct.call(e)}:function(e){return null==e?"":(e+"").replace(ht,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ut.merge(r,"string"==typeof e?[e]:e):ot.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(st)return st.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,o=e.length,i=0;if("number"==typeof r)for(;r>i;i++)e[o++]=n[i];else for(;n[i]!==t;)e[o++]=n[i++];return e.length=o,e},grep:function(e,t,n){var r,o=[],i=0,s=e.length;for(n=!!n;s>i;i++)r=!!t(e[i],i),n!==r&&o.push(e[i]);return o},map:function(e,t,r){var o,i=0,s=e.length,a=n(e),l=[];if(a)for(;s>i;i++)o=t(e[i],i,r),null!=o&&(l[l.length]=o);else for(i in e)o=t(e[i],i,r),null!=o&&(l[l.length]=o);return rt.apply([],l)},guid:1,proxy:function(e,n){var r,o,i;return"string"==typeof n&&(i=e[n],n=e,e=i),ut.isFunction(e)?(r=it.call(arguments,2),o=function(){return e.apply(n||this,r.concat(it.call(arguments)))},o.guid=e.guid=e.guid||ut.guid++,o):t},access:function(e,n,r,o,i,s,a){var l=0,c=e.length,u=null==r;if("object"===ut.type(r)){i=!0;for(l in r)ut.access(e,n,l,r[l],!0,s,a)}else if(o!==t&&(i=!0,ut.isFunction(o)||(a=!0),u&&(a?(n.call(e,o),n=null):(u=n,n=function(e,t,n){return u.call(ut(e),n)})),n))for(;c>l;l++)n(e[l],r,a?o:o.call(e[l],l,n(e[l],r)));return i?e:u?n.call(e):c?n(e[0],r):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var o,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];o=n.apply(e,r||[]);for(i in t)e.style[i]=s[i];return o}}),ut.ready.promise=function(t){if(!z)if(z=ut.Deferred(),"complete"===Y.readyState)setTimeout(ut.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",Tt,!1),e.addEventListener("load",Tt,!1);else{Y.attachEvent("onreadystatechange",Tt),e.attachEvent("onload",Tt);var n=!1;try{n=null==e.frameElement&&Y.documentElement}catch(r){}n&&n.doScroll&&function o(){if(!ut.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}Ct(),ut.ready()}}()}return z.promise(t)},ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),X=ut(Y),function(e,t){function n(e,t,n,r){var o,i,s,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:V)!==R&&N(t),t=t||R,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(L&&!r){if(o=bt.exec(e))if(s=o[1]){if(9===a){if(i=t.getElementById(s),!i||!i.parentNode)return n;if(i.id===s)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(s))&&H(t,i)&&i.id===s)return n.push(i),n}else{if(o[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=o[3])&&T.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(T.qsa&&(!M||!M.test(e))){if(d=u=P,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=p(e),(u=t.getAttribute("id"))?d=u.replace(xt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+h(c[l]);f=ht.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return et.apply(n,f.querySelectorAll(m)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return _(e.replace(ct,"$1"),t,n,r)}function r(){function e(n,r){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=r}var t=[];return e}function o(e){return e[P]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),r=e.length;r--;)S.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(n,r){for(var o,i=e([],n.length,t),s=i.length;s--;)n[o=i[s]]&&(n[o]=!(r[o]=n[o]))})})}function d(){}function p(e,t){var r,o,i,s,a,l,c,u=U[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=S.preFilter;a;){(!r||(o=dt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(i=[])),r=!1,(o=pt.exec(a))&&(r=o.shift(),i.push({value:r,type:o[0].replace(ct," ")}),a=a.slice(r.length));for(s in S.filter)!(o=yt[s].exec(a))||c[s]&&!(o=c[s](o))||(r=o.shift(),i.push({value:r,type:s,matches:o}),a=a.slice(r.length));if(!r)break}return t?a.length:a?n.error(e):U(e,l).slice(0)}function h(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=F++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,s){var a,l,c,u=$+" "+i;if(s){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=t[P]||(t[P]={}),(l=c[r])&&l[0]===u){if((a=l[1])===!0||a===C)return a===!0}else if(l=c[r]=[u],l[1]=e(t,n,s)||C,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function g(e,t,n,r,o){for(var i,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(i=e[a])&&(!n||n(i,r,o))&&(s.push(i),c&&t.push(a));return s}function y(e,t,n,r,i,s){return r&&!r[P]&&(r=y(r)),i&&!i[P]&&(i=y(i,s)),o(function(o,s,a,l){var c,u,d,p=[],h=[],f=s.length,m=o||w(t||"*",a.nodeType?[a]:a,[]),y=!e||!o&&t?m:g(m,p,e,a,l),v=n?i||(o?e:f||r)?[]:s:y;if(n&&n(y,v,a,l),r)for(c=g(v,h),r(c,[],a,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(y[h[u]]=d));if(o){if(i||e){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(y[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&(c=i?nt.call(o,d):p[u])>-1&&(o[c]=!(s[c]=d))}}else v=g(v===s?v.splice(f,v.length):v),i?i(null,s,v,l):et.apply(s,v)})}function v(e){for(var t,n,r,o=e.length,i=S.relative[e[0].type],s=i||S.relative[" "],a=i?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return nt.call(t,e)>-1},s,!0),u=[function(e,n,r){return!i&&(r||n!==E)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];o>a;a++)if(n=S.relative[e[a].type])u=[f(m(u),n)];else{if(n=S.filter[e[a].type].apply(null,e[a].matches),n[P]){for(r=++a;o>r&&!S.relative[e[r].type];r++);return y(a>1&&m(u),a>1&&h(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ct,"$1"),n,r>a&&v(e.slice(a,r)),o>r&&v(e=e.slice(r)),o>r&&h(e))}u.push(n)}return m(u)}function b(e,t){var r=0,i=t.length>0,s=e.length>0,a=function(o,a,l,c,u){var d,p,h,f=[],m=0,y="0",v=o&&[],b=null!=u,w=E,_=o||s&&S.find.TAG("*",u&&a.parentNode||a),x=$+=null==w?1:Math.random()||.1;for(b&&(E=a!==R&&a,C=r);null!=(d=_[y]);y++){if(s&&d){for(p=0;h=e[p++];)if(h(d,a,l)){c.push(d);break}b&&($=x,C=++r)}i&&((d=!h&&d)&&m--,o&&v.push(d))}if(m+=y,i&&y!==m){for(p=0;h=t[p++];)h(v,f,a,l);if(o){if(m>0)for(;y--;)v[y]||f[y]||(f[y]=K.call(c));f=g(f)}et.apply(c,f),b&&!o&&f.length>0&&m+t.length>1&&n.uniqueSort(c)}return b&&($=x,E=w),v};return i?o(a):a}function w(e,t,r){for(var o=0,i=t.length;i>o;o++)n(e,t[o],r);return r}function _(e,t,n,r){var o,i,s,a,l,c=p(e);if(!r&&1===c.length){if(i=c[0]=c[0].slice(0),i.length>2&&"ID"===(s=i[0]).type&&T.getById&&9===t.nodeType&&L&&S.relative[i[1].type]){if(t=(S.find.ID(s.matches[0].replace(Tt,Ct),t)||[])[0],!t)return n;e=e.slice(i.shift().value.length)}for(o=yt.needsContext.test(e)?0:i.length;o--&&(s=i[o],!S.relative[a=s.type]);)if((l=S.find[a])&&(r=l(s.matches[0].replace(Tt,Ct),ht.test(i[0].type)&&t.parentNode||t))){if(i.splice(o,1),e=r.length&&h(i),!e)return et.apply(n,r),n;break}}return q(e,c)(r,t,!L,n,ht.test(e)),n}var x,T,C,S,k,j,q,E,A,N,R,O,L,M,D,I,H,P="sizzle"+-new Date,V=e.document,$=0,F=0,B=r(),U=r(),W=r(),z=!1,X=function(e,t){return e===t?(z=!0,0):0},G=typeof t,J=1<<31,Y={}.hasOwnProperty,Q=[],K=Q.pop,Z=Q.push,et=Q.push,tt=Q.slice,nt=Q.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},rt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=it.replace("w","w#"),at="\\["+ot+"*("+it+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+ot+"*\\]",lt=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ct=RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),dt=RegExp("^"+ot+"*,"+ot+"*"),pt=RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),ht=RegExp(ot+"*[+~]"),ft=RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),mt=RegExp(lt),gt=RegExp("^"+st+"$"),yt={ID:RegExp("^#("+it+")"),CLASS:RegExp("^\\.("+it+")"),TAG:RegExp("^("+it.replace("w","w*")+")"),ATTR:RegExp("^"+at),PSEUDO:RegExp("^"+lt),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:RegExp("^(?:"+rt+")$","i"),needsContext:RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,xt=/'|\\/g,Tt=RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),Ct=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{et.apply(Q=tt.call(V.childNodes),V.childNodes),Q[V.childNodes.length].nodeType}catch(St){et={apply:Q.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}j=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=n.support={},N=n.setDocument=function(e){var n=e?e.ownerDocument||e:V,r=n.defaultView;return n!==R&&9===n.nodeType&&n.documentElement?(R=n,O=n.documentElement,L=!j(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){N()}),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=i(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),T.getById=i(function(e){return O.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),T.getById?(S.find.ID=function(e,t){if(typeof t.getElementById!==G&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(Tt,Ct);return function(e){return e.getAttribute("id")===t}}):(delete S.find.ID,S.filter.ID=function(e){var t=e.replace(Tt,Ct);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=T.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},S.find.CLASS=T.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==G&&L?n.getElementsByClassName(e):t},D=[],M=[],(T.qsa=vt.test(n.querySelectorAll))&&(i(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||M.push("\\["+ot+"*(?:value|"+rt+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+ot+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=vt.test(I=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){T.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),D.push("!=",lt)}),M=M.length&&RegExp(M.join("|")),D=D.length&&RegExp(D.join("|")),H=vt.test(O.contains)||O.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},X=O.compareDocumentPosition?function(e,t){if(e===t)return z=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!T.sortDetached&&t.compareDocumentPosition(e)===r?e===n||H(V,e)?-1:t===n||H(V,t)?1:A?nt.call(A,e)-nt.call(A,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,o=0,i=e.parentNode,s=t.parentNode,l=[e],c=[t];if(e===t)return z=!0,0;if(!i||!s)return e===n?-1:t===n?1:i?-1:s?1:A?nt.call(A,e)-nt.call(A,t):0;if(i===s)return a(e,t);for(r=e;r=r.parentNode;)l.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===V?-1:c[o]===V?1:0},n):R},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&N(e),t=t.replace(ft,"='$1']"),!(!T.matchesSelector||!L||D&&D.test(t)||M&&M.test(t)))try{var r=I.call(e,t);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(o){}return n(t,R,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==R&&N(e),H(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==R&&N(e);var r=S.attrHandle[n.toLowerCase()],o=r&&Y.call(S.attrHandle,n.toLowerCase())?r(e,n,!L):t;return o===t?T.attributes||!L?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},n.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],r=0,o=0;if(z=!T.detectDuplicates,A=!T.sortStable&&e.slice(0),e.sort(X),z){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return e},k=n.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r];r++)n+=k(t);return n},S=n.selectors={cacheLength:50,createPseudo:o,match:yt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Tt,Ct),e[3]=(e[4]||e[5]||"").replace(Tt,Ct),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return yt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&mt.test(r)&&(n=p(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Tt,Ct).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=RegExp("(^|"+ot+")"+e+"("+ot+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(o){var i=n.attr(o,e);return null==i?"!="===t:t?(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i+" ").indexOf(r)>-1:"|="===t?i===r||i.slice(0,r.length+1)===r+"-":!1):!0
}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,m=i!==s?"nextSibling":"previousSibling",g=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(g){if(i){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(u=g[P]||(g[P]={}),c=u[e]||[],h=c[0]===$&&c[1],p=c[0]===$&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[$,h,p];break}}else if(v&&(c=(t[P]||(t[P]={}))[e])&&c[0]===$)p=c[1];else for(;(d=++h&&d&&d[m]||(p=h=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++p||(v&&((d[P]||(d[P]={}))[e]=[$,p]),d!==t)););return p-=o,p===r||0===p%r&&p/r>=0}}},PSEUDO:function(e,t){var r,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return i[P]?i(t):i.length>1?(r=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)r=nt.call(e,o[s]),e[r]=!(n[r]=o[s])}):function(e){return i(e,0,r)}):i}},pseudos:{not:o(function(e){var t=[],n=[],r=q(e.replace(ct,"$1"));return r[P]?o(function(e,t,n,o){for(var i,s=r(e,null,o,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,o,i){return t[0]=e,r(t,null,i,n),!n.pop()}}),has:o(function(e){return function(t){return n(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:o(function(e){return gt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Tt,Ct).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},S.pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);d.prototype=S.filters=S.pseudos,S.setFilters=new d,q=n.compile=function(e,t){var n,r=[],o=[],i=W[e+" "];if(!i){for(t||(t=p(e)),n=t.length;n--;)i=v(t[n]),i[P]?r.push(i):o.push(i);i=W(e,b(o,r))}return i},T.sortStable=P.split("").sort(X).join("")===P,T.detectDuplicates=z,N(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||s(rt,function(e,n,r){var o;return r?t:(o=e.getAttributeNode(n))&&o.specified?o.value:e[n]===!0?n.toLowerCase():null}),ut.find=n,ut.expr=n.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=n.uniqueSort,ut.text=n.getText,ut.isXMLDoc=n.isXML,ut.contains=n.contains}(e);var St={};ut.Callbacks=function(e){e="string"==typeof e?St[e]||r(e):ut.extend({},e);var n,o,i,s,a,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,i=!0,a=l||0,l=0,s=c.length,n=!0;c&&s>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:p.disable())},p={add:function(){if(c){var t=c.length;(function r(t){ut.each(t,function(t,n){var o=ut.type(n);"function"===o?e.unique&&p.has(n)||c.push(n):n&&n.length&&"string"!==o&&r(n)})})(arguments),n?s=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ut.each(arguments,function(e,t){for(var r;(r=ut.inArray(t,c,r))>-1;)c.splice(r,1),n&&(s>=r&&s--,a>=r&&a--)}),this},has:function(e){return e?ut.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||p.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},ut.extend({Deferred:function(e){var t=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ut.Deferred(function(n){ut.each(t,function(t,i){var s=i[0],a=ut.isFunction(e[t])&&e[t];o[i[1]](function(){var e=a&&a.apply(this,arguments);e&&ut.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ut.extend(e,r):r}},o={};return r.pipe=r.then,ut.each(t,function(e,i){var s=i[2],a=i[3];r[i[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t,n,r,o=0,i=it.call(arguments),s=i.length,a=1!==s||e&&ut.isFunction(e.promise)?s:0,l=1===a?e:ut.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?it.call(arguments):o,r===t?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(t=Array(s),n=Array(s),r=Array(s);s>o;o++)i[o]&&ut.isFunction(i[o].promise)?i[o].promise().done(c(o,r,i)).fail(l.reject).progress(c(o,n,t)):--a;return a||l.resolveWith(r,i),l.promise()}}),ut.support=function(t){var n,r,o,i,s,a,l,c,u,d=Y.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],r=d.getElementsByTagName("a")[0],!r||!r.style||!n.length)return t;i=Y.createElement("select"),a=i.appendChild(Y.createElement("option")),o=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized="/a"===r.getAttribute("href"),t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!Y.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(p){t.deleteExpando=!1}o=Y.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),s=Y.createDocumentFragment(),s.appendChild(o),t.appendChecked=o.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ut(t))break;return t.ownLast="0"!==u,ut(function(){var n,r,o,i="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=Y.getElementsByTagName("body")[0];s&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ut.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(Y.createElement("div")),r.style.cssText=d.style.cssText=i,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==G&&(d.innerHTML="",d.style.cssText=i+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=o=r=null)}),n=i=s=a=r=o=null,t}({});var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,jt=/([A-Z])/g;ut.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ut.cache[e[ut.expando]]:e[ut.expando],!!e&&!a(e)},data:function(e,t,n){return o(e,t,n)},removeData:function(e,t){return i(e,t)},_data:function(e,t,n){return o(e,t,n,!0)},_removeData:function(e,t){return i(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ut.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ut.fn.extend({data:function(e,n){var r,o,i=null,a=0,l=this[0];if(e===t){if(this.length&&(i=ut.data(l),1===l.nodeType&&!ut._data(l,"parsedAttrs"))){for(r=l.attributes;r.length>a;a++)o=r[a].name,0===o.indexOf("data-")&&(o=ut.camelCase(o.slice(5)),s(l,o,i[o]));ut._data(l,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):l?s(l,e,ut.data(l,e)):null},removeData:function(e){return this.each(function(){ut.removeData(this,e)})}}),ut.extend({queue:function(e,n,r){var o;return e?(n=(n||"fx")+"queue",o=ut._data(e,n),r&&(!o||ut.isArray(r)?o=ut._data(e,n,ut.makeArray(r)):o.push(r)),o||[]):t},dequeue:function(e,t){t=t||"fx";var n=ut.queue(e,t),r=n.length,o=n.shift(),i=ut._queueHooks(e,t),s=function(){ut.dequeue(e,t)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===t&&n.unshift("inprogress"),delete i.stop,o.call(e,s,i)),!r&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ut._data(e,n)||ut._data(e,n,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(e,t+"queue"),ut._removeData(e,n)})})}}),ut.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?ut.queue(this[0],e):n===t?this:this.each(function(){var t=ut.queue(this,e,n);ut._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ut.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ut.dequeue(this,e)})},delay:function(e,t){return e=ut.fx?ut.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,o=1,i=ut.Deferred(),s=this,a=this.length,l=function(){--o||i.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)r=ut._data(s[a],e+"queueHooks"),r&&r.empty&&(o++,r.empty.add(l));return l(),i.promise(n)}});var qt,Et,At=/[\t\r\n\f]/g,Nt=/\r/g,Rt=/^(?:input|select|textarea|button|object)$/i,Ot=/^(?:a|area)$/i,Lt=/^(?:checked|selected)$/i,Mt=ut.support.getSetAttribute,Dt=ut.support.input;ut.fn.extend({attr:function(e,t){return ut.access(this,ut.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ut.removeAttr(this,e)})},prop:function(e,t){return ut.access(this,ut.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ut.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,o,i,s=0,a=this.length,l="string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(i=0;o=t[i++];)0>r.indexOf(" "+o+" ")&&(r+=o+" ");n.className=ut.trim(r)}return this},removeClass:function(e){var t,n,r,o,i,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ut.isFunction(e))return this.each(function(t){ut(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(pt)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(i=0;o=t[i++];)for(;r.indexOf(" "+o+" ")>=0;)r=r.replace(" "+o+" "," ");n.className=e?ut.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ut.isFunction(e)?this.each(function(n){ut(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,o=ut(this),i=e.match(pt)||[];t=i[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(n===G||"boolean"===n)&&(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,o,i=this[0];{if(arguments.length)return o=ut.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=o?e.call(this,n,ut(this).val()):e,null==i?i="":"number"==typeof i?i+="":ut.isArray(i)&&(i=ut.map(i,function(e){return null==e?"":e+""})),r=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,i,"value")!==t||(this.value=i))});if(i)return r=ut.valHooks[i.type]||ut.valHooks[i.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(i,"value"))!==t?n:(n=i.value,"string"==typeof n?n.replace(Nt,""):null==n?"":n)}}}),ut.extend({valHooks:{option:{get:function(e){var t=ut.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,r=e.options,o=e.selectedIndex,i="select-one"===e.type||0>o,s=i?null:[],a=i?o+1:r.length,l=0>o?a:i?o:0;a>l;l++)if(n=r[l],!(!n.selected&&l!==o||(ut.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ut.nodeName(n.parentNode,"optgroup"))){if(t=ut(n).val(),i)return t;s.push(t)}return s},set:function(e,t){for(var n,r,o=e.options,i=ut.makeArray(t),s=o.length;s--;)r=o[s],(r.selected=ut.inArray(ut(r).val(),i)>=0)&&(n=!0);return n||(e.selectedIndex=-1),i}}},attr:function(e,n,r){var o,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?ut.prop(e,n,r):(1===s&&ut.isXMLDoc(e)||(n=n.toLowerCase(),o=ut.attrHooks[n]||(ut.expr.match.bool.test(n)?Et:qt)),r===t?o&&"get"in o&&null!==(i=o.get(e,n))?i:(i=ut.find.attr(e,n),null==i?t:i):null!==r?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:(e.setAttribute(n,r+""),r):(ut.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,o=0,i=t&&t.match(pt);if(i&&1===e.nodeType)for(;n=i[o++];)r=ut.propFix[n]||n,ut.expr.match.bool.test(n)?Dt&&Mt||!Lt.test(n)?e[r]=!1:e[ut.camelCase("default-"+n)]=e[r]=!1:ut.attr(e,n,""),e.removeAttribute(Mt?n:r)},attrHooks:{type:{set:function(e,t){if(!ut.support.radioValue&&"radio"===t&&ut.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var o,i,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ut.isXMLDoc(e),s&&(n=ut.propFix[n]||n,i=ut.propHooks[n]),r!==t?i&&"set"in i&&(o=i.set(e,r,n))!==t?o:e[n]=r:i&&"get"in i&&null!==(o=i.get(e,n))?o:e[n]},propHooks:{tabIndex:{get:function(e){var t=ut.find.attr(e,"tabindex");return t?parseInt(t,10):Rt.test(e.nodeName)||Ot.test(e.nodeName)&&e.href?0:-1}}}}),Et={set:function(e,t,n){return t===!1?ut.removeAttr(e,n):Dt&&Mt||!Lt.test(n)?e.setAttribute(!Mt&&ut.propFix[n]||n,n):e[ut.camelCase("default-"+n)]=e[n]=!0,n}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(e,n){var r=ut.expr.attrHandle[n]||ut.find.attr;ut.expr.attrHandle[n]=Dt&&Mt||!Lt.test(n)?function(e,n,o){var i=ut.expr.attrHandle[n],s=o?t:(ut.expr.attrHandle[n]=t)!=r(e,n,o)?n.toLowerCase():null;return ut.expr.attrHandle[n]=i,s}:function(e,n,r){return r?t:e[ut.camelCase("default-"+n)]?n.toLowerCase():null}}),Dt&&Mt||(ut.attrHooks.value={set:function(e,n,r){return ut.nodeName(e,"input")?(e.defaultValue=n,t):qt&&qt.set(e,n,r)}}),Mt||(qt={set:function(e,n,r){var o=e.getAttributeNode(r);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(r)),o.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},ut.expr.attrHandle.id=ut.expr.attrHandle.name=ut.expr.attrHandle.coords=function(e,n,r){var o;return r?t:(o=e.getAttributeNode(n))&&""!==o.value?o.value:null},ut.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:qt.set},ut.attrHooks.contenteditable={set:function(e,t,n){qt.set(e,""===t?!1:t,n)}},ut.each(["width","height"],function(e,n){ut.attrHooks[n]={set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}}})),ut.support.hrefNormalized||ut.each(["href","src"],function(e,t){ut.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ut.support.style||(ut.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ut.support.optSelected||(ut.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),ut.support.enctype||(ut.propFix.enctype="encoding"),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(e,n){return ut.isArray(n)?e.checked=ut.inArray(ut(e).val(),n)>=0:t}},ut.support.checkOn||(ut.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var It=/^(?:input|select|textarea)$/i,Ht=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Vt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(e,n,r,o,i){var s,a,l,c,u,d,p,h,f,m,g,y=ut._data(e);if(y){for(r.handler&&(c=r,r=c.handler,i=c.selector),r.guid||(r.guid=ut.guid++),(a=y.events)||(a=y.events={}),(d=y.handle)||(d=y.handle=function(e){return typeof ut===G||e&&ut.event.triggered===e.type?t:ut.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(pt)||[""],l=n.length;l--;)s=$t.exec(n[l])||[],f=g=s[1],m=(s[2]||"").split(".").sort(),f&&(u=ut.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=ut.event.special[f]||{},p=ut.extend({type:f,origType:g,data:o,handler:r,guid:r.guid,selector:i,needsContext:i&&ut.expr.match.needsContext.test(i),namespace:m.join(".")},c),(h=a[f])||(h=a[f]=[],h.delegateCount=0,u.setup&&u.setup.call(e,o,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),i?h.splice(h.delegateCount++,0,p):h.push(p),ut.event.global[f]=!0);e=null}},remove:function(e,t,n,r,o){var i,s,a,l,c,u,d,p,h,f,m,g=ut.hasData(e)&&ut._data(e);if(g&&(u=g.events)){for(t=(t||"").match(pt)||[""],c=t.length;c--;)if(a=$t.exec(t[c])||[],h=m=a[1],f=(a[2]||"").split(".").sort(),h){for(d=ut.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,p=u[h]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=p.length;i--;)s=p[i],!o&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(p.splice(i,1),s.selector&&p.delegateCount--,d.remove&&d.remove.call(e,s));l&&!p.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ut.removeEvent(e,h,g.handle),delete u[h])}else for(h in u)ut.event.remove(e,h+t[c],n,r,!0);ut.isEmptyObject(u)&&(delete g.handle,ut._removeData(e,"events"))}},trigger:function(n,r,o,i){var s,a,l,c,u,d,p,h=[o||Y],f=lt.call(n,"type")?n.type:n,m=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=o=o||Y,3!==o.nodeType&&8!==o.nodeType&&!Vt.test(f+ut.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,n=n[ut.expando]?n:new ut.Event(f,"object"==typeof n&&n),n.isTrigger=i?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=o),r=null==r?[n]:ut.makeArray(r,[n]),u=ut.event.special[f]||{},i||!u.trigger||u.trigger.apply(o,r)!==!1)){if(!i&&!u.noBubble&&!ut.isWindow(o)){for(c=u.delegateType||f,Vt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)h.push(l),d=l;d===(o.ownerDocument||Y)&&h.push(d.defaultView||d.parentWindow||e)}for(p=0;(l=h[p++])&&!n.isPropagationStopped();)n.type=p>1?c:u.bindType||f,s=(ut._data(l,"events")||{})[n.type]&&ut._data(l,"handle"),s&&s.apply(l,r),s=a&&l[a],s&&ut.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=f,!i&&!n.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),r)===!1)&&ut.acceptData(o)&&a&&o[f]&&!ut.isWindow(o)){d=o[a],d&&(o[a]=null),ut.event.triggered=f;try{o[f]()}catch(g){}ut.event.triggered=t,d&&(o[a]=d)}return n.result}},dispatch:function(e){e=ut.event.fix(e);var n,r,o,i,s,a=[],l=it.call(arguments),c=(ut._data(this,"events")||{})[e.type]||[],u=ut.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ut.event.handlers.call(this,e,c),n=0;(i=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,s=0;(o=i.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((ut.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,o,i,s,a=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(i=[],s=0;l>s;s++)o=n[s],r=o.selector+" ",i[r]===t&&(i[r]=o.needsContext?ut(r,this).index(c)>=0:ut.find(r,this,null,[c]).length),i[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[ut.expando])return e;var t,n,r,o=e.type,i=e,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=Pt.test(o)?this.mouseHooks:Ht.test(o)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new ut.Event(i),t=r.length;t--;)n=r[t],e[n]=i[n];return e.target||(e.target=i.srcElement||Y),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,i):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,o,i,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(o=e.target.ownerDocument||Y,i=o.documentElement,r=o.body,e.pageX=n.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ut.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var o=ut.extend(new ut.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ut.event.trigger(o,null,t):ut.event.dispatch.call(t,o),o.isDefaultPrevented()&&n.preventDefault()}},ut.removeEvent=Y.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===G&&(e[r]=null),e.detachEvent(r,n))},ut.Event=function(e,n){return this instanceof ut.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,n&&ut.extend(this,n),this.timeStamp=e&&e.timeStamp||ut.now(),this[ut.expando]=!0,t):new ut.Event(e,n)},ut.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ut.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,o=e.relatedTarget,i=e.handleObj;return(!o||o!==r&&!ut.contains(r,o))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),ut.support.submitBubbles||(ut.event.special.submit={setup:function(){return ut.nodeName(this,"form")?!1:(ut.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=ut.nodeName(n,"input")||ut.nodeName(n,"button")?n.form:t;r&&!ut._data(r,"submitBubbles")&&(ut.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),ut._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ut.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ut.nodeName(this,"form")?!1:(ut.event.remove(this,"._submit"),t)}}),ut.support.changeBubbles||(ut.event.special.change={setup:function(){return It.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ut.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,e,!0)})),!1):(ut.event.add(this,"beforeactivate._change",function(e){var t=e.target;It.test(t.nodeName)&&!ut._data(t,"changeBubbles")&&(ut.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ut.event.simulate("change",this.parentNode,e,!0)}),ut._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ut.event.remove(this,"._change"),!It.test(this.nodeName)}}),ut.support.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){ut.event.simulate(t,e.target,ut.event.fix(e),!0)};ut.event.special[t]={setup:function(){0===n++&&Y.addEventListener(e,r,!0)},teardown:function(){0===--n&&Y.removeEventListener(e,r,!0)}}}),ut.fn.extend({on:function(e,n,r,o,i){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(s in e)this.on(s,n,r,e[s],i);return this}if(null==r&&null==o?(o=n,r=n=t):null==o&&("string"==typeof n?(o=r,r=t):(o=r,r=n,n=t)),o===!1)o=c;else if(!o)return this;return 1===i&&(a=o,o=function(e){return ut().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ut.guid++)),this.each(function(){ut.event.add(this,e,o,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var o,i;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ut(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(i in e)this.off(i,n,e[i]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=c),this.each(function(){ut.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){ut.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?ut.event.trigger(e,n,r,!0):t}});var Ft=/^.[^:#\[\.,]*$/,Bt=/^(?:parents|prev(?:Until|All))/,Ut=ut.expr.match.needsContext,Wt={children:!0,contents:!0,next:!0,prev:!0};ut.fn.extend({find:function(e){var t,n=[],r=this,o=r.length;if("string"!=typeof e)return this.pushStack(ut(e).filter(function(){for(t=0;o>t;t++)if(ut.contains(r[t],this))return!0}));for(t=0;o>t;t++)ut.find(e,r[t],n);return n=this.pushStack(o>1?ut.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ut(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ut.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(p(this,e||[],!0))},filter:function(e){return this.pushStack(p(this,e||[],!1))},is:function(e){return!!p(this,"string"==typeof e&&Ut.test(e)?ut(e):e||[],!1).length},closest:function(e,t){for(var n,r=0,o=this.length,i=[],s=Ut.test(e)||"string"!=typeof e?ut(e,t||this.context):0;o>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&ut.find.matchesSelector(n,e))){n=i.push(n);break}return this.pushStack(i.length>1?ut.unique(i):i)},index:function(e){return e?"string"==typeof e?ut.inArray(this[0],ut(e)):ut.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ut(e,t):ut.makeArray(e&&e.nodeType?[e]:e),r=ut.merge(this.get(),n);return this.pushStack(ut.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ut.each({parent:function(e){var t=e.parentNode;
return t&&11!==t.nodeType?t:null},parents:function(e){return ut.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ut.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ut.dir(e,"nextSibling")},prevAll:function(e){return ut.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ut.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ut.dir(e,"previousSibling",n)},siblings:function(e){return ut.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ut.sibling(e.firstChild)},contents:function(e){return ut.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ut.merge([],e.childNodes)}},function(e,t){ut.fn[e]=function(n,r){var o=ut.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=ut.filter(r,o)),this.length>1&&(Wt[e]||(o=ut.unique(o)),Bt.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ut.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ut.find.matchesSelector(r,e)?[r]:[]:ut.find.matches(e,ut.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,r){for(var o=[],i=e[n];i&&9!==i.nodeType&&(r===t||1!==i.nodeType||!ut(i).is(r));)1===i.nodeType&&o.push(i),i=i[n];return o},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var zt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xt=/ jQuery\d+="(?:null|\d+)"/g,Gt=RegExp("<(?:"+zt+")[\\s/>]","i"),Jt=/^\s+/,Yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qt=/<([\w:]+)/,Kt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(Y),cn=ln.appendChild(Y.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ut.fn.extend({text:function(e){return ut.access(this,function(e){return e===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ut.filter(e,this):this,o=0;null!=(n=r[o]);o++)t||1!==n.nodeType||ut.cleanData(w(n)),n.parentNode&&(t&&ut.contains(n.ownerDocument,n)&&y(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ut.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ut.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ut.clone(this,e,t)})},html:function(e){return ut.access(this,function(e){var n=this[0]||{},r=0,o=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Xt,""):t;if(!("string"!=typeof e||en.test(e)||!ut.support.htmlSerialize&&Gt.test(e)||!ut.support.leadingWhitespace&&Jt.test(e)||an[(Qt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Yt,"<$1></$2>");try{for(;o>r;r++)n=this[r]||{},1===n.nodeType&&(ut.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(i){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ut.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],o=e[t++];o&&(r&&r.parentNode!==o&&(r=this.nextSibling),ut(this).remove(),o.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=rt.apply([],e);var r,o,i,s,a,l,c=0,u=this.length,d=this,p=u-1,h=e[0],f=ut.isFunction(h);if(f||!(1>=u||"string"!=typeof h||ut.support.checkClone)&&nn.test(h))return this.each(function(r){var o=d.eq(r);f&&(e[0]=h.call(this,r,o.html())),o.domManip(e,t,n)});if(u&&(l=ut.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=l.firstChild,1===l.childNodes.length&&(l=r),r)){for(s=ut.map(w(l,"script"),m),i=s.length;u>c;c++)o=l,c!==p&&(o=ut.clone(o,!0,!0),i&&ut.merge(s,w(o,"script"))),t.call(this[c],o,c);if(i)for(a=s[s.length-1].ownerDocument,ut.map(s,g),c=0;i>c;c++)o=s[c],rn.test(o.type||"")&&!ut._data(o,"globalEval")&&ut.contains(a,o)&&(o.src?ut._evalUrl(o.src):ut.globalEval((o.text||o.textContent||o.innerHTML||"").replace(sn,"")));l=r=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ut.fn[e]=function(e){for(var n,r=0,o=[],i=ut(e),s=i.length-1;s>=r;r++)n=r===s?this:this.clone(!0),ut(i[r])[t](n),ot.apply(o,n.get());return this.pushStack(o)}}),ut.extend({clone:function(e,t,n){var r,o,i,s,a,l=ut.contains(e.ownerDocument,e);if(ut.support.html5Clone||ut.isXMLDoc(e)||!Gt.test("<"+e.nodeName+">")?i=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(i=cn.firstChild)),!(ut.support.noCloneEvent&&ut.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(r=w(i),a=w(e),s=0;null!=(o=a[s]);++s)r[s]&&b(o,r[s]);if(t)if(n)for(a=a||w(e),r=r||w(i),s=0;null!=(o=a[s]);s++)v(o,r[s]);else v(e,i);return r=w(i,"script"),r.length>0&&y(r,!l&&w(e,"script")),r=a=o=null,i},buildFragment:function(e,t,n,r){for(var o,i,s,a,l,c,u,d=e.length,p=h(t),f=[],m=0;d>m;m++)if(i=e[m],i||0===i)if("object"===ut.type(i))ut.merge(f,i.nodeType?[i]:i);else if(Zt.test(i)){for(a=a||p.appendChild(t.createElement("div")),l=(Qt.exec(i)||["",""])[1].toLowerCase(),u=an[l]||an._default,a.innerHTML=u[1]+i.replace(Yt,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ut.support.leadingWhitespace&&Jt.test(i)&&f.push(t.createTextNode(Jt.exec(i)[0])),!ut.support.tbody)for(i="table"!==l||Kt.test(i)?"<table>"!==u[1]||Kt.test(i)?0:a:a.firstChild,o=i&&i.childNodes.length;o--;)ut.nodeName(c=i.childNodes[o],"tbody")&&!c.childNodes.length&&i.removeChild(c);for(ut.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else f.push(t.createTextNode(i));for(a&&p.removeChild(a),ut.support.appendChecked||ut.grep(w(f,"input"),_),m=0;i=f[m++];)if((!r||-1===ut.inArray(i,r))&&(s=ut.contains(i.ownerDocument,i),a=w(p.appendChild(i),"script"),s&&y(a),n))for(o=0;i=a[o++];)rn.test(i.type||"")&&n.push(i);return a=null,p},cleanData:function(e,t){for(var n,r,o,i,s=0,a=ut.expando,l=ut.cache,c=ut.support.deleteExpando,u=ut.event.special;null!=(n=e[s]);s++)if((t||ut.acceptData(n))&&(o=n[a],i=o&&l[o])){if(i.events)for(r in i.events)u[r]?ut.event.remove(n,r):ut.removeEvent(n,r,i.handle);l[o]&&(delete l[o],c?delete n[a]:typeof n.removeAttribute!==G?n.removeAttribute(a):n[a]=null,tt.push(o))}},_evalUrl:function(e){return ut.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ut.fn.extend({wrapAll:function(e){if(ut.isFunction(e))return this.each(function(t){ut(this).wrapAll(e.call(this,t))});if(this[0]){var t=ut(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ut.isFunction(e)?this.each(function(t){ut(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ut(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ut.isFunction(e);return this.each(function(n){ut(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}});var un,dn,pn,hn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,yn=/^margin/,vn=RegExp("^("+dt+")(.*)$","i"),bn=RegExp("^("+dt+")(?!px)[a-z%]+$","i"),wn=RegExp("^([+-])=("+dt+")","i"),_n={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Tn={letterSpacing:0,fontWeight:400},Cn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];ut.fn.extend({css:function(e,n){return ut.access(this,function(e,n,r){var o,i,s={},a=0;if(ut.isArray(n)){for(i=dn(e),o=n.length;o>a;a++)s[n[a]]=ut.css(e,n[a],!1,i);return s}return r!==t?ut.style(e,n,r):ut.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){T(this)?ut(this).show():ut(this).hide()})}}),ut.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=pn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,a,l=ut.camelCase(n),c=e.style;if(n=ut.cssProps[l]||(ut.cssProps[l]=x(c,l)),a=ut.cssHooks[n]||ut.cssHooks[l],r===t)return a&&"get"in a&&(i=a.get(e,!1,o))!==t?i:c[n];if(s=typeof r,"string"===s&&(i=wn.exec(r))&&(r=(i[1]+1)*i[2]+parseFloat(ut.css(e,n)),s="number"),!(null==r||"number"===s&&isNaN(r)||("number"!==s||ut.cssNumber[l]||(r+="px"),ut.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),a&&"set"in a&&(r=a.set(e,r,o))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,o){var i,s,a,l=ut.camelCase(n);return n=ut.cssProps[l]||(ut.cssProps[l]=x(e.style,l)),a=ut.cssHooks[n]||ut.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,r)),s===t&&(s=pn(e,n,o)),"normal"===s&&n in Tn&&(s=Tn[n]),""===r||r?(i=parseFloat(s),r===!0||ut.isNumeric(i)?i||0:s):s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},pn=function(e,n,r){var o,i,s,a=r||dn(e),l=a?a.getPropertyValue(n)||a[n]:t,c=e.style;return a&&(""!==l||ut.contains(e.ownerDocument,e)||(l=ut.style(e,n)),bn.test(l)&&yn.test(n)&&(o=c.width,i=c.minWidth,s=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=i,c.maxWidth=s)),l}):Y.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},pn=function(e,n,r){var o,i,s,a=r||dn(e),l=a?a[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!mn.test(n)&&(o=c.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=o,s&&(i.left=s)),""===l?"auto":l}),ut.each(["height","width"],function(e,n){ut.cssHooks[n]={get:function(e,r,o){return r?0===e.offsetWidth&&gn.test(ut.css(e,"display"))?ut.swap(e,xn,function(){return j(e,n,o)}):j(e,n,o):t},set:function(e,t,r){var o=r&&dn(e);return S(e,t,r?k(e,n,r,ut.support.boxSizing&&"border-box"===ut.css(e,"boxSizing",!1,o),o):0)}}}),ut.support.opacity||(ut.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,o=ut.isNumeric(t)?"alpha(opacity="+100*t+")":"",i=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ut.trim(i.replace(hn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=hn.test(i)?i.replace(hn,o):i+" "+o)}}),ut(function(){ut.support.reliableMarginRight||(ut.cssHooks.marginRight={get:function(e,n){return n?ut.swap(e,{display:"inline-block"},pn,[e,"marginRight"]):t}}),!ut.support.pixelPosition&&ut.fn.position&&ut.each(["top","left"],function(e,n){ut.cssHooks[n]={get:function(e,r){return r?(r=pn(e,n),bn.test(r)?ut(e).position()[n]+"px":r):t}}})}),ut.expr&&ut.expr.filters&&(ut.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ut.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ut.css(e,"display"))},ut.expr.filters.visible=function(e){return!ut.expr.filters.hidden(e)}),ut.each({margin:"",padding:"",border:"Width"},function(e,t){ut.cssHooks[e+t]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];4>r;r++)o[e+Cn[r]+t]=i[r]||i[r-2]||i[0];return o}},yn.test(e)||(ut.cssHooks[e+t].set=S)});var kn=/%20/g,jn=/\[\]$/,qn=/\r?\n/g,En=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ut.prop(this,"elements");return e?ut.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ut(this).is(":disabled")&&An.test(this.nodeName)&&!En.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ut(this).val();return null==n?null:ut.isArray(n)?ut.map(n,function(e){return{name:t.name,value:e.replace(qn,"\r\n")}}):{name:t.name,value:n.replace(qn,"\r\n")}}).get()}}),ut.param=function(e,n){var r,o=[],i=function(e,t){t=ut.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(e)||e.jquery&&!ut.isPlainObject(e))ut.each(e,function(){i(this.name,this.value)});else for(r in e)A(r,e[r],n,i);return o.join("&").replace(kn,"+")},ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ut.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ut.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Nn,Rn,On=ut.now(),Ln=/\?/,Mn=/#.*$/,Dn=/([?&])_=[^&]*/,In=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,Vn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=ut.fn.load,Bn={},Un={},Wn="*/".concat("*");try{Rn=J.href}catch(zn){Rn=Y.createElement("a"),Rn.href="",Rn=Rn.href}Nn=$n.exec(Rn.toLowerCase())||[],ut.fn.load=function(e,n,r){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);var o,i,s,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ut.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&ut.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){i=arguments,a.html(o?ut("<div>").append(ut.parseHTML(e)).find(o):e)}).complete(r&&function(e,t){a.each(r,i||[e.responseText,t,e])}),this},ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ut.fn[t]=function(e){return this.on(t,e)}}),ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:Hn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,ut.ajaxSettings),t):O(ut.ajaxSettings,e)},ajaxPrefilter:N(Bn),ajaxTransport:N(Un),ajax:function(e,n){function r(e,n,r,o){var i,d,v,b,_,T=n;2!==w&&(w=2,l&&clearTimeout(l),u=t,a=o||"",x.readyState=e>0?4:0,i=e>=200&&300>e||304===e,r&&(b=L(p,x,r)),b=M(p,b,x,i),i?(p.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ut.lastModified[s]=_),_=x.getResponseHeader("etag"),_&&(ut.etag[s]=_)),204===e||"HEAD"===p.type?T="nocontent":304===e?T="notmodified":(T=b.state,d=b.data,v=b.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),x.status=e,x.statusText=(n||T)+"",i?m.resolveWith(h,[d,T,x]):m.rejectWith(h,[x,T,v]),x.statusCode(y),y=t,c&&f.trigger(i?"ajaxSuccess":"ajaxError",[x,p,i?d:v]),g.fireWith(h,[x,T]),c&&(f.trigger("ajaxComplete",[x,p]),--ut.active||ut.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var o,i,s,a,l,c,u,d,p=ut.ajaxSetup({},n),h=p.context||p,f=p.context&&(h.nodeType||h.jquery)?ut(h):ut.event,m=ut.Deferred(),g=ut.Callbacks("once memory"),y=p.statusCode||{},v={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=In.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)y[t]=[y[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),r(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||Rn)+"").replace(Mn,"").replace(Vn,Nn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=ut.trim(p.dataType||"*").toLowerCase().match(pt)||[""],null==p.crossDomain&&(o=$n.exec(p.url.toLowerCase()),p.crossDomain=!(!o||o[1]===Nn[1]&&o[2]===Nn[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ut.param(p.data,p.traditional)),R(Bn,p,n,x),2===w)return x;c=p.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pn.test(p.type),s=p.url,p.hasContent||(p.data&&(s=p.url+=(Ln.test(s)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Dn.test(s)?s.replace(Dn,"$1_="+On++):s+(Ln.test(s)?"&":"?")+"_="+On++)),p.ifModified&&(ut.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ut.lastModified[s]),ut.etag[s]&&x.setRequestHeader("If-None-Match",ut.etag[s])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",p.contentType),x.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Wn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)x.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(h,x,p)===!1||2===w))return x.abort();_="abort";for(i in{success:1,error:1,complete:1})x[i](p[i]);if(u=R(Un,p,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},p.timeout));try{w=1,u.send(v,r)}catch(T){if(!(2>w))throw T;r(-1,T)}}else r(-1,"No Transport");return x},getJSON:function(e,t,n){return ut.get(e,t,n,"json")},getScript:function(e,n){return ut.get(e,t,n,"script")}}),ut.each(["get","post"],function(e,n){ut[n]=function(e,r,o,i){return ut.isFunction(r)&&(i=i||o,o=r,r=t),ut.ajax({url:e,type:n,dataType:i,data:r,success:o})}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ut.globalEval(e),e}}}),ut.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ut.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=Y.head||ut("head")[0]||Y.documentElement;return{send:function(t,o){n=Y.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||o(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Xn=[],Gn=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xn.pop()||ut.expando+"_"+On++;return this[e]=!0,e}}),ut.ajaxPrefilter("json jsonp",function(n,r,o){var i,s,a,l=n.jsonp!==!1&&(Gn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(i=n.jsonpCallback=ut.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Gn,"$1"+i):n.jsonp!==!1&&(n.url+=(Ln.test(n.url)?"&":"?")+n.jsonp+"="+i),n.converters["script json"]=function(){return a||ut.error(i+" was not called"),a[0]},n.dataTypes[0]="json",s=e[i],e[i]=function(){a=arguments},o.always(function(){e[i]=s,n[i]&&(n.jsonpCallback=r.jsonpCallback,Xn.push(i)),a&&ut.isFunction(s)&&s(a[0]),a=s=t}),"script"):t});var Jn,Yn,Qn=0,Kn=e.ActiveXObject&&function(){var e;for(e in Jn)Jn[e](t,!0)};ut.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&D()||I()}:D,Yn=ut.ajaxSettings.xhr(),ut.support.cors=!!Yn&&"withCredentials"in Yn,Yn=ut.support.ajax=!!Yn,Yn&&ut.ajaxTransport(function(n){if(!n.crossDomain||ut.support.cors){var r;return{send:function(o,i){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,o){var a,c,u,d;try{if(r&&(o||4===l.readyState))if(r=t,s&&(l.onreadystatechange=ut.noop,Kn&&delete Jn[s]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(p){u=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(h){o||i(-1,h)}d&&i(a,u,d,c)},n.async?4===l.readyState?setTimeout(r):(s=++Qn,Kn&&(Jn||(Jn={},ut(e).unload(Kn)),Jn[s]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Zn,er,tr=/^(?:toggle|show|hide)$/,nr=RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),rr=/queueHooks$/,or=[F],ir={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),o=nr.exec(t),i=o&&o[3]||(ut.cssNumber[e]?"":"px"),s=(ut.cssNumber[e]||"px"!==i&&+r)&&nr.exec(ut.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==i){i=i||s[3],o=o||[],s=+r||1;do a=a||".5",s/=a,ut.style(n.elem,e,s+i);while(a!==(a=n.cur()/r)&&1!==a&&--l)}return o&&(s=n.start=+s||+r||0,n.unit=i,n.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),n}]};ut.Animation=ut.extend(V,{tweener:function(e,t){ut.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,o=e.length;o>r;r++)n=e[r],ir[n]=ir[n]||[],ir[n].unshift(t)},prefilter:function(e,t){t?or.unshift(e):or.push(e)}}),ut.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,o,i){this.elem=e,this.prop=n,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=i||(ut.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.pos=t=this.options.duration?ut.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ut.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ut.fx.step[e.prop]?ut.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ut.cssProps[e.prop]]||ut.cssHooks[e.prop])?ut.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ut.each(["toggle","show","hide"],function(e,t){var n=ut.fn[t];ut.fn[t]=function(e,r,o){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(U(t,!0),e,r,o)}}),ut.fn.extend({fadeTo:function(e,t,n,r){return this.filter(T).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var o=ut.isEmptyObject(e),i=ut.speed(t,n,r),s=function(){var t=V(this,ut.extend({},e),i);(o||ut._data(this,"finish"))&&t.stop(!0)};return s.finish=s,o||i.queue===!1?this.each(s):this.queue(i.queue,s)},stop:function(e,n,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",i=ut.timers,s=ut._data(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&rr.test(n)&&o(s[n]);for(n=i.length;n--;)i[n].elem!==this||null!=e&&i[n].queue!==e||(i[n].anim.stop(r),t=!1,i.splice(n,1));(t||!r)&&ut.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ut._data(this),r=n[e+"queue"],o=n[e+"queueHooks"],i=ut.timers,s=r?r.length:0;for(n.finish=!0,ut.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ut.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ut.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ut.speed=function(e,t,n){var r=e&&"object"==typeof e?ut.extend({},e):{complete:n||!n&&t||ut.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ut.isFunction(t)&&t};return r.duration=ut.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ut.fx.speeds?ut.fx.speeds[r.duration]:ut.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ut.isFunction(r.old)&&r.old.call(this),r.queue&&ut.dequeue(this,r.queue)},r},ut.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ut.timers=[],ut.fx=B.prototype.init,ut.fx.tick=function(){var e,n=ut.timers,r=0;for(Zn=ut.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||ut.fx.stop(),Zn=t},ut.fx.timer=function(e){e()&&ut.timers.push(e)&&ut.fx.start()},ut.fx.interval=13,ut.fx.start=function(){er||(er=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(er),er=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fx.step={},ut.expr&&ut.expr.filters&&(ut.expr.filters.animated=function(e){return ut.grep(ut.timers,function(t){return e===t.elem}).length}),ut.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ut.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return n=s.documentElement,ut.contains(n,i)?(typeof i.getBoundingClientRect!==G&&(o=i.getBoundingClientRect()),r=W(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},ut.offset={setOffset:function(e,t,n){var r=ut.css(e,"position");"static"===r&&(e.style.position="relative");var o,i,s=ut(e),a=s.offset(),l=ut.css(e,"top"),c=ut.css(e,"left"),u=("absolute"===r||"fixed"===r)&&ut.inArray("auto",[l,c])>-1,d={},p={};u?(p=s.position(),o=p.top,i=p.left):(o=parseFloat(l)||0,i=parseFloat(c)||0),ut.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+i),"using"in t?t.using.call(e,d):s.css(d)}},ut.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ut.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ut.nodeName(e[0],"html")||(n=e.offset()),n.top+=ut.css(e[0],"borderTopWidth",!0),n.left+=ut.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ut.css(r,"marginTop",!0),left:t.left-n.left-ut.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!ut.nodeName(e,"html")&&"static"===ut.css(e,"position");)e=e.offsetParent;return e||Q})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);ut.fn[e]=function(o){return ut.access(this,function(e,o,i){var s=W(e);return i===t?s?n in s?s[n]:s.document.documentElement[o]:e[o]:(s?s.scrollTo(r?ut(s).scrollLeft():i,r?i:ut(s).scrollTop()):e[o]=i,t)},e,o,arguments.length,null)}}),ut.each({Height:"height",Width:"width"},function(e,n){ut.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,o){ut.fn[o]=function(o,i){var s=arguments.length&&(r||"boolean"!=typeof o),a=r||(o===!0||i===!0?"margin":"border");return ut.access(this,function(n,r,o){var i;return ut.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(i=n.documentElement,Math.max(n.body["scroll"+e],i["scroll"+e],n.body["offset"+e],i["offset"+e],i["client"+e])):o===t?ut.css(n,r,a):ut.style(n,r,o,a)},n,s?o:t,s,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ut:(e.jQuery=e.$=ut,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ut}))}(window),define("../bower_components/spoonjs/src/core/StateRegistry/StateRegistry",["events-emitter/MixableEventsEmitter","./State","./Route","mout/array/remove","mout/object/hasOwn","mout/object/mixIn","mout/string/startsWith","mout/queryString/decode","mout/queryString/encode","has","jquery"],function(e,t,n,r,o,i,s,a,l,c,u){function d(){this._states={},this._routes=[],this._destroyed=!1,this._handleLinkClick=this._handleLinkClick.bind(this),u(document.body).on("click","a",this._handleLinkClick)}return i(d.prototype,e.prototype),d.prototype.setAddress=function(e){return this.unsetAddress(),e&&(this._address=e,e.on("change",this._onChange,this)),this},d.prototype.unsetAddress=function(){this._address&&(this._address.off("change",this._onChange,this),this._address=null,this._currentUrl=null)},d.prototype.parse=function(e){var t={newValue:null!=e?e:this._address?this._address.getValue():"",oldValue:null,type:"external"};return this._onChange(t),this},d.prototype.register=function(e,t,r){var o=null!=t?new n(e,t,r):null;return this._states[e]=o,o&&this._routes.push(o),this},d.prototype.unregister=function(e){var t=this._states[e];return delete this._states[e],t&&r(this._routes,t),this},d.prototype.unregisterAll=function(){return this._states={},this._routes=[],this},d.prototype.isRegistered=function(e){return o(this._states,e)},d.prototype.isRoutable=function(e){return!!this._states[e]},d.prototype.isValid=function(e){return t.isValid(e)},d.prototype.setCurrent=function(e,t,n){var r;return"string"==typeof e?e=this._createStateInstance(e,t):n=t,n=i({route:!0,replace:!this._currentState},n||{}),!this.isCurrent(e)||n.force?(r=this._currentState,this._currentState=e,this._postChangeHandler(r,n),!0):!1},d.prototype.getCurrent=function(){return this._currentState},d.prototype.isCurrent=function(e,t){return this._currentState?("string"==typeof e&&(e=this._createStateInstance(e,t)),this._currentState.isFullyEqual(e)):!1},d.prototype.generateUrl=function(e,t,n){var r,o=this._states[e];return o&&this._address?(r=o.generateUrl(t),this._address?this._address.generateUrl(r,n):r):"state://"+e+"/"+l(t)},d.prototype.destroy=function(){this._destroyed||(this._onDestroy(),this._destroyed=!0)
},d.prototype._createStateInstance=function(e,n){return new t(e,n)},d.prototype._postChangeHandler=function(e,t){var n,r,o,i,s=this._currentState.getFullName(),a=this._currentState.getParams();a.$info=a.$info||{},a.$info.newState=this._currentState,a.$info.previousState=e,this._address&&t.route&&(r=this._states[s],r?(n=r.generateUrl(a),this._address.setValue(n,t)):(this._address.reset(),this._currentUrl=null)),i=this._currentState.getFullName(),this._currentState.setCursor(0),o=this._currentState,this._emit("change",this._currentState,e)},d.prototype._onChange=function(e){var t,n,r,o,a,l=e.newValue;if(s(l,"/")||(l="/"+l),this._currentUrl!==l)for(this._currentUrl=l,n=this._routes.length,t=0;n>t;t+=1)if(r=this._routes[t],r.test(l))return o=this._createStateInstance(r.getName(),r.match(l)),a=o.getParams(),a.$info={},e.event&&(e=i({},e),delete e.event),a.$info.address=e,this.setCurrent(o),void 0},d.prototype._handleLinkClick=function(e,t){var n,r,o,i,l=t||e.currentTarget,c=l.getAttribute("data-url-type"),u=l.href;s(u,"state://")&&(e.preventDefault(),"internal"!==c&&(o=u.lastIndexOf("/"),-1===o?n=u.substr(8):(n=u.substring(8,o),r=a(u.substr(o+1))),i={force:"true"===l.getAttribute("data-url-force")},this.setCurrent(n,r,i)))},d.prototype._onDestroy=function(){this.unregisterAll(),this.off(),u(document.body).off("click","a",this._handleLinkClick),this.unsetAddress(),this._currentState=this._currenUrl=null},d}),define("../app/config/states",[],function(){return{api:{topic:"/{name}"},guide:{$pattern:"/",topic:"/{name}"}}}),define("../app/config/config",["./states"],function(e){return{address:{basePath:"/",html5:!1,translate:!0},state:{routing:!0,states:e}}}),define("mout/lang/isObject",["./isKind"],function(e){function t(t){return e(t,"Object")}return t}),define("mout/object/merge",["./hasOwn","../lang/deepClone","../lang/isObject"],function(e,t,n){function r(){var o,i,s,a,l=1;for(a=t(arguments[0]);s=arguments[l++];)for(o in s)e(s,o)&&(i=s[o],a[o]=n(i)&&n(a[o])?r(a[o],i):t(i));return a}return r}),define("../app/config/config_prod",["./config","mout/object/merge"],function(e,t){return t(e,{env:"prod",version:5,address:{basePath:"/spoonjs",html5:!1}})}),define("address/util/mixIn",[],function(){function e(e,t){var n;for(n in t)e[n]=t[n];return e}return e}),define("address/Address",["events-emitter/MixableEventsEmitter","has","jquery","./util/mixIn"],function(e,t,n,r){function o(e){var t=this.constructor.isCompatible||o.isCompatible;if(this._enabled=!0,!t.call(this.constructor))throw Error("Address is not supported in this browser.");this._options=r({handleLinks:!0},e||{}),this._locationSuhp=this._extractSuhpFromUrl(location.href),this._value=this._readValue(),this._handleLinkClick=this._handleLinkClick.bind(this),this._options.handleLinks&&n(document.body).on("click","a",this._handleLinkClick)}return r(o.prototype,e.prototype),o.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._emit("enable")),this},o.prototype.disable=function(){return this._enabled&&(this._enabled=!1,this._emit("disable")),this},o.prototype.getValue=function(e){return null!=e?this._readValue(e):this._value},o.prototype.setValue=function(e,t){if(this._enabled){var n;t=t||{},(this._value!==e||t.force)&&(n=this._value,this._value=e,this._writeValue(e,t.replace),t.silent||this._fireInternalChange(e,n))}return this},o.prototype.reset=function(){return this._value=null,this},o.prototype.generateUrl=function(){throw Error("This method must be implemented.")},o.prototype.destroy=function(){this._destroyed||(this._onDestroy(),this._destroyed=!0)},o.prototype._isAbsoluteUrl=function(e){var t=this.constructor._isAbsoluteUrlRegExp||o._isAbsoluteUrlRegExp;return t.test(e)},o.prototype._extractSuhpFromUrl=function(e){var t=this.constructor._urlParserRegExp||o._urlParserRegExp,n=t.exec(e),r=n[3];return r=n[3],r&&r.length?r:null},o.prototype._isInternalUrl=function(e){return!this._isAbsoluteUrl(e)||this._extractSuhpFromUrl(e)===this._locationSuhp},o.prototype._isOtherScheme=function(e){var t,n=e.indexOf("://");return-1===n?!1:(t=e.substr(0,n),"http"!==t&&"https"!==t)},o.prototype._onNewValueByExternalEvent=function(){if(this._enabled){var e=this._readValue(),t=this._value;this._value!==e&&(this._value=e,this._fireExternalChange(e,t))}},o.prototype._onNewValueByLinkClick=function(e,t,n){if(this._enabled){var r;n=n||{},this._isInternalUrl(e)&&(t.preventDefault(),e=this._readValue(e),(this._value!==e||n.force)&&(r=this._value,this._value=e,this._writeValue(e,n.replace),n.silent||this._fireLinkChange(e,r,t)))}},o.prototype._handleLinkClick=function(e,t){var n,r=t||e.currentTarget,o=r.getAttribute("data-url-type"),i=e.ctrlKey||e.metaKey,s=r.target,a=r.href;this._isOtherScheme(a)||i||s&&"_self"!==s||"external"===o||("internal"===o?e.preventDefault():(n={force:"true"===r.getAttribute("data-url-force"),replace:"true"===r.getAttribute("data-url-replace"),silent:"true"===r.getAttribute("data-url-silent")},this._onNewValueByLinkClick(a,e,n)))},o.prototype._fireInternalChange=function(e,t){this._emit("change",{newValue:e,oldValue:t,type:"internal"})},o.prototype._fireExternalChange=function(e,t){this._emit("change",{newValue:e,oldValue:t,type:"external"})},o.prototype._fireLinkChange=function(e,t,n){this._emit("change",{newValue:e,oldValue:t,type:"link",event:n})},o.prototype._onDestroy=function(){n(document.body).off("click","a",this._handleLinkClick),this.off()},o.prototype._readValue=function(){throw Error("This method must be implemented.")},o.prototype._writeValue=function(){throw Error("This method must be implemented.")},o._isAbsoluteUrlRegExp=/^[a-z]{1,7}:\/\//i,o._urlParserRegExp=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,o.isCompatible=function(){throw Error("This method must be implemented.")},o}),define("address/AddressHash",["./Address","jquery"],function(e,t){function n(n){e.call(this,n),this._onNewValueByExternalEvent=this._onNewValueByExternalEvent.bind(this),t(window).on("hashchange",this._onNewValueByExternalEvent)}return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.generateUrl=function(e,t){var n="#"+this._encodeValue(e);return t?this._locationSuhp+location.pathname+n:n},n.prototype._readValue=function(e){var t,n=e||location.href,r=n.indexOf("#");return n=-1!==r?n.substr(r+1):"",t=decodeURIComponent(n),t=t.replace(/%27/g,"'")},n.prototype._writeValue=function(e,t){e="#"+this._encodeValue(e),t?location.replace(e):location.href=e},n.prototype._encodeValue=function(e){return e=encodeURI(e),e=e.replace(/#/g,"%23")},n.prototype._isOtherScheme=function(t){return"#"===t.charAt(0)?!1:e.prototype._isOtherScheme.call(this,t)},n.prototype._onDestroy=function(){t(window).off("hashchange",this._onNewValueByExternalEvent),n._instance=null,e.prototype._onDestroy.call(this)},n._instance=null,n.isCompatible=function(){var e=document.documentMode;return"onhashchange"in window&&(null==e||e>7)&&(-1===navigator.userAgent.indexOf("MSIE")||"file:"!==location.protocol)},n.getInstance=function(e){return n._instance||(n._instance=new n(e)),n._instance},n}),define("address/util/startsWith",[],function(){function e(e,t){return e=e||"",t=t||"",0===e.indexOf(t)}return e}),define("address/util/browser",[],function(){function e(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}var t=e(navigator.userAgent),n={};return t.browser&&(n[t.browser]=!0,n.version=t.version),n.chrome?n.webkit=!0:n.webkit&&(n.safari=!0),n}),define("address/AddressHTML5",["./Address","jquery","./util/mixIn","./util/startsWith","./util/browser"],function(e,t,n,r,o){function i(r){r=n({basePath:location.pathname+"/"},r||{}),this._basePath=this._encodeValue(r.basePath),this._basePath="/"+this._trimLeadingSlashes(this._basePath),this._basePath=this._trimTrailingSlashes(this._basePath)+"/",this._baseElement=document.getElementsByTagName("base"),e.call(this,r),this._onNewValueByExternalEvent=this._onNewValueByExternalEvent.bind(this),t(window).on("popstate",this._onNewValueByExternalEvent)}var s={},a="";return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.setValue=function(t,n){return t=this._trimLeadingSlashes(t),e.prototype.setValue.call(this,t,n)},i.prototype.generateUrl=function(e,t){var n=this._basePath+this._encodeValue(this._trimLeadingSlashes(e));return t?this._locationSuhp+n:n},i.prototype._trimLeadingSlashes=function(e){return e.replace(/^\/*/,"")},i.prototype._trimTrailingSlashes=function(e){return e.replace(/\/*$/,"")},i.prototype._isInternalUrl=function(t){var n=e.prototype._isInternalUrl.call(this,t);return n?(this._isAbsoluteUrl(t)&&(t=t.substr(this._locationSuhp.length)),t=t.replace(/%27/g,"'"),r(t,this._basePath)):!1},i.prototype._readValue=function(e){var t,n,r;if(e)if(this._isAbsoluteUrl(e)){if(n=this._extractSuhpFromUrl(e),!n)throw Error("Unable to parse URL: "+e);if(n!==this._locationSuhp)throw Error("Can't parse external URL: "+e);r=e.substr(this._locationSuhp.length)}else r=e;else r=location.href.substr(this._locationSuhp.length);if(r=r.replace(/%27/g,"'"),t=r.indexOf(this._basePath),-1===t)throw Error("Can't parse external URL: "+(e||location.href));return r=r.substr(t+this._basePath.length),n=r.indexOf("?"),-1!==n?r=r.substr(0,n):(n=r.indexOf("#"),-1!==n&&(r=r.substr(0,n))),decodeURIComponent(r)},i.prototype._writeValue=function(e,t){var n=this._basePath+this._encodeValue(e);t?history.replaceState(s,a,n):(history.pushState(s,a,n),this._baseElement.href=this._baseElement.href)},i.prototype._encodeValue=function(e){return e=encodeURI(e),e=e.replace(/#/g,"%23"),e=e.replace(/\?/g,"%3F")},i.prototype._onDestroy=function(){t(window).off("popstate",this._onNewValueByExternalEvent),i._instance=null,e.prototype._onDestroy.call(this)},i._instance=null,i.isCompatible=function(){var e=navigator.userAgent.toLowerCase(),t=parseInt((/android (\d+)/.exec(e)||[])[1],10),n=o.webkit&&!window.chrome&&parseInt(o.version,10);return!(!window.history||!history.pushState||"file:"===location.protocol||-1!==e.indexOf("phantomjs")||t&&4>t||n&&6>n)},i.getInstance=function(e){return i._instance||(i._instance=new i(e)),i._instance},i}),define("mout/string/endsWith",["../lang/toString"],function(e){function t(t,n){return t=e(t),n=e(n),-1!==t.indexOf(n,t.length-n.length)}return t}),define("../bower_components/spoonjs/src/core/Address/AddressFactory",["app-config","address/AddressHash","address/AddressHTML5","mout/string/startsWith","mout/string/endsWith","has"],function(e,t,n,r,o){var i,s,a,l,c={};return e=e||{},e=e.address||{},c.basePath=e.basePath||"/",c.translate="file:"===location.protocol?!1:e.translate,o(c.basePath,"/")||(c.basePath+="/"),r(c.basePath,"/")||(c.basePath="/"+c.basePath),s=!!e.html5,s&&n.isCompatible()?(i=n.getInstance(c),c.translate&&(a=location.href.indexOf("#"),-1!==a&&i.setValue(location.href.substr(a+1)))):t.isCompatible()?(i=t.getInstance(c),c.translate&&!i.getValue()&&location.pathname.length>1&&-1===location.pathname.indexOf("#")&&(a=location.pathname.indexOf(c.basePath),0===a&&(l=location.pathname.substr(a+c.basePath.length),l=l.replace(/\/*$/g,"").replace(/[^\/]*\.[^\/]+$/,""),l&&(i.disable(),window.location=location.protocol+"//"+location.hostname+(location.port&&80!=location.port?":"+location.port:"")+c.basePath+"#/"+l)))):i=null,i}),define("mout/object/fillIn",["../array/forEach","./forOwn"],function(e,t){function n(n){return e(Array.prototype.slice.call(arguments,1),function(e){t(e,function(e,t){null==n[t]&&(n[t]=e)})}),n}return n}),define("mout/object/size",["./forOwn"],function(e){function t(t){var n=0;return e(t,function(){n++}),n}return t}),define("mout/array/sort",[],function(){function e(r,o){if(null==r)return[];if(2>r.length)return r;null==o&&(o=t);var i,s,a;return i=~~(r.length/2),s=e(r.slice(0,i),o),a=e(r.slice(i,r.length),o),n(s,a,o)}function t(e,t){return t>e?-1:e>t?1:0}function n(e,t,n){for(var r=[];e.length&&t.length;)0>=n(e[0],t[0])?r.push(e.shift()):r.push(t.shift());return e.length&&r.push.apply(r,e),t.length&&r.push.apply(r,t),r}return e}),define("../bower_components/spoonjs/src/core/StateRegistry/StateRegistryFactory",["./StateRegistry","services/address","app-config","mout/lang/isObject","mout/object/fillIn","mout/object/size","mout/array/sort","has"],function(e,t,n,r,o,i,s){function a(e,t){var n;return e=e?e.replace(m,""):"",t=t?t.replace(m,""):"",n=e+"/"+t,"/"!==n.charAt(0)&&(n="/"+n),n=n.replace(g,"/").replace(m,""),n||"/"}n=n||{},n=n.state||{};var l,c,u,d,p,h=new e,f=n.states||[],m=/\/+$/g,g=/\/\/+/g,y=/\(.+?\)/g,v=[],b=[];for(v.push(f);v.length;){l=v.shift();for(c in l)"$"!==c.charAt(0)&&(u=l[c],c=c.replace(y,""),u?r(u)?(u.$state=l.$state?l.$state+"."+c:c,u.$pattern=l.$fullPattern||a(l.$pattern,u.$pattern||c),u.$constraints=o(u.$constraints||{},l.$constraints),v.push(u)):"string"==typeof u&&b.push({state:l.$state?l.$state+"."+c:c,pattern:a(l.$pattern,u),constraints:l.$constraints,priority:l.$priority||0}):h.register(l.$state?l.$state+"."+c:c));l.$state&&b.push({state:l.$state,pattern:l.$fullPattern||l.$pattern,constraints:l.$constraints,priority:l.$priority||0})}for(s(b,function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1}),p=b.length,d=0;p>d;d+=1)l=b[d],h.register(l.state,l.pattern,l.constraints);return n.routing&&h.setAddress(t),h}),define("mout/object/pick",[],function(){function e(e){for(var t,n="string"!=typeof arguments[1]?arguments[1]:Array.prototype.slice.call(arguments,1),r={},o=0;t=n[o++];)r[t]=e[t];return r}return e}),define("mout/array/findIndex",["../function/makeIterator_"],function(e){function t(t,n,r){if(n=e(n,r),null==t)return-1;for(var o=-1,i=t.length;i>++o;)if(n(t[o],o,t))return o;return-1}return t}),define("mout/array/find",["./findIndex"],function(e){function t(t,n,r){var o=e(t,n,r);return o>=0?t[o]:void 0}return t}),define("../bower_components/spoonjs/src/core/Controller",["./Joint","services/state","mout/string/startsWith","mout/object/size","mout/object/pick","mout/object/mixIn","mout/array/find","has"],function(e,t,n,r,o,i){function s(){e.call(this),this._parseStates()}return s.extend=e.extend,s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.prototype.getState=function(){return this._currentState},s.prototype.generateUrl=function(e,n){var r;return r=this._resolveFullState(e),i(r.params,n),t.generateUrl(r.fullName,r.params)},s.prototype.setState=function(e,n,r){var o;if(o=this._resolveFullState(e),i(o.params,n),null==o.name)return t.setCurrent(o.fullName,o.params,r),this;if(t.isRegistered(o.fullName)){if(t.setCurrent(o.fullName,o.params,r))return this;o=t.getCurrent()}else o=t._createStateInstance(o.name,o.params);return this.delegateState(o)},s.prototype.delegateState=function(e){var n;return e||(e=t.getCurrent()),e=e&&(e.$info?e.$info.newState:e),n=e&&e.getName()||this._defaultState,n&&this._states[n]?(this._isSameState(e)?this._propagateState(e):this._performStateChange(e),t.getCurrent()===e&&this._currentState.setFullName(e.getFullName()),this):void 0},s.prototype._parseStates=function(){var e,t,n,o=this.constructor._stateParamsRegExp||s._stateParamsRegExp,i=this._states;this._states={},this._nrStates=r(this._states);for(e in i)t=i[e],n=e.match(o),n?(e=e.substr(0,e.indexOf("(")),this._states[e]={},"*"===n[1]?this._states[e].wildcard=!0:this._states[e].params=n[1].split(/\s*,\s*/)):this._states[e]={},"string"==typeof t&&(t=this[t],this._states[e].fn=t),this._states[e].fn=t,this._states[e].params=this._states[e].params||[]},s.prototype._resolveFullState=function(e){var t,r,o;if(e=e||"","/"===e.charAt(0))return{fullName:e.substr(1),params:{}};if(n(e,"../"))return t=this._uplink._resolveFullState(e.substr(3)),delete t.name,t;for(t={name:e,fullName:e,params:{}},r=this._uplink;r&&r instanceof s&&(o=r.getState());)t.fullName=o.getName()+(t.fullName?"."+t.fullName:""),i(t.params,r._currentStateParams),r=r._uplink;return t.name=t.name||this._defaultState||"",t.fullName=t.fullName||this._defaultState||"",t},s.prototype._isSameState=function(e){var t;return this._currentState?(e.getName()||(e=e.clone(),e.setFullName(e.getFullName()+"."+this._defaultState)),t=this._states[e.getName()],t.wildcard?!1:this._currentState.isEqual(e,t.params)):!1},s.prototype._setCurrentState=function(e){var n,r,i;this._previousState=this._currentState,this._currentState=e.clone(),!e.getName()&&this._defaultState&&(r=e.getFullName()?e.getFullName()+"."+this._defaultState:this._defaultState,this._currentState.setFullName(r),e===t.getCurrent()&&e.setFullName(r)),n=this._currentState.getName(),i=this._states[n],this._currentStateParams=o(this._currentState.getParams(),i.params)},s.prototype._performStateChange=function(e){var t;this._setCurrentState(e),e.next(),t=this._states[this._currentState.getName()],t.fn.call(this,e.getParams())},s.prototype._propagateState=function(e){var t,n,r,o;for(this._setCurrentState(e),e.next(),t=e.getName(),r=this._downlinks.length,o=0;r>o;o+=1)if(n=this._downlinks[o],n instanceof s&&(n._states[t]||!t&&n._defaultState))return n.delegateState(e),void 0},s._stateParamsRegExp=/\((.+?)\)/,s}),define("../bower_components/spoonjs/src/util/createElement",["jquery"],function(e){function t(e){var t,n,l,c=e.match(r),u=e.match(o),d="";if(e=e.replace(s,"="),-1!==e.indexOf(" "))throw Error("No spaces are allowed in the CSS selector.");for(l=c?document.createElement(c[1]):document.createElement("div"),u&&(l.id=u[1]);t=i.exec(e);)d+=t[1]+" ";for(d&&(l.className=d.substr(0,d.length-1));n=a.exec(e);)l.setAttribute(n[1],n[2]);return i.lastIndex=a.lastIndex=0,l}function n(n){var r;return r="string"==typeof n?"<"===n.charAt(0)&&">"===n.charAt(n.length-1)?n:t(n):n,e(r)}var r=/^(\w+)/i,o=/\#([\w\-]+)/i,i=/\.([\w\-]+)/gi,s=/\s*=\s*/g,a=/\[([a-z\-]+)=['"]([\w\-]+)['"]\]/gi;return n}),define("../bower_components/spoonjs/src/core/View",["./Joint","./Controller","../util/createElement","services/state","mout/object/mixIn","mout/object/forOwn","mout/lang/isArray","mout/lang/isPlainObject","has","jquery"],function(e,t,n,r,o,i,s,a,l,c){function u(){var e=this.data("_spoon_view");e&&e.destroy(),c.fn.remove.call(this)}function d(t){e.call(this),this._events=this._events?o({},this._events):{},this._element=c(t?t:n(this._element||"div")),this._nativeElement=this._element.get(0),this._element.data("_spoon_view",this),this._element.remove=u,this._listen()}return d.extend=e.extend,d.prototype=Object.create(e.prototype),d.prototype.constructor=d,d.prototype.getElement=function(){return this._element},d.prototype.appendTo=function(e,t){return e&&(e=e instanceof d?t?e._element.find(t).eq(0):e._element:"string"==typeof e?c(e).eq(0):c(e),e.append(this._element)),this},d.prototype.prependTo=function(e,t){return e&&(e=e instanceof d?t?e._element.find(t).eq(0):e._element:"string"==typeof e?c(e).eq(0):c(e),e.append(this._element)),this},d.prototype.render=function(e){return this._template&&(this.clear(),this._element.html(this._template(this._fillHelpers(e||{})))),this},d.prototype.clear=function(){var e=this._element.children();return e.remove(),this._element.innerHTML="",this},d.fromElement=function(e){return c(e).data("_spoon_view")},d.prototype._listen=function(e){var t,n,r,o=this.constructor._eventsSplitter||d._eventsSplitter,s=this;return e=e||this._events,i(e,function(i,a){"string"==typeof i&&(i=this[i]),i._listening||(e[a]=function(e){i.call(s,e,c(this))},r=a.match(o),t=r[1],n=r[2],this._element.on(t,n,e[a]))},this),e},d.prototype._unlisten=function(e){var t,n,r,o,i,s=this.constructor._eventsSplitter||d._eventsSplitter;e=e||this._events;for(t in e)i=this._events[t],i._listening&&(delete i._listening,o=t.match(s),n=o[1],r=o[2],this._element.off(n,r,i));return e},d.prototype._generateUrl=function(e,t){var n=this._getController();return n.generateUrl(e,t)},d.prototype._getController=function(){var e;if(this._controller)return this._controller;for(e=this._uplink;e;){if(e instanceof t)return e;e=e._uplink}return null},d.prototype._fillHelpers=function(e){return window.Handlebars&&(e.$view=this),e.$url=function(e,t){return this._generateUrl(e,t)}.bind(this),e},d.prototype._onDestroy=function(){e.prototype._onDestroy.call(this),this._element.remove=c.fn.remove,this._element.remove(),this._element=this._nativeElement=this._controller=null},window.Handlebars&&Handlebars.registerHelper("url",function(e,t){var n,r,o=t.hash;e=this[e]||e;for(n in o)r=o[n],o[n]=this[n]||r;return this.$view._generateUrl(e,o)}),d._eventsSplitter=/^(\S+)\s*(.*)$/,d}),function(){function encodeHTMLSource(){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},t=/&(?!#?\w+;)|<|>|"|'|\//g;return function(n){return n?(""+n).replace(t,function(t){return e[t]||t}):n}}function resolveDefs(c,block,def){return("string"==typeof block?block:""+block).replace(c.define||skip,function(m,code,assign,value){return 0===code.indexOf("def.")&&(code=code.substring(4)),code in def||(":"===assign?def[code]=value:eval("def['"+code+"']="+value)),""}).replace(c.use||skip,function(m,code){var v=eval(code);return v?resolveDefs(c,v,def):v})}function unescape(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var doT={version:"0.2.0",templateSettings:{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0},global=function(){return this||(0,eval)("this")}();"undefined"!=typeof module&&module.exports?module.exports=doT:"function"==typeof define&&define.amd?define("doT",[],function(){return doT}):global.doT=doT,global.encodeHTML=encodeHTMLSource();var startend={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},skip=/$^/;doT.template=function(e,t,n){t=t||doT.templateSettings;var r,o,i,s=t.append?startend.append:startend.split,a=0;if(t.use||t.define){var l=global.def;global.def=n||{},r=resolveDefs(t,e,global.def),global.def=l}else r=e;r=("var out='"+(t.strip?r.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):r).replace(/'|\\/g,"\\$&").replace(t.interpolate||skip,function(e,t){return s.start+unescape(t)+s.end}).replace(t.encode||skip,function(e,t){return o=!0,s.startencode+unescape(t)+s.end}).replace(t.conditional||skip,function(e,t,n){return t?n?"';}else if("+unescape(n)+"){out+='":"';}else{out+='":n?"';if("+unescape(n)+"){out+='":"';}out+='"}).replace(t.iterate||skip,function(e,t,n,r){return t?(a+=1,i=r||"i"+a,t=unescape(t),"';var arr"+a+"="+t+";if(arr"+a+"){var "+n+","+i+"=-1,l"+a+"=arr"+a+".length-1;while("+i+"<l"+a+"){"+n+"=arr"+a+"["+i+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||skip,function(e,t){return"';"+unescape(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|}|^|{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|}|^|{)out\+=''\+/g,"$1out+="),o&&t.selfcontained&&(r="var encodeHTML=("+(""+encodeHTMLSource)+"());"+r);try{return Function(t.varname,r)}catch(c){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+r),c}},doT.compile=function(e,t){return doT.template(e,null,t)}}(),define("text",["module"],function(e){var t,n,r,o,i,s=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,l=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,c="undefined"!=typeof location&&location.href,u=c&&location.protocol&&location.protocol.replace(/\:/,""),d=c&&location.hostname,p=c&&(location.port||void 0),h={},f=e.config&&e.config()||{};return t={version:"2.0.10",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(l);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=s[t];try{e=new ActiveXObject(n)}catch(r){}if(e){s=[n];break}}return e},parseName:function(e){var t,n,r,o=!1,i=e.indexOf("."),s=0===e.indexOf("./")||0===e.indexOf("../");return-1!==i&&(!s||i>1)?(t=e.substring(0,i),n=e.substring(i+1,e.length)):t=e,r=n||t,i=r.indexOf("!"),-1!==i&&(o="strip"===r.substring(i+1),r=r.substring(0,i),n?n=r:t=r),{moduleName:t,ext:n,strip:o}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,o){var i,s,a,l=t.xdRegExp.exec(e);return l?(i=l[2],s=l[3],s=s.split(":"),a=s[1],s=s[0],!(i&&i!==n||s&&s.toLowerCase()!==r.toLowerCase()||(a||s)&&a!==o)):!0},finishLoad:function(e,n,r,o){r=n?t.strip(r):r,f.isBuild&&(h[e]=r),o(r)},load:function(e,n,r,o){if(o.isBuild&&!o.inlineText)return r(),void 0;f.isBuild=o.isBuild;var i=t.parseName(e),s=i.moduleName+(i.ext?"."+i.ext:""),a=n.toUrl(s),l=f.useXhr||t.useXhr;return 0===a.indexOf("empty:")?(r(),void 0):(!c||l(a,u,d,p)?t.get(a,function(n){t.finishLoad(e,i.strip,n,r)},function(e){r.error&&r.error(e)}):n([s],function(e){t.finishLoad(i.moduleName+"."+i.ext,i.strip,e,r)}),void 0)},write:function(e,n,r){if(h.hasOwnProperty(n)){var o=t.jsEscape(h[n]);r.asModule(e+"!"+n,"define(function () { return '"+o+"';});\n")}},writeFile:function(e,n,r,o,i){var s=t.parseName(n),a=s.ext?"."+s.ext:"",l=s.moduleName+a,c=r.toUrl(s.moduleName+a)+".js";t.load(l,r,function(){var n=function(e){return o(c,e)};n.asModule=function(e,t){return o.asModule(e,c,t)},t.write(e,l,n,i)},i)}},"node"===f.env||!f.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var o=n.readFileSync(e,"utf8");0===o.indexOf("﻿")&&(o=o.substring(1)),t(o)}catch(i){r(i)}}):"xhr"===f.env||!f.env&&t.createXhr()?t.get=function(e,n,r,o){var i,s=t.createXhr();if(s.open("GET",e,!0),o)for(i in o)o.hasOwnProperty(i)&&s.setRequestHeader(i.toLowerCase(),o[i]);f.onXhr&&f.onXhr(s,e),s.onreadystatechange=function(){var t,o;4===s.readyState&&(t=s.status,t>399&&600>t?(o=Error(e+" HTTP status: "+t),o.xhr=s,r(o)):n(s.responseText),f.onXhrComplete&&f.onXhrComplete(s,e))},s.send(null)}:"rhino"===f.env||!f.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,r,o="utf-8",i=new java.io.File(e),s=java.lang.System.getProperty("line.separator"),a=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(i),o)),l="";try{for(n=new java.lang.StringBuffer,r=a.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),null!==r&&n.append(r);null!==(r=a.readLine());)n.append(s),n.append(r);l=""+n+""}finally{a.close()}t(l)}:("xpconnect"===f.env||!f.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(r=Components.classes,o=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),i="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,s,a,l={};i&&(e=e.replace(/\//g,"\\")),a=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(o.nsIFileInputStream),n.init(a,1,0,!1),s=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(o.nsIConverterInputStream),s.init(n,"utf-8",n.available(),o.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),s.readString(n.available(),l),s.close(),n.close(),t(l.value)}catch(c){throw Error((a&&a.path||"")+": "+c)}}),t}),define("text!Application/assets/tmpl/app.html",[],function(){return'<div class="app-header">\n    <div class="spoon-logo">SpoonJS</div>\n    <ul>\n        <!--<li class="menu-home"><a href="{{! it.$url(\'home\') }}">Home</a></li>-->\n        <li class="menu-guide"><a href="{{! it.$url(\'guide\') }}">Home</a></li>\n        <li class="menu-api"><a href="{{! it.$url(\'api\') }}">API Reference</a></li>\n    </ul>\n</div>\n<div class="app-content"></div>\n'}),define("css/normalize",["require","module"],function(){function e(e,r,i){if(0===e.indexOf("data:"))return e;if(e=o(e),e.match(/^\//)||e.match(s))return e;var a=i.match(s),l=r.match(s);return!l||a&&a[1]==l[1]&&a[2]==l[2]?n(t(e,r),i):t(e,r)}function t(e,t){"./"==e.substr(0,2)&&(e=e.substr(2));var n=t.split("/"),r=e.split("/");for(n.pop();curPart=r.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function n(e,t){var n=t.split("/");for(n.pop(),t=n.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var r=/([^:])\/+/g,o=function(e){return e.replace(r,"$1/")},s=/[^\:\/]*:\/\/([^\/])*/,a=function(t,n,r,i){n=o(n),r=o(r);for(var s,a,t,l=/@import\s*("([^"]*)"|'([^']*)')|url\s*\(\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;s=l.exec(t);){a=s[3]||s[2]||s[5]||s[6]||s[4];var c;c=i&&"/"==a.substr(0,1)?i+a:e(a,n,r);var u=s[5]||s[6]?1:0;t=t.substr(0,l.lastIndex-a.length-u-1)+c+t.substr(l.lastIndex-u-1),l.lastIndex=l.lastIndex+(c.length-a.length)}return t};return a.convertURIBase=e,a}),define("css/css",["./normalize"],function(e){function t(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}if("undefined"==typeof window)return{load:function(e,t,n){n()}};var n=!1,r=document.getElementsByTagName("head")[0],o=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/),i=!1;o&&(o[1]||o[7]?(i=6>parseInt(o[1])||9>=parseInt(o[7]),o="trident"):o[2]?(i=!0,o="webkit"):o[3]||(o[4]?(i=18>parseInt(o[4]),o="gecko"):n&&alert("Engine detection failed")));var s={},a=/^\/|([^\:\/]*:)/;s.pluginBuilder="./css-builder";var l=[],c={},u=[];s.addBuffer=function(e){-1==t(l,e)&&-1==t(u,e)&&(l.push(e),u.push(e))},s.setBuffer=function(t,n){var r=window.location.pathname.split("/");r.pop(),r=r.join("/")+"/";var o=require.toUrl("base_url").split("/");o.pop();var i=o.join("/")+"/";i=e.convertURIBase(i,r,"/"),i.match(a)||(i="/"+i),"/"!=i.substr(i.length-1,1)&&(i+="/"),s.inject(e(t,i,r));for(var u=0;l.length>u;u++)(n&&".less"==l[u].substr(l[u].length-5,5)||!n&&".css"==l[u].substr(l[u].length-4,4))&&(function(e){c[e]=c[e]||!0,setTimeout(function(){"function"==typeof c[e]&&c[e](),delete c[e]},7)}(l[u]),l.splice(u--,1))},s.attachBuffer=function(e,n){for(var r=0;l.length>r;r++)if(l[r]==e)return c[e]=n,!0;return c[e]===!0?(c[e]=n,!0):-1!=t(u,e)?(n(),!0):void 0};var d=function(e,t){setTimeout(function(){for(var n=0;document.styleSheets.length>n;n++){var r=document.styleSheets[n];if(r.href==e.href)return t()}d(e,t)},10)},p=function(e,t){setTimeout(function(){try{return e.sheet.cssRules,t()}catch(n){}p(e,t)},10)};if("trident"==o&&i)var h=[],f=[],m=0,g=function(e,t){var n;f.push({url:e,cb:t}),n=h.shift(),!n&&31>m++&&(n=document.createElement("style"),r.appendChild(n)),n&&y(n)},y=function(e){var t=f.shift();if(!t)return e.onload=b,h.push(e),void 0;e.onload=function(){t.cb(t.ss),y(e)};var n=e.styleSheet;t.ss=n.imports[n.addImport(t.url)]};var v=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t},b=function(){};s.linkLoad=function(e,t){var s=setTimeout(function(){n&&alert("timeout"),t()},1e3*q-100),a=function(){clearTimeout(s),l&&(l.onload=b),setTimeout(t,7)};if(i)if("webkit"==o){var l=v(e);d(l,a),r.appendChild(l)}else if("gecko"==o){var c=document.createElement("style");c.textContent='@import "'+e+'"',p(c,a),r.appendChild(c)}else"trident"==o&&g(e,a);
else{var l=v(e);l.onload=a,r.appendChild(l)}};var w,_=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],x={},T=function(e,t,n){if(x[e])return t(x[e]),void 0;var r,o,i;if("undefined"!=typeof XMLHttpRequest)r=new XMLHttpRequest;else if("undefined"!=typeof ActiveXObject)for(o=0;3>o;o+=1){i=_[o];try{r=new ActiveXObject(i)}catch(s){}if(r){_=[i];break}}r.open("GET",e,requirejs.inlineRequire?!1:!0),r.onreadystatechange=function(){var o,i;4===r.readyState&&(o=r.status,o>399&&600>o?(i=Error(e+" HTTP status: "+o),i.xhr=r,n(i)):(x[e]=r.responseText,t(r.responseText)))},r.send(null)},C=0;s.inject=function(e){31>C&&(w=document.createElement("style"),w.type="text/css",r.appendChild(w),C++),w.styleSheet?w.styleSheet.cssText+=e:w.appendChild(document.createTextNode(e))};var S=/@import\s*(url)?\s*(('([^']*)'|"([^"]*)")|\(('([^']*)'|"([^"]*)"|([^\)]*))\))\s*;?/g,k=window.location.pathname.split("/");k.pop(),k=k.join("/")+"/";var j=function(t,n,r){t.match(a)||(t="/"+e.convertURIBase(t,k,"/")),T(t,function(o){o=e(o,t,k);for(var i,s=[],a=[],l=[];i=S.exec(o);){var c=i[4]||i[5]||i[7]||i[8]||i[9];s.push(c),a.push(S.lastIndex-i[0].length),l.push(i[0].length)}for(var u=0,d=0;s.length>d;d++)(function(e){j(s[e],function(t){o=o.substr(0,a[e])+t+o.substr(a[e]+l[e]);for(var r=t.length-l[e],i=e+1;s.length>i;i++)a[i]+=r;u++,u==s.length&&n(o)},r)})(d);0==s.length&&n(o)},r)};s.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)};var q,E=!1;return s.load=function(e,t,r,o,a){q=q||o.waitSeconds||7;var l=e+(a?".less":".css");if(!s.attachBuffer(l,r)){var c=t.toUrl(l);!E&&n&&(alert(i?"hacking links":"not hacking"),E=!0),a?j(c,function(e){a&&(e=a(e,function(e){s.inject(e),setTimeout(r,7)}))}):s.linkLoad(c,r)}},n&&(s.inspect=function(){return stylesheet.styleSheet?stylesheet.styleSheet.cssText:stylesheet.innerHTML?stylesheet.innerHTML:void 0}),s}),define("css",["css/css"],function(e){return e}),define("css!normalize-css/normalize",[],function(){}),define("css!Application/assets/css/app",[],function(){}),define("css!Application/assets/css/header",[],function(){}),define("Application/ApplicationView",["spoon/View","jquery","doT","text!./assets/tmpl/app.html","css!normalize-css/normalize","css!http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700","css!./assets/css/app","css!./assets/css/header"],function(e,t,n,r){return e.extend({$name:"ApplicationView",_element:"div#app",_template:n.template(r),initialize:function(t){e.call(this,t),this._onScroll=this._onScroll.bind(this)},render:function(){e.prototype.render.call(this),this._headerHeight=this._element.find(".app-header").height(),t(document).on("scroll",this._onScroll)},setActiveMenu:function(e){this._lastActiveEl&&this._lastActiveEl.removeClass("active"),this._lastActiveEl=this._element.find(".menu-"+e).addClass("active"),document.body.scrollTop=0},_onScroll:function(){t(window).scrollTop()>this._headerHeight?this._element.addClass("scroll"):this._element.removeClass("scroll")},_onDestroy:function(){t(document).off("scroll",this._onScroll)}})}),define("mout/number/MIN_INT",[],function(){return-2147483648}),define("mout/number/MAX_INT",[],function(){return 2147483647}),define("mout/random/random",[],function(){function e(){return e.get()}return e.get=Math.random,e}),define("mout/random/rand",["./random","../number/MIN_INT","../number/MAX_INT"],function(e,t,n){function r(r,o){return r=null==r?t:r,o=null==o?n:o,r+(o-r)*e()}return r}),define("mout/random/randInt",["../number/MIN_INT","../number/MAX_INT","./rand"],function(e,t,n){function r(r,o){return r=null==r?e:~~r,o=null==o?t:~~o,Math.round(n(r-.5,o+.499999999999))}return r}),define("text!Content/Home/assets/tmpl/home.html",[],function(){return'<!--<img class="video-poster" src="{{= require.toUrl(\'Content/Home/assets/video/christmas_snow.jpg\') }}"/>\n<video preload="auto" autoplay="autoplay" loop="true">\n    <source src="{{= require.toUrl(\'Content/Home/assets/video/christmas_snow.mp4\' + it.rand) }}" type="video/mp4">\n    <source src="{{= require.toUrl(\'Content/Home/assets/video/christmas_snow.webm\' + it.rand) }}" type="video/webm">\n    <source src="{{= require.toUrl(\'Content/Home/assets/video/christmas_snow.ogv\' + it.rand) }}" type="video/ogg">\n</video>-->'}),define("css!Content/Home/assets/css/home",[],function(){}),define("Content/Home/HomeView",["spoon/View","jquery","doT","mout/random/randInt","text!./assets/tmpl/home.html","css!./assets/css/home"],function(e,t,n,r,o){return e.extend({$name:"HomeView",_element:"div.home",_template:n.template(o),render:function(){e.prototype.render.call(this,{rand:window.chrome?"?"+r(0):""})}})}),define("mout/string/replaceAccents",["../lang/toString"],function(e){function t(t){return t=e(t),t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}return t}),define("mout/string/removeNonWord",["../lang/toString"],function(e){function t(t){return t=e(t),t.replace(/[^0-9a-zA-Z\xC0-\xFF \-_]/g,"")}return t}),define("mout/string/WHITE_SPACES",[],function(){return[" ","\n","\r","	","\f",""," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","\u2028","\u2029"," "," ","　"]}),define("mout/string/ltrim",["../lang/toString","./WHITE_SPACES"],function(e,t){function n(n,r){n=e(n),r=r||t;for(var o,i,s=0,a=n.length,l=r.length,c=!0;c&&a>s;)for(c=!1,o=-1,i=n.charAt(s);l>++o;)if(i===r[o]){c=!0,s++;break}return s>=a?"":n.substr(s,a)}return n}),define("mout/string/rtrim",["../lang/toString","./WHITE_SPACES"],function(e,t){function n(n,r){n=e(n),r=r||t;for(var o,i,s=n.length-1,a=r.length,l=!0;l&&s>=0;)for(l=!1,o=-1,i=n.charAt(s);a>++o;)if(i===r[o]){l=!0,s--;break}return s>=0?n.substring(0,s+1):""}return n}),define("mout/string/trim",["../lang/toString","./WHITE_SPACES","./ltrim","./rtrim"],function(e,t,n,r){function o(o,i){return o=e(o),i=i||t,n(r(o,i),i)}return o}),define("mout/string/slugify",["../lang/toString","./replaceAccents","./removeNonWord","./trim"],function(e,t,n,r){function o(o,i){return o=e(o),null==i&&(i="-"),o=t(o),o=n(o),o=r(o).replace(/ +/g,i).toLowerCase()}return o}),define("mout/array/map",["../function/makeIterator_"],function(e){function t(t,n,r){n=e(n,r);var o=[];if(null==t)return o;for(var i=-1,s=t.length;s>++i;)o[i]=n(t[i],i,t);return o}return t}),window.Rainbow=function(){function e(e,t,n,r){var o=e.getAttribute&&e.getAttribute(t)||0;if(!o)for(n=e.attributes,r=0;n.length>r;++r)if(n[r].nodeName===t)return n[r].nodeValue;return o}function t(e,t){e.className+=e.className?" "+t:t}function n(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function r(t){var n=e(t,"data-language")||e(t.parentNode,"data-language");if(!n){var r=/\blang(?:uage)?-(\w+)/,o=t.className.match(r)||t.parentNode.className.match(r);o&&(n=o[1])}return n}function o(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")}function i(e,t,n,r){return n>=e&&t>n?!0:r>e&&t>r}function s(e,t,n,r){return n==e&&r==t?!1:e>=n&&r>=t}function a(e,t){for(var n in T[k])if(n=parseInt(n,10),s(n,T[k][n],e,t)&&(delete T[k][n],delete x[k][n]),i(n,T[k][n],e,t))return!0;return!1}function l(e,t){return'<span class="'+e.replace(/\./g," ")+(w?" "+w:"")+'">'+t+"</span>"}function c(e,t){var n,r=0;for(n=1;t>n;++n)e[n]&&(r+=e[n].length);return r}function u(e,t,n,r){var o=e.exec(n);if(!o)return r();++q,t.name||"string"!=typeof t.matches[0]||(t.name=t.matches[0],delete t.matches[0]);var i=o[0],s=o.index,d=o[0].length+s,p=function(){var o=function(){u(e,t,n,r)};return q%100>0?o():setTimeout(o,0)};if(a(s,d))return p();var g=function(e){t.name&&(e=l(t.name,e)),x[k]||(x[k]={},T[k]={}),x[k][s]={replace:o[0],"with":e},T[k][s]=d,p()},v=f(t.matches),b=function(e,n,r){if(e>=n.length)return r(i);var s=function(){b(++e,n,r)},a=o[n[e]];if(!a)return s();var u=t.matches[n[e]],d=u.language,p=u.name&&u.matches?u.matches:u,f=function(t,r,a){i=h(c(o,n[e]),t,a?l(a,r):r,i),s()};return d?y(a,d,function(e){f(a,e)}):"string"==typeof u?f(a,a,u):(m(a,p.length?p:[p],function(e){f(a,e,u.matches?u.name:0)}),void 0)};b(0,v,g)}function d(e){return S[e]}function p(e){var t=C[e]||[],n=C[j]||[];return d(e)?t:t.concat(n)}function h(e,t,n,r){var o=r.substr(e);return r.substr(0,e)+o.replace(t,n)}function f(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort(function(e,t){return t-e})}function m(e,t,n){function r(t,o){return t.length>o?u(t[o].pattern,t[o],e,function(){r(t,++o)}):(g(e,function(e){delete x[k],delete T[k],--k,n(e)}),void 0)}++k,r(t,0)}function g(e,t){function n(e,t,r,o){if(t.length>r){++E;var i=t[r],s=x[k][i];e=h(i,s.replace,s["with"],e);var a=function(){n(e,t,++r,o)};return E%250>0?a():setTimeout(a,0)}o(e)}var r=f(x[k]);n(e,r,0,t)}function y(e,t,n){var r=p(t);m(o(e),r,n)}function v(e,o,i){if(e.length>o){var s=e[o],a=r(s);return!n(s,"rainbow")&&a?(a=a.toLowerCase(),t(s,"rainbow"),y(s.innerHTML,a,function(t){s.innerHTML=t,x={},T={},_&&_(s,a),setTimeout(function(){v(e,++o,i)},0)})):v(e,++o,i)}i&&i()}function b(e,t){e=e&&"function"==typeof e.getElementsByTagName?e:document;var n,r=e.getElementsByTagName("pre"),o=e.getElementsByTagName("code"),i=[];for(n=0;o.length>n;++n)i.push(o[n]);for(n=0;r.length>n;++n)r[n].getElementsByTagName("code").length||i.push(r[n]);v(i,0,t)}var w,_,x={},T={},C={},S={},k=0,j=0,q=0,E=0;return{extend:function(e,t,n){1==arguments.length&&(t=e,e=j),S[e]=n,C[e]=t.concat(C[e]||[])},onHighlight:function(e){_=e},addClass:function(e){w=e},color:function(){return"string"==typeof arguments[0]?y(arguments[0],arguments[1],arguments[2]):"function"==typeof arguments[0]?b(0,arguments[0]):(b(arguments[0],arguments[1]),void 0)}}}(),function(){return document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):(window.attachEvent("onload",Rainbow.color),void 0)}(),Rainbow.onHighlight=Rainbow.onHighlight,Rainbow.addClass=Rainbow.addClass,define("rainbow/js/rainbow",function(){}),Rainbow.extend([{matches:{1:{name:"keyword.operator",pattern:/\=/g},2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]),define("rainbow/js/language/generic",["rainbow/js/rainbow"],function(e){return function(){var t;return t||e.Rainbow}}(this)),Rainbow.extend("javascript",[{name:"selector",pattern:/(\s|^)\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|push|getElementById|getElementsByClassName|log|setTimeout|setInterval)(?=\()/g},{matches:{1:"support.tag.script",2:[{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.script",pattern:/(\w+)/g}],3:"support.tag.script"},pattern:/(&lt;\/?)(script.*?)(&gt;)/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)(?!\*)(.+)(\/)([igm]{0,3})/g},{matches:{1:"storage",3:"entity.function"},pattern:/(var)?(\s|^)(\S*)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"entity.function"},pattern:/(new)\s+(.*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g}]),define("rainbow/js/language/javascript",["rainbow/js/language/generic"],function(e){return function(){var t;return t||e.Rainbow}}(this)),define("text!Common/assets/tmpl/document.html",[],function(){return'<div class="content-left"></div>\n<div class="content-right"></div>\n<div class="clear"></div>'}),define("text!Common/assets/tmpl/document_topics.html",[],function(){return'<ul>\n    {{~ it.topics :topic }}\n    <li class="topic_{{! it.generateTopicClass(topic) }}">\n        <a href="{{! it.$url(\'topic\', { name: it.normalizeTopic(topic) }) }}" data-url-force="true">{{! topic }}</a>\n        <ul>\n            {{~ it.subtopics[topic] :subtopic }}\n            {{ var subtopicName = subtopic.split(\'.\'); }}\n            {{ subtopicName = subtopicName[subtopicName.length - 1]; }}\n            <li class="topic_{{! it.generateTopicClass(subtopic) }}">\n                <a href="{{! it.$url(\'topic\', { name: it.normalizeTopic(subtopic) }) }}" data-force="true">{{! subtopicName }}</a>\n            </li>\n            {{~ }}\n        </ul>\n    </li>\n    {{~}}\n</ul>\n\n<div class="go-top">\n    <div class="arrow"></div>\n</div>'}),define("css!Common/assets/css/general",[],function(){}),define("css!Common/assets/css/document",[],function(){}),define("css!rainbow/themes/github",[],function(){}),function(e){function t(e){return"object"==typeof e?e:{top:e,left:e}}var n=e.scrollTo=function(t,n,r){e(window).scrollTo(t,n,r)};n.defaults={axis:"xy",duration:parseFloat(e.fn.jquery)>=1.3?0:1,limit:!0},n.window=function(){return e(window)._scrollable()},e.fn._scrollable=function(){return this.map(function(){var t=this,n=!t.nodeName||-1!=e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!n)return t;var r=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==r.compatMode?r.body:r.documentElement})},e.fn.scrollTo=function(r,o,i){return"object"==typeof o&&(i=o,o=0),"function"==typeof i&&(i={onAfter:i}),"max"==r&&(r=9e9),i=e.extend({},n.defaults,i),o=o||i.duration,i.queue=i.queue&&i.axis.length>1,i.queue&&(o/=2),i.offset=t(i.offset),i.over=t(i.over),this._scrollable().each(function(){function s(e){c.animate(d,o,i.easing,e&&function(){e.call(this,u,i)})}if(null!=r){var a,l=this,c=e(l),u=r,d={},p=c.is("html,body");switch(typeof u){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(u)){u=t(u);break}if(u=e(u,this),!u.length)return;case"object":(u.is||u.style)&&(a=(u=e(u)).offset())}e.each(i.axis.split(""),function(e,t){var r="x"==t?"Left":"Top",o=r.toLowerCase(),h="scroll"+r,f=l[h],m=n.max(l,t);if(a)d[h]=a[o]+(p?0:f-c.offset()[o]),i.margin&&(d[h]-=parseInt(u.css("margin"+r))||0,d[h]-=parseInt(u.css("border"+r+"Width"))||0),d[h]+=i.offset[o]||0,i.over[o]&&(d[h]+=u["x"==t?"width":"height"]()*i.over[o]);else{var g=u[o];d[h]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*m:g}i.limit&&/^\d+$/.test(d[h])&&(d[h]=0>=d[h]?0:Math.min(d[h],m)),!e&&i.queue&&(f!=d[h]&&s(i.onAfterFirst),delete d[h])}),s(i.onAfter)}}).end()},n.max=function(t,n){var r="x"==n?"Width":"Height",o="scroll"+r;if(!e(t).is("html,body"))return t[o]-e(t)[r.toLowerCase()]();var i="client"+r,s=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(s[o],a[o])-Math.min(s[i],a[i])}}(jQuery),define("jquery.scrollTo",["jquery"],function(e){return function(){var t;return t||e.$}}(this)),define("Common/DocumentView",["spoon/View","jquery","doT","mout/string/slugify","mout/array/map","rainbow/js/language/javascript","text!./assets/tmpl/document.html","text!./assets/tmpl/document_topics.html","css!./assets/css/general","css!./assets/css/document","css!rainbow/themes/github","jquery.scrollTo"],function(e,t,n,r,o,i,s,a){return e.extend({$name:"DocumentView",_element:"div.document",_template:n.template(s),_topicsTemplate:n.template(a),_events:{"click .go-top":"_onGoTopClick"},initialize:function(){e.call(this),this._onScroll=this._onScroll.bind(this)},setBlocks:function(e){return this._blocks=e||[],this._headings=[],this},render:function(){var n,r;for(e.prototype.render.call(this),this._leftEl=this._element.find(".content-left"),this._rightEl=this._element.find(".content-right"),n=0;this._blocks.length>n;n+=1)r=t("<section></section>"),r.append(t(this._blocks[n])),this._leftEl.append(r);return this._renderTopics(),t(document).on("scroll",this._onScroll),this._element.find(".lang-js").attr("data-language","javascript"),i.color(this._element.get(0)),this},scrollTo:function(e){return t.scrollTo("."+this._generateTopicClass(e),300,{offset:-70}),this},setActive:function(e){var t;return e=e.replace(/\(\)$/g,""),this._activeTopicEl&&(this._activeTopicEl.removeClass("active"),t=this._activeTopicEl.parent().parent(),t.is("li")&&t.removeClass("active")),this._activeTopicEl=this._rightEl.find(".topic_"+this._generateTopicClass(e)),this._activeTopicEl.addClass("active"),t=this._activeTopicEl.parent().parent(),t.is("li")&&t.addClass("active"),this},_renderTopics:function(){var e,n,r,o=[],i={},s=this;n=this._element.find(".content-left").find("h1, h2"),n.each(function(n,r){var a=t(r),l=a.text();"h1"===r.nodeName.toLowerCase()?(e=l,o.push(l),i[l]=[]):i[e].push(l),a.addClass(s._generateTopicClass(l)),s._headings.push({top:a.offset().top-80,topic:l})}),r=this._fillHelpers({topics:o,subtopics:i,normalizeTopic:this._normalizeTopic,generateTopicClass:this._generateTopicClass}),this._rightEl.append(this._topicsTemplate(r))},_normalizeTopic:function(e){return-1!==e.indexOf(".")?e.replace(/\(\)$/,""):r(e)},_generateTopicClass:function(e){return r(e)},_onScroll:function(){this._activeTopicEl&&this._activeTopicEl.removeClass("active");var e,n,r=t(window).scrollTop();for(n=this._headings.length-1;n>=0;n-=1)if(e=this._headings[n],r>=e.top)return this.setActive(e.topic),void 0;this.setActive(this._headings[0].topic)},_onGoTopClick:function(){t.scrollTo({top:0,left:0},300)},_onDestroy:function(){e.prototype._onDestroy.call(this),t(document).off("scroll",this._onScroll)}})}),define("text!Content/ApiReference/assets/tmpl/controller.html",[],function(){return'<h1>Controller</h1>\n<p>Extends <a href="">Joint</a> class.</p>\n<p>A controller is a node in the hierarchy that exposes a module.<br>A module is a self contained unit that encapsulates a limited set of functionality.\nWhenever you want to use a module, you do so by instantiating its controller.</p>\n<p>Since this class is <code>abstract</code> it&#39;s meant to be extended and not used directly.\nPlease read below to know how to extend it.</p>\n<h2>controller.initialize()</h2>\n<p><code>constructor</code></p>\n<p>The controller constructor has no arguments.<br>Though, when a controller is responsible for an isolated feature/functionality that requires a DOM element,\nit&#39;s good practice to declare it in the constructor.</p>\n<p>Note that all child classes should call this method.</p>\n<pre><code class="lang-js">define([&#39;spoon/Controller&#39;], function (Controller) {\n    var MyController = Controller.extend({\n        //..\n        initialize: function () {\n            Controller.call(this);\n        },\n        //..\n    });\n\n    return MyController;\n});\n\n// Instantiation example\ndefine([&#39;path/to/MyController&#39;], function (MyController) {\n    var myCtrl = new MyController();\n    //..\n});</code></pre>\n<h2>controller._states</h2>\n<p><code>protected property</code> _states</p>\n<p>An object where keys are states and values the functions to run for that state.</p>\n<pre><code class="lang-js">_states: {\n    &#39;home&#39;: &#39;_homeState&#39;,\n    &#39;show(id)&#39;: &#39;_showState&#39;,\n    &#39;filter&#39;: function (state) {\n        // state is a parameter bag\n        // also contains additional information used internally\n    }\n}</code></pre>\n<h2>controller._defaultState</h2>\n<p><code>protected property</code> _defaultState</p>\n<p>The default state name of the controller, as a <code>string</code>.<br>Defaults to <code>index</code> if the <code>index</code> state is declared in `_states.</p>\n<pre><code class="lang-js">_defaultState: &#39;home&#39;</code></pre>\n<h2>controller.getState()</h2>\n<p><code>public method</code> <em>getState()</em></p>\n<p>Get the current state or null if none is set.</p>\n<p><strong>Returns</strong></p>\n<p>State - The state.</p>\n<h2>controller.setState()</h2>\n<p><code>public method</code> <em>setState([state], [params], [options])</em></p>\n<p>Sets the current state.<br>If the state is the same, nothing happens.</p>\n<p>When the <code>state</code> is a string, you can reference ancestors states relatively and absolutely.<br>Note that this will work work if those states are registered in the <code>StateRegistry</code>.<br>Read the example below.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state (optional)</td>\n<td>String</td>\n<td>The state name.</td>\n</tr>\n<tr>\n<td>params (optional)</td>\n<td>Object</td>\n<td>The state params to be used if the state is a string.</td>\n</tr>\n<tr>\n<td>options (optional)</td>\n<td>Object</td>\n<td>The options.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Controller - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">define([&#39;spoon/Controller&#39;], function (Controller) {\n    var MyController = Controller.extend({\n        _states: {\n            &#39;index&#39;: &#39;index&#39;,\n            &#39;show(id)&#39;: &#39;show&#39;\n        },\n\n        index: function () {\n            //..\n        },\n\n        show: function (state) {\n            console.log(&#39;To be done&#39;);\n\n            // Change the state referencing a local state\n            this.setState(&#39;index&#39;);\n\n            // You can also reference a state relatively or absolutely\n            // While this might be useful in some situations, avoid using it since your module\n            // is no longer self contained and easily reusable\n\n            // Will change the global state to the parent&#39;s home state\n            this.setState(&#39;../home&#39;);\n            // Will change the global state to the root controller&#39;s home state\n            this.setState(&#39;/home&#39;);\n        }\n    });\n\n    return MyController;\n});</code></pre>\n<h2>controller.delegateState()</h2>\n<p><code>public method</code> <em>delegateState(state)</em></p>\n<p>Delegates a state to be handled by the controller.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state (optional)</td>\n<td>...mixed</td>\n<td>The state parameter bag or instance</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Controller - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">define([&#39;spoon/Controller&#39;], function (Controller) {\n    var MyController = Controller.extend({\n        _states: {\n            &#39;index&#39;: &#39;index&#39;,\n            &#39;edit(id)&#39;: &#39;edit&#39;\n        },\n\n        index: function () {\n            //..\n        },\n\n        edit: function (state) {\n            if (this._editModule) {\n                this._editModule.destroy();\n            }\n\n            this._editModule = new EditModuleController();\n            // Delegate the state to to the child controller\n            // Note that the state argument is the state parameter bag that\n            // contains not only the state parameters but also additional data\n            // about the state itself used internally by the framework\n            this._editModule.delegateState(state);\n        }\n    });\n\n    return MyController;\n});</code></pre>\n<h2>controller.generateUrl()</h2>\n<p><code>public method</code> <em>generateUrl(state, [params])</em></p>\n<p>Generates an URL for a state.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state name.</td>\n</tr>\n<tr>\n<td>params (optional)</td>\n<td>Object</td>\n<td>The state params.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>String - The generated URL.</p>\n<pre><code class="lang-js">define([&#39;spoon/Controller&#39;], function (Controller) {\n    var MyController = Controller.extend({\n        _states: {\n            &#39;show(id)&#39;: &#39;show&#39;\n        },\n\n        show: function (state) {\n            console.log(&#39;URL for my state is:&#39;, this.generateUrl(&#39;show&#39;, { id: state.id }));\n            //..\n        }\n    });\n\n    return MyController;\n});</code></pre>\n'}),define("text!Content/ApiReference/assets/tmpl/view.html",[],function(){return'<h1>View</h1>\n<p>Extends <a href="">Joint</a> class.</p>\n<p>A view is a node in the hierarchy that has the role to display data (model) visually.<br>The view is free to instantiate other sub-views and link them to itself so that events flow upon the hierarchy.</p>\n<h2>view.initialize()</h2>\n<p><code>constructor</code></p>\n<p>All views need an DOM element to work on.<br>This element can be passed in the view constructor.\nIf none is passed, one will generated according to the <code>_element</code> property.</p>\n<p>Note that all child classes should call this method.</p>\n<p>Since this class is <code>abstract</code> it&#39;s meant to be extended and not used directly.\nPlease read below to know how to extend it.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>element (optional)</td>\n<td>Element</td>\n<td>The DOM element for the view.</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="lang-js">define([&#39;spoon/View&#39;], function (MyView) {\n    var MyView = View.extend({\n        //..\n        initialize: function () {\n            View.call(this);\n        },\n        //..\n    });\n\n    return MyView;\n});\n\n// Instantiation example\ndefine([&#39;path/to/MyView&#39;], function (MyView) {\n    var myView = new MyView();\n    //..\n});</code></pre>\n<h2>view._element</h2>\n<p><code>protected property</code> _element</p>\n<p>A CSS selector used to build an element for the view in case one is not passed to the constructor.<br>Defaults to <code>div</code>.</p>\n<pre><code class="lang-js">_element: &#39;li.item&#39;\n\n// More complex element\n_element: &#39;div#main-view[data-foo=&quot;bar&quot;]&#39;</code></pre>\n<h2>view._template</h2>\n<p><code>protected property</code> _template</p>\n<p>A function that generates an HTML string or an Element.<br>If set, the <code>render()</code> method will call this function with the supplied data.<br>Defaults to <code>null</code>.</p>\n<pre><code class="lang-js">// Handlebars example\n_template: Handlebars.compile(&#39;&lt;div&gt;{{name}}&lt;/div&gt;&#39;)\n\n// doT example\n_template: doT.template(&#39;&lt;div&gt;{{=name}}&lt;/div&gt;&#39;)</code></pre>\n<h2>view._events</h2>\n<p><code>protected property</code> _events</p>\n<p>An object where keys are event selectors and values the functions to run when the event occurs.</p>\n<pre><code class="lang-js">_events: {\n    &#39;click .delete&#39;: &#39;_onDeleteClick&#39;,\n    &#39;submit form&#39;: &#39;_onSubmit&#39;,\n    &#39;mouseenter .pic&#39;: function (event, element) {\n        // event is the jquery event\n        // element is the jquery wrapped element\n    }\n}</code></pre>\n<h2>view.getElement()</h2>\n<p><code>public method</code> <em>getElement()</em></p>\n<p>Returns the view&#39;s element.</p>\n<p><strong>Returns</strong></p>\n<p>Element - The view&#39;s element.</p>\n<h2>view.appendTo()</h2>\n<p><code>public method</code> <em>appendTo(target, [within])</em></p>\n<p>Convenience method to append the element&#39;s view to a target.\nThe target can be another view, a DOM element or a CSS selector.\nIf the target is another view, an additional selector can be passed to specify the element where it will get appended.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>target</td>\n<td>Element/String/View</td>\n<td>The target.</td>\n</tr>\n<tr>\n<td>within (optional)</td>\n<td>String</td>\n<td>The selector in case the target is a view.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>View - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">// Append to an element referenced by a CSS selector\nvar myView = new MyView();\nmyView.appendTo(&#39;#content&#39;);\n\n// Append to another view\n// parentView is a reference to another view\nvar childView = new ListItemView();\nmyView.appendTo(parentView);\n\n// Append to another view, inside a specific element of it\nvar childView = new ListItemView();\nmyView.appendTo(parentView, &#39;.container&#39;);</code></pre>\n<h2>view.prependTo()</h2>\n<p><code>public method</code> <em>prependTo(target, [within])</em></p>\n<p>Convenience method to prepend the element&#39;s view to a target.\nThe target can be another view, a DOM element or a CSS selector.\nIf the target is another view, an additional selector can be passed to specify the element where it will get appended.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>target</td>\n<td>Element/String/View</td>\n<td>The target.</td>\n</tr>\n<tr>\n<td>within (optional)</td>\n<td>String</td>\n<td>The selector in case the target is a view.</td>\n</tr>\n</tbody>\n</table>\n<p>Please read the <a href="">appendTo()</a> example as its signature is the same.</p>\n<p><strong>Returns</strong></p>\n<p>View - The instance itself to allow chaining.</p>\n<h2>view.render()</h2>\n<p><code>public method</code> <em>render(data)</em></p>\n<p>Renders the declared template with the supplied data.<br>The passed data will be feed into the template function.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>data (optional)</td>\n<td>Object/Array</td>\n<td>The data to pass to the template (defaults to <code>{}</code>).</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>View - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">var myView = new MyView();\nmyView.appendTo(&#39;#content&#39;);\nmyView.render({\n    name: &#39;Indigo United&#39;,\n    email: &#39;hello@indigounited.com&#39;\n});</code></pre>\n<h2>view.clear()</h2>\n<p><code>public method</code> <em>clear()</em></p>\n<p>Clears the view&#39;s element.<br>Note that you must explicitly call <a href="">_unlisten()</a> to remove the DOM event listeners.</p>\n<p><strong>Returns</strong></p>\n<p>View - The instance itself to allow chaining.</p>\n<h2>view._listen()</h2>\n<p><code>protected method</code> <em>_listen(events)</em></p>\n<p>Listen to a set of events.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>events</td>\n<td>Object</td>\n<td>An object with the events (defaults to the declared <code>_events</code>).</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Object - The same object.</p>\n<pre><code class="lang-js">define([&#39;spoon/View&#39;], function (MyView) {\n    var MyView = View.extend({\n        //..\n        _events: {\n            &#39;click .btn-enable&#39;: &#39;_onEnableClick&#39;,\n            &#39;click .btn-disable&#39;: &#39;_onDisableClick&#39;\n        },\n\n        _enabledEvents: {\n            &#39;click .btn-save&#39;: &#39;_onSave&#39;,\n        },\n\n        _onEnableClick: function () {\n            this._listen(this._enabledEvents);\n        },\n\n        _onDisableClick: function () {\n            this._unlisten(this._enabledEvents);\n        },\n\n        _onSave: function () {\n            this._upcast(&#39;save&#39;, { /*.. */ });\n        }\n    });\n\n    return MyView;\n});</code></pre>\n<h2>view._unlisten()</h2>\n<p><code>protected method</code> <em>_unlisten(events)</em></p>\n<p>Unlistens to events.<br>Note that the exact same object reference passed to <a href="">_listen()</a> must be used.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>events</td>\n<td>Object</td>\n<td>An object with the events.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Object - The same object.</p>\n<p>Please read the <a href="">_listen()</a> for an usage example.</p>\n'
}),define("text!Content/ApiReference/assets/tmpl/joint.html",[],function(){return'<h1>Joint</h1>\n<p>A Joint is a base class that all components considered a node in the hierarchy extend from.<br>It&#39;s functionality can be resumed to:</p>\n<ul>\n<li>Link and unlink other node to form the hierarchy</li>\n<li>Ability to listen and emit events to/from linked nodes or descendants</li>\n<li>Ability to listen and emit events to/from all nodes in the hierarchy (flood/broadcast)</li>\n</ul>\n<h2>joint.initialize()</h2>\n<p>Method called when instantiating a Joint.<br>Since this class is <code>abstract</code>, it&#39;s meant to be extended and not used directly.</p>\n<h2>joint.on()</h2>\n<p><code>public method</code> <em>on(event, fn, [context])</em></p>\n<p>Adds a listener for an upcast or broadcast event.<br>Duplicate listeners for the same event will be discarded.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn</td>\n<td>Function</td>\n<td>The handler.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context to be used to call the handler, defaults to the joint instance.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">var myView = new MyView();\nmyView.on(&#39;delete&#39;, function () {\n    console.log(&#39;user wants to delete&#39;, arguments);\n});\n\nmyView = new MyView();\nmyView.on(&#39;save&#39;, function () {\n    console.log(&#39;user wants to save&#39;, arguments);\n}, this);</code></pre>\n<h2>joint.once()</h2>\n<p><code>public method</code> <em>once(event, fn, [context])</em></p>\n<p>Adds a one time listener for an upcast or broadcast event.<br>Duplicate listeners for the same event will be discarded.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn</td>\n<td>Function</td>\n<td>The handler.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context to be used to call the handler, defaults to the joint instance.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<h2>joint.off()</h2>\n<p><code>public method</code> <em>off(event, fn, [context])</em></p>\n<p>Removes a previously added listener.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn</td>\n<td>Function</td>\n<td>The handler.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context passed to the on() method.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">var MyController = Controller.extend({\n    //..\n    index: function () {\n        this._view = this._link(new MyView());\n        this._view.on(&#39;delete&#39;, this._delete, this);\n\n        // Later..\n        this._view.off(&#39;delete&#39;);\n        // Or..\n        this._view.off(&#39;delete&#39;, this._delete, this);\n    },\n\n    _delete: function () {\n        //..\n    }\n});</code></pre>\n<h2>joint.destroy()</h2>\n<p><code>public method</code> <em>destroy()</em></p>\n<p>Destroys the instance, releasing all of its resources.<br>Note that all downlinks will also be destroyed.</p>\n<p>Internally calls <code>_onDestroy()</code> only once, even on consecutive calls to <code>destroy()</code>.</p>\n<h2>joint._link()</h2>\n<p><code>protected method</code> <em>_link(joint)</em></p>\n<p>Creates a link between this joint and another one.<br>Once linked, descendants events flow upwards the hierarchy chain.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>joint</td>\n<td>Joint</td>\n<td>Another joint to link to this one.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The joint passed in as the argument.</p>\n<pre><code class="lang-js">var MyController = Controller.extend({\n    //..\n    index: function () {\n        this._view = this._link(new MyView());\n        //..\n    }\n});</code></pre>\n<h2>joint._unlink()</h2>\n<p><code>protected method</code> <em>_unlink(joint)</em></p>\n<p>Removes a previously created link between this joint and another one.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>joint</td>\n<td>Joint</td>\n<td>Another joint to link to this one.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<h2>joint._upcast()</h2>\n<p><code>protected method</code> <em>_upcast(event, [args])</em></p>\n<p>Fires an event upwards the chain.</p>\n<p><strong>Parameters</strong>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>args (optional)</td>\n<td>...mixed</td>\n<td>The arguments to pass along with the event.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">var MyView = Controller.extend({\n    _events: {\n        &#39;click .btn&#39;: &#39;_onBtnClick&#39;\n    },\n\n    _onBtnClick: function () {\n        this._upcast(&#39;activate&#39;, &#39;foo&#39;, &#39;bar&#39;);\n    }\n});</code></pre>\n<h2>joint._broadcast()</h2>\n<p><code>protected method</code> <em>_broadcast(event, [args])</em></p>\n<p>Fires an event to all the joints.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>args (optional)</td>\n<td>...mixed</td>\n<td>The arguments to pass along with the event.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Joint - The instance itself to allow chaining.</p>\n<p>Please read the <a href="">_upcast()</a> for an usage example.</p>\n<h2>joint._onDestroy()</h2>\n<p><code>protected method</code> <em>_onDestroy()</em></p>\n<p>Method called by <code>destroy()</code>.<br>Subclasses should override this method to release additional resources.<br>The default implementation will also destroy any linked joints.</p>\n'}),define("text!Content/ApiReference/assets/tmpl/broadcaster.html",[],function(){return'<h1>Broadcaster</h1>\n<p><code>service</code></p>\n<p>A service responsible to broadcast events.<br>Whenever <code>_broadcast()</code> on a <code>Joint</code> is called, this service will be responsible to deliver it\nto every node in the hierarchy.</p>\n<p>The service maybe be accessed by requiring <code>services/broadcaster</code>.<br>You can replace this service by your own if it obeys the public interface.</p>\n<pre><code class="lang-js">define([&#39;services/broadcaster&#39;], function (broadcaster) {\n    //..\n});</code></pre>\n<h2>broadcaster.on()</h2>\n<p><code>public method</code> <em>on(event, fn, [context])</em></p>\n<p>Adds a new event listener.<br>If the listener is already attached, it won&#39;t get duplicated.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn</td>\n<td>Function</td>\n<td>The listener.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context in which the function will be executed, defaults to the instance.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Broadcaster - The instance itself to allow chaining.</p>\n<h2>broadcaster.once()</h2>\n<p><code>public method</code> <em>once(event, fn, [context])</em></p>\n<p>Adds a new event listener that is removed automatically afterwards.<br>If the listener is already attached, it won&#39;t get duplicated.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn</td>\n<td>Function</td>\n<td>The listener.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context in which the function will be executed, defaults to the instance.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Broadcaster - The instance itself to allow chaining.</p>\n<h2>broadcaster.off()</h2>\n<p><code>public method</code> <em>off([event], [fn], [context])</em></p>\n<p>Removes an existent event listener.<br>If no fn and context is passed, removes all event listeners of a given name.<br>If no event is specified, removes all events of all names.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event (optional)</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>fn (optional)</td>\n<td>Function</td>\n<td>The listener.</td>\n</tr>\n<tr>\n<td>context (optional)</td>\n<td>Object</td>\n<td>The context passed to the on() method.</td>\n</tr>\n</tbody>\n</table>\n<h2>broadcaster.broadcast()</h2>\n<p><code>public method</code> <em>broadcast(event, [args])</em></p>\n<p>Emits a broadcast event.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>event (optional)</td>\n<td>String</td>\n<td>The event name.</td>\n</tr>\n<tr>\n<td>args (optional)</td>\n<td>...mixed</td>\n<td>The listener.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Broadcaster - The instance itself to allow chaining.</p>\n'}),define("text!Content/ApiReference/assets/tmpl/state_registry.html",[],function(){return'<h1>StateRegistry</h1>\n<p><code>service</code></p>\n<p>A service responsible for the global application state.</p>\n<p>The service maybe be accessed by requiring <code>services/state</code>.<br>You can replace this service by your own if it obeys the public interface.</p>\n<pre><code class="lang-js">define([&#39;services/state&#39;], function (stateRegistry) {\n    //..\n});</code></pre>\n<h2>stateRegistry.setAddress()</h2>\n<p><code>public method</code> <em>setAddress([address])</em></p>\n<p>Sets the address.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>address (optional)</td>\n<td>Address</td>\n<td>The address to set or null to unset it.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.unsetAddress()</h2>\n<p><code>public method</code> <em>unsetAddress()</em></p>\n<p>Unsets the address.</p>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.parse()</h2>\n<p><code>public method</code> <em>parse([route])</em></p>\n<p>Parses a given route.\nIf no route is passed, the current address value is used.\nIf a state is found for the route and is different from the current one, a transition\nwill occur and the change event will be emitted.</p>\n<p>This function is handy to kick-off the state registry.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>route (optional)</td>\n<td>String</td>\n<td>The route (URL fragment).</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.register()</h2>\n<p><code>public method</code> <em>register(state, [pattern], [constraints])</em></p>\n<p>Registers a map between a state and a route.\nThe pattern can have placeholders which will be used to fill a parameters object.\nThe constraints object is a simple key value object in which the keys are the placeholder names and the values are regular expressions.\nAn error will be thrown if the state being registered already exists.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state.</td>\n</tr>\n<tr>\n<td>pattern (optional)</td>\n<td>String</td>\n<td>The route pattern.</td>\n</tr>\n<tr>\n<td>constraints (optional)</td>\n<td>Object</td>\n<td>The route contraints.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.unregister()</h2>\n<p><code>public method</code> <em>unregister(state)</em></p>\n<p>Unregisters a state.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.unregisterAll()</h2>\n<p><code>public method</code> <em>unregisterAll()</em></p>\n<p>Unregisters all the registered states.</p>\n<p><strong>Returns</strong></p>\n<p>StateRegistry - The instance itself to allow chaining.</p>\n<h2>stateRegistry.isRegistered()</h2>\n<p><code>public method</code> <em>isRegistered(state)</em></p>\n<p>Checks if a state is registered.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Boolean - True if it is, false otherwise.</p>\n<h2>stateRegistry.isRoutable()</h2>\n<p><code>public method</code> <em>isRoutable(state)</em></p>\n<p>Checks if state is registered and has a route associated to it.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Boolean - True if it is, false otherwise.</p>\n<h2>stateRegistry.isValid()</h2>\n<p><code>public method</code> <em>isValid(state)</em></p>\n<p>Checks if a given state name is valid.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String</td>\n<td>The state.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Boolean - True if valid, false otherwise.</p>\n<h2>stateRegistry.setCurrent()</h2>\n<p><code>public method</code> <em>setCurrent(state, [params], [options])</em></p>\n<p>Sets the current state.\nIf the state is not the same, the change event will be emited.\nAlso if the state has a route associated and the routing is enabled, the browser URL will be updated accordingly.</p>\n<p>The default implementation should handle these options:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>- force:</td>\n<td>true to force the value to be changed even if the value is the same</td>\n</tr>\n<tr>\n<td>- route:</td>\n<td>false to not change the address value</td>\n</tr>\n<tr>\n<td>- replace:</td>\n<td>true to replace the address value instead of adding a new history entry</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String/State</td>\n<td>The state name or the state object.</td>\n</tr>\n<tr>\n<td>params (optional)</td>\n<td>Object</td>\n<td>The state parameters if the state was a string.</td>\n</tr>\n<tr>\n<td>options (optional)</td>\n<td>Object</td>\n<td>The options</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Boolean - True if the transition was made, false otherwise.</p>\n<h2>stateRegistry.getCurrent()</h2>\n<p><code>public method</code> <em>getCurrent()</em></p>\n<p>Returns the current state.</p>\n<p><strong>Returns</strong></p>\n<p>State - The state.</p>\n<h2>stateRegistry.isCurrent()</h2>\n<p><code>public method</code> <em>isCurrent(state, [params])</em></p>\n<p>Check if the current state is the same as the passed one.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String/State</td>\n<td>The state name or the state object.</td>\n</tr>\n<tr>\n<td>params (optional)</td>\n<td>Object</td>\n<td>The state parameters if the state was a string.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Boolean - True if it is, false otherwise.</p>\n<h2>stateRegistry.generateUrl()</h2>\n<p><code>public method</code> <em>generateUrl(state, [params], [absolute])</em></p>\n<p>Generates an URL for a given state.\nIf no route is associated with the state, a state:// URL will be generated.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>state</td>\n<td>String/State</td>\n<td>The state name or the state object.</td>\n</tr>\n<tr>\n<td>params (optional)</td>\n<td>Object</td>\n<td>The state parameters if the state was a string.</td>\n</tr>\n<tr>\n<td>absolute (optional)</td>\n<td>Boolean</td>\n<td>True to only generate an absolute URL, false otherwise.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>String - The URL for the state or null if unable to generate one.</p>\n<h2>stateRegistry.destroy()</h2>\n<p><code>public method</code> <em>destroy()</em></p>\n<p>Destroys the instance.</p>\n'}),define("text!Content/ApiReference/assets/tmpl/address.html",[],function(){return'<h1>Address</h1>\n<p><code>service</code></p>\n<p>A service responsible to deal with the browser address bar.<br>This service is simply an pre-configured instance of <a href="https://github.com/IndigoUnited/address">IndigoUnited/address</a>. Head over that repository to find additional documentation.</p>\n<p>Please note that you should avoid accessing this service directly. URL&#39;s are not meant to be used directly in the application,\nstates are!</p>\n<p>The service maybe be accessed by requiring <code>services/address</code>.<br>You can replace this service by your own if it obeys the public interface.</p>\n<pre><code class="lang-js">define([&#39;services/address&#39;], function (address) {\n    //..\n});</code></pre>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>options (optional)</td>\n<td>Object</td>\n<td>The options.</td>\n</tr>\n</tbody>\n</table>\n<h2>address.enable()</h2>\n<p><code>public method</code> <em>enable()</em></p>\n<p>Enables the address.</p>\n<p><strong>Returns</strong></p>\n<p>Address - The instance itself to allow chaining.</p>\n<h2>address.disable()</h2>\n<p><code>public method</code> <em>disable()</em></p>\n<p>Disables the address.</p>\n<p><strong>Returns</strong></p>\n<p>Address - The instance itself to allow chaining.</p>\n<h2>address.getValue()</h2>\n<p><code>public method</code> <em>getValue([value])</em></p>\n<p>Returns the current address value.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>value (optional)</td>\n<td>String</td>\n<td>A value to be used instead of the address bar value.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>String - The current value.</p>\n<h2>address.setValue()</h2>\n<p><code>public method</code> <em>setValue(value, [options])</em></p>\n<p>Sets the address value.\nIf the resource changed, the change event will be fired (with type internal).</p>\n<p>The default implementation should handle these options:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>- force:</td>\n<td>true to force the value to be changed even if the value is the same</td>\n</tr>\n<tr>\n<td>- silent:</td>\n<td>true to change the value with firing the change event</td>\n</tr>\n<tr>\n<td>- replace:</td>\n<td>true to replace the latest history entry instead of appending</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>value</td>\n<td>String</td>\n<td>The value to be set.</td>\n</tr>\n<tr>\n<td>options (optional)</td>\n<td>Object</td>\n<td>The options.</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>Address - The instance itself to allow chaining.</p>\n<pre><code class="lang-js">define([&#39;services/address&#39;], function (address) {\n    address.setValue(&#39;/&#39;, { silent: true });\n});</code></pre>\n<h2>address.reset()</h2>\n<p><code>public method</code> <em>reset()</em></p>\n<p>Resets the internal state of address.\nClears the internal value and any other state.</p>\n<p><strong>Returns</strong></p>\n<p>Address - The instance itself to allow chaining.</p>\n<h2>address.generateUrl()</h2>\n<p><code>public method</code> <em>generateUrl(value, [absolute])</em></p>\n<p>Generates an URL based on a given value.\nBy default the generated URL will be relative unless absolute is true.</p>\n<p><strong>Parameters</strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>value</td>\n<td>String</td>\n<td>The value.</td>\n</tr>\n<tr>\n<td>absolute (optional)</td>\n<td>Boolean</td>\n<td>True to generate an absolute URL, false otherwise (defaults to false).</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Returns</strong></p>\n<p>String - The generated URL.</p>\n<pre><code class="lang-js">define([&#39;services/address&#39;], function (address) {\n    address.generateUrl(&#39;home&#39;);\n});</code></pre>\n<h2>address.destroy()</h2>\n<p><code>public method</code> <em>destroy()</em></p>\n<p>Destroys the instance.</p>\n'}),define("css!Content/ApiReference/assets/css/api_reference",[],function(){}),define("Content/ApiReference/ApiReferenceView",["../../Common/DocumentView","text!./assets/tmpl/controller.html","text!./assets/tmpl/view.html","text!./assets/tmpl/joint.html","text!./assets/tmpl/broadcaster.html","text!./assets/tmpl/state_registry.html","text!./assets/tmpl/address.html","css!./assets/css/api_reference"],function(e,t,n,r,o,i,s){return e.extend({$name:"ApiReferenceView",_element:"div.api-reference.document",render:function(){return this.setBlocks([t,n,r,o,i,s]),e.prototype.render.call(this)}})}),define("Content/ApiReference/ApiReferenceController",["spoon/Controller","./ApiReferenceView"],function(e,t){return e.extend({$name:"ApiReferenceController",_defaultState:"index",_states:{index:"_indexState","topic(*)":"_topicState"},initialize:function(n){e.call(this),this._view=this._link(new t),this._view.appendTo(n)},_indexState:function(){this._renderView()},_topicState:function(e){this._renderView(),this._view.scrollTo(e.name)},_renderView:function(){this._rendered||(this._view.render(),this._rendered=!0)}})}),define("text!Content/Guide/assets/tmpl/motivation.html",[],function(){return"<h1>Motivation</h1>\n<p>Even though frontend development has come a long way, and there are some good solutions out there, there are two main approaches:</p>\n<ol>\n<li><p>Go &quot;light&quot;, use a thin framework, that gives you a lot of flexibility, but ultimately leaves you responsible for some tedious, repetitive, and complex tasks.</p>\n</li>\n<li><p>Go &quot;enterprise&quot;, use some solution that gives you a lot with no effort, and find yourself fighting the framework, trying to customise something.</p>\n</li>\n</ol>\n<p>Not being happy with this, and taking advantage of our experience, we set out to build a framework that would solve these issues, and a few more that were bugging us. The main drive of the framework is to help developers build solid applications faster, without that bitter-sweet feeling the development simplicity will eventually turn into a nightmare of unmaintainable code due to undocumented framework compromises or even bad options by the developer.</p>\n<p>So, without getting too deep in the details, what makes <code>SpoonJS</code> a 3rd option?</p>\n<p>It&#39;s an <code>HMVC</code> framework, the &quot;H&quot; stands for hierarchical. Unlike other frameworks, that organise the files depending on the file extension, <code>SpoonJS</code> structures the project semantically, in terms of what feature the module accomplishes in the application. What this means is that the project is composed of modules, and the modularity can be seen both in the implementation, and project organisation.</p>\n"}),define("text!Content/Guide/assets/tmpl/concepts.html",[],function(){return'<h1>Concepts</h1>\n<h2>Modular projects</h2>\n<p>One of the most important philosophies of the framework is modular projects. This means that you organise and build your project around modules that connect and work together to form the application. They are connected hierarchically, forming a tree-like structure. A good analogy is when you are playing with LEGO, where you connect together tiny parts that form blocks that ultimately becomes a real-world object.</p>\n<p>But what is a module? A module is a component that is responsible for a specific functionality or role within your application. The more self-contained the module is, the more reusable and easily testable is. This also means that all necessary assets, such as <code>css</code>, <code>images</code> and <code>templates</code>, may also be bundled within the module.</p>\n<h2>Controllers</h2>\n<p>Controllers are typically (but not necessarily) the interface for a module. Having this said, one instantiates a module by instantiating its controller.</p>\n<p>Their main responsibility is to:</p>\n<ul>\n<li><p>Control the module state and flow, in terms of what is currently being shown to the user</p>\n<p>This is done with controller states, each one maps to an action being shown/performed.\nThe controller is free to instantiate the necessary views or even other modules, linking them to itself so that events flow upon the hierarchy.</p>\n</li>\n<li><p>Listens for the view events and acts upon them, either transitioning to a new state, requesting data or something else</p>\n</li>\n<li><p>Passes the data necessary for its view(s) in order to represent the data (model) visually.</p>\n<p>Note that the data may be manipulated according to what the view expects it to be</p>\n</li>\n</ul>\n<h2>Views</h2>\n<p>Views are used to represent a set of data visually. It may use a template engine to easily construct the HTML representation and to escape data to prevent <code>XSS</code> attacks.</p>\n<p>Their main responsibility is to:</p>\n<ul>\n<li><p>Make a visual representation of a set of data (model)</p>\n<p>A view can instantiate sub-views, linking them to itself so that events flow upon the hierarchy</p>\n</li>\n<li><p>Listen to DOM events and translate them to meaningful module events</p>\n</li>\n<li><p>Manage its DOM element, being entirely responsible for it</p>\n</li>\n</ul>\n<h2>Models</h2>\n<p>Application Model is a very delicate matter and there simply isn&#39;t a one size fits all solution. There are too many approaches on how the model could be implemented, each with its advantage, and the truth is, this shouldn&#39;t be in the core of the framework.</p>\n<p>Keeping this is mind, <code>SpoonJS</code> does not offer a solution for the Model in its core, although it will be providing a few libraries that you could use. This gives you full flexibility on how to implement the Model. You can either use one of the libraries we provide, implement your own, or simply use some SDK that you have been provided.</p>\n<h2>Events</h2>\n<p>There are two types of events in: DOM events and hierarchy events. The DOM events are managed by views and possibly mapped to meaningful hierarchy events.</p>\n<p>For the hierarchy events, there are two different models of events:</p>\n<ul>\n<li>Upcast events</li>\n</ul>\n<p>Upcasting events is very useful when you need to inform the parent module of something. In case the parent module does not know how to handle that information, it will automatically upcast the event, until a module is able to handle it. In case the event reaches the root module, and is not handled, a warning is issued in the console, making it easy to spot unhandled events.</p>\n<ul>\n<li>Broadcast events</li>\n</ul>\n<p>Broadcasting can be particularly useful when you want to inform the whole application that something happened, like &quot;user logged in&quot;, which would typically involve changes in several modules.</p>\n<h2>States &amp; Routing</h2>\n<p>One of the most complex tasks that developers face when developing applications is the state management.</p>\n<p>The application state can be distributed, since an interface is usually composed of multiple modules, each with its own state. Due to the complexity of some applications, many state-of-the-art frameworks leave this task to the developer, giving him full flexibility over the state management. Unfortunately, these ad-hoc solutions are often poor, many times taking flexibility away, and the developer ultimately is forced to use <em>dirty hacks</em>, to make things work together.</p>\n<p><code>SpoonJS</code> offers a complete solution for handling state, without losing flexibility. Each controller declaratively specifies which states it can handle, and provides a handler function per state. How the state is actually handled is completely up to the developer, giving him full control over the application.</p>\n<p>The application state can be described by a simple string in the format <code>/articles.show(172)</code>. Lets take a closer look at what it means:</p>\n<ul>\n<li><code>/</code> stands for root, meaning this is a full state, and the root controller (typically the Application controller) will be the starting point.</li>\n<li><code>.</code> separates local states, which are handled by the controllers, and get removed from the full state along the handler chain. Note that this state only references two local states, <code>articles</code> and <code>show(172)</code>, but it can be more complex, like <code>articles.something.something_else(40,parameter).show(172)</code>.</li>\n<li><code>articles</code> is the first local state, and the Application controller should have a handler for it, pushing the remaining state, <code>show(172)</code>, to whatever controller that should handle it.</li>\n<li><code>show(172)</code> actually stands for the <code>show</code> state, with a parameter. When declaring a state, you can provide a list of parameters, and these get fed into the handler.</li>\n</ul>\n<p>Another aspect that is usually tightly associated with state management is routing. <code>SpoonJS</code> offers a simple routing mechanism that maps the requested URLs to their respective state, and vice-versa. This routing mechanism gives the user full flexibility on what pattern matches a state.\nSince your application only knows states, you can add the state to routes mapping when you feel opportune to do so.</p>\n<h2>Services</h2>\n<p><code>SpoonJS</code> is built upon three services: <code>services/address</code>, <code>services/state</code>, <code>services/broadcaster</code>.</p>\n<p>You will rarely need to access them directly, but they are there in case you need to. These services are easily replaced in case you need to change\nthe framework behavior. This gives developers extra flexibility to modify the framework internals. Note that throughout your application, you can build your own services.</p>\n<p>Please read the associated <a href="">API Reference</a> for more details.</p>\n'
}),define("text!Content/Guide/assets/tmpl/folder_structure.html",[],function(){return"<h1>Folder structure</h1>\n<p>Most frameworks out there organise projects in terms of file extension and, although simple, it makes it hard to have reusable components, and maintain big projects. This is one aspect in which Spoon.js stands out, organising the project files in a feature oriented fashion.</p>\n<p>Please check below a typical project file structure (note that a few files are omitted for simplicity, like favicon files, among others).</p>\n<pre><code>app/\n    config/\n        config.js          // base project configurations\n        config_dev.js      // you can have separate configurations for separate environments. In order to use different configs, would load a different file in the index.html file\n        config_prod.js\n    states.js              // states to routes configuration\n    bootstrap.js           // the script that boots the application\n    loader.js              // file that setups the AMD loader\nbower_components/          // external dependencies, managed by Bower\n    spoonjs\n    events-emitter\n    ...\ntasks/                                  // place where useful tasks live\n    generators/                         // you can change the generators to tweak the scaffolding process when using the CLI\n        module_create.js\n        controller_create.js\n        view_create.js\n        ...\n    server.js\n    build.js\n    install.js\nsrc/                 // this is where your application code lives\n    Application/     // the main module\n        assets/      // this is the ideal place for placing CSS files, images, templates, or anything else you feel appropriate\n                     // note that each module has its own assets folder. When deciding where to put a specific asset, you should try to put it in a common ancestor of all the modules that use that asset. If an asset is used project-wide, you should probably place it in the Application assets.\n            css/\n            img/\n            tmpl/\n        ApplicationController.js    // the root controller (can be changed in the bootstrap file)\n        ApplicationView.js\n    Content/                        // this folder only has modules within it, but it not a module by itself. You can create these folders if it helps you organise the project\n        Articles/\n            assets/\n                css/\n                img/\n                tmpl/\n            ArticleDetailsView.js\n            ArticlesController.js\n            ArticlesListView.js\n        Help/\n            assets/\n                css/\n                img/\n                tmpl/\n            HelpController.js\n            HelpView.js\n        Home/\n            assets/\n                css/\n                img/\n                tmpl/\n            HomeController.js\n            HomeView.js\n    Footer/\n        assets/\n            css/\n            img/\n            tmpl/\n        FooterController.js\n        FooterView.js\n    Header/\n        assets/\n            css/\n            img/\n            tmpl/\n        HeaderController.js\n        HeaderView.js\n    Menu/\n        assets/\n            css/\n            img/\n            tmpl/\n        MenuController.js\n        MenuView.js\nweb/\n    index_dev.html   // the project root HTML file (dev environment)\n    index_prod.html  // the project root HTML (prod environment)\n    favicon.ico\n    …                // other files, such as robots.txt, etc</code></pre>\n<p>As you can see, each project is composed of modules, which in their turn can be composed of other modules. Each module should have a very clear responsibility within the project, thus avoiding spaghetti code.</p>\n<p>The correlation between the module purpose and the file structure makes it really simple to understand where a module lives within a project, and what composes it.</p>\n<p>Still, when dealing with reusable modules, that could show up in several places in the application, you can place the module wherever you feel the right place is. Ultimately, this is a developer&#39;s choice.</p>\n<p>Since there is a clear separation of responsibilities, some modules might end up with some option that they don&#39;t know how to handle, and need to delegate that responsibility to another module. Considering modules do not implicitly hold a reference to their parent, they upcast events, delegating the responsibility to their parent, or even broadcast events, and the whole project will listen to it.</p>\n"}),define("text!Content/Guide/assets/tmpl/sample_application.html",[],function(){return'<h1>Sample application</h1>\n<p>The following guide aims to implement an application partially. The application is named <code>repo-browser</code> and is a tool to browse <code>GitHub</code> repositories.\nWhile some areas of the application won&#39;t be implemented, they will still be scaffolded and left empty.</p>\n<p>Below are the mock ups of the application that we will implement:</p>\n<p><img src="http://f.cl.ly/items/021T130I1W0E2A353X17/home.png" alt="Home"></p>\n<p>The user types in <code>org/repo</code> clicks the arrow button and enters the repo-browser of the specified directory.\nBy default, the selected menu should be <code>CODE</code>.</p>\n<p><img src="http://f.cl.ly/items/0K0q1y2t0U21330S2q1u/issues.png" alt="Issues"></p>\n<p>If the user selects issues, a list of the repository issues is listed. If one gets clicked the issue details are shown.</p>\n<p><img src="http://f.cl.ly/items/333V2X2C3A0H2O1W3x3U/issue_details.png" alt="Issue details"></p>\n<h2>Creating the project</h2>\n<p>The easiest way to get started with a <code>SpoonJS</code> project is by installing its <code>CLI</code> with <code>npm install -g spoonjs</code>.\nAll available commands as well as help usages can be seen with <code>spoon -h</code>.</p>\n<p>First, lets create the project by running <code>spoon project create repo-browser</code>.\nThis command might take some seconds to complete since all the necessary dependencies will be installed.<br>Afterwards, lets see what the tool generated for us by spawning a server with <code>spoon project run</code>. If you open the link, you should\nsee a congratulations message.</p>\n<p>What just happen?</p>\n<p>1 - The <code>CLI</code> has scaffolded a new project based on <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">AMD</a>. If you are not familiar with it, we advise you to read it to be able to understand some parts of this guide.</p>\n<p>2 - A server running the <code>dev</code> environment has been spawned. Under the hood, <code>spoon project run</code> executed the <code>automaton</code>[1] task located in <code>tasks/server</code>. This gives you freedom to tweak that task to fulfill your project needs.</p>\n<p>3 - When you opened the link, the application has been bootstrapped by the <code>ApplicationController</code>. If you check out its code, you can easily see that it started in the <code>home</code> state that simply renders the the <code>HomeView</code> which has the congratulations message you have seen.</p>\n<h2>Home screen</h2>\n<p>To ease out the process of having some styles and UI components, we will include <a href="http://twitter.github.io/bootstrap/">Bootstrap</a> from twitter. <code>SpoonJS</code> advises you to work with <a href="http://bower.io">Bower</a> to manage your dependencies. You can install it with <code>npm install -g bower</code>. Then, type <code>bower install --save components-bootstrap</code>. The <code>save</code> flag will save the dependency into the <code>bower.json</code> file located in your project root folder. Afterwards, lets include <code>bootstrap</code> it in our <code>AMD</code> loader configuration by opening the <code>app/loader.js</code> file and adding:</p>\n<pre><code class="lang-js">    //..\n    paths: {\n        //..\n        &#39;bootstrap&#39;: &#39;../bower_components/components-bootstrap&#39;\n    },\n    shim: {\n        //..\n        &#39;bootstrap/js/bootstrap&#39;: {\n            deps: [&#39;jquery&#39;],\n            exports: &#39;$&#39;\n        }\n    }\n    //..</code></pre>\n<p>Then, lets make the <code>ApplicationView</code> include the bootstrap css file:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/View&#39;,\n    //..\n    &#39;css!./assets/css/app&#39;,\n    &#39;css!bootstrap/css/bootstrap&#39;\n], function (View, $, doT, tmpl) {\n    //..\n});</code></pre>\n<p>As explained above, the <code>ApplicationController</code> is already rendering a <code>HomeView</code>.\nIf you open it in your favorite editor[2], you will see that its rendering a <code>doT</code> template. While this is the default template engine chosen for the scaffold process, you can change it to whatever you want. The <code>_template</code> property expects a function that outputs an HTML string or a DOM element.</p>\n<p>Lets change that template to have the initial repository input field and button. Replace <code>assets/tmpl/home.html</code>  with:</p>\n<pre><code class="lang-html">&lt;div class=&quot;wrapper&quot;&gt;\n    &lt;h1&gt;repo-browser&lt;/h1&gt;\n\n    &lt;div class=&quot;control-group input-append&quot;&gt;\n        &lt;input class=&quot;input-xlarge&quot; type=&quot;text&quot; placeholder=&quot;git://github.com/org/repo.git&quot; value=&quot;&quot;&gt;\n        &lt;button class=&quot;btn&quot; type=&quot;button&quot;&gt;Go!&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<p><strong>NOTE:</strong> We advise you to place a valid repository in the <code>value</code> property when pasting the example above in the home.html. This way you will always have a repository to test every time you reload the page without having to be filling the input every time.</p>\n<p>Lets also tweek the appearance by adding the styles below to <code>assets/css/home.css</code>.<br>Since the <code>_element</code> property of the <code>HomeView</code> is <code>div.home</code> we can style the view easily.</p>\n<pre><code class="lang-css">.home {\n    display: table;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n}\n\n.home .wrapper {\n    display: table-cell;\n    text-align: center;\n    vertical-align: middle;\n}\n\n.home h1 {\n    margin-bottom: 70px;\n    font-size: 64px;\n    text-shadow: 1px 1px #999;\n}</code></pre>\n<p>We now want to listen for clicks in the <code>Go!</code> button to enter the application. To do so, lets declare the event in the <code>_events</code> property of the <code>HomeView</code> like so:</p>\n<pre><code class="lang-js">//..\n_events: {\n    &#39;click .btn&#39;: &#39;_onBtnClick&#39;,\n    &#39;focus .input-append&#39;: function (e, el) {\n        // Remove the error class on focus\n        // Note that in this case we are using an inline function\n        el.removeClass(&#39;error&#39;);\n    }\n},\n\n_onBtnClick: function (e, el) {\n    var matches,\n        value = this._element.find(&#39;input&#39;).val();\n\n    console.log(&#39;User clicked go!&#39;);\n\n    // Validate input value and extract org and repo information\n    matches = value.match(/^git:\\/\\/github\\.com\\/(\\S+?)\\/(\\S+?)(?:\\.git)$/);\n\n    // If it&#39;s valid, upcast the event\n    if (matches) {\n        this._upcast(&#39;go&#39;, { org: matches[1], repo: matches[2] });\n    // Otherwise style with an error\n    } else {\n        el.closest(&#39;.input-append&#39;).addClass(&#39;error&#39;);\n    }\n}\n//..</code></pre>\n<p>NOTE: Don&#39;t forget to get your application running by typing : <code>spoon project run</code>. You can optionally give a specific port in which the application will run. To do so, just add the parameter <code>--port or -p</code>. Also remind that, to check on browser console, you may have to install <code>add-ons</code> or similar in order for that to run. </p>\n<p>The <code>_upcast</code> function allows you to emit events upwards the hierarchy chain. If you open up your browser console, you should see an unhandled event reported by the framework. This occurs because no one is handling the <code>go</code> event yet. Note that we access <code>this._element</code> to to look for the input. That property is a reference to the <code>jquery</code> element of the view.</p>\n<pre><code>User clicked go! HomeView.js:21\nUnhandled upcast event &quot;go&quot;.</code></pre>\n<p>To listen for the <code>go</code> event, lets attach a listener to the view instance in the <code>ApplicationController</code>.</p>\n<pre><code class="lang-js">//.. code inside the home state handler..\nthis._content.render();\n\nthis._content.on(&#39;go&#39;, function (target) {\n    this.setState(&#39;inner&#39;, { org: target.org, repo: target.repo });\n}.bind(this));</code></pre>\n<p>In this case, we want to switch to another state which we will name <code>inner</code>. This state will be responsible for initializing the interface you see in the second mockup. If you click on the <code>Go</code> button now you should see a warning:</p>\n<pre><code>Unhandled state &quot;inner&quot; on controller &quot;ApplicationController&quot;.</code></pre>\n<p>This happened because we haven&#39;t declared the <code>inner</code> state yet. To do so, simply add it to the <code>_states</code> object and its handler in the <code>ApplicationController</code>:</p>\n<pre><code class="lang-js">_states: {\n    &#39;home&#39;: &#39;_homeState&#39;,\n    &#39;inner&#39;: &#39;_innerState&#39;\n},\n\n//..\n\n/**\n * Inner state handler.\n *\n * @param {Object} state The state parameter bag\n */\n_innerState: function (state) {\n    this._destroyContent();\n\n    console.log(&#39;Setup the inner interface!&#39;);\n}</code></pre>\n<h2>Inner GUI</h2>\n<p>In the <code>inner</code> state, the user has the ability to browse the repository, checking out the code, issues, tags, etc.</p>\n<p>Since this part of the application is somewhat complex, lets do it in a separate module named <code>Content</code>.<br>To create a module, you can also use the <code>CLI</code> by executing <code>spoon module create &lt;name&gt;</code>. For the name field, type in <code>Content</code>. The generated module comes with a controller, a view and a few assets.</p>\n<p>If you analyse the second mockup carefully, you can identify two separate areas: the menu on the left and the current menu item being shown on the right.\nWe can easily structure our app thanks to the hierarchical states. In this case, our generated <code>ContentController</code> will have a state for each menu on the left.\nIn each state, we must ensure that:</p>\n<ul>\n<li>The current selected menu on the left is the correct one</li>\n<li>Destroy and create the interface to be shown on the right</li>\n</ul>\n<p>The content shown on the right can also be somewhat complex, therefore we will generate a separate module for each one:</p>\n<ul>\n<li><code>spoon module create Content/Code</code></li>\n<li><code>spoon module create Content/Issues</code></li>\n<li><code>spoon module create Content/Tags</code></li>\n<li><code>spoon module create Content/History</code></li>\n</ul>\n<p>Now lets setup the <code>ContentController</code> to do what has been described above:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/Controller&#39;,\n    &#39;./ContentView&#39;,\n    &#39;./Code/CodeController&#39;,\n    &#39;./Issues/IssuesController&#39;,\n    &#39;./Tags/TagsController&#39;,\n    &#39;./History/HistoryController&#39;\n], function (Controller, ContentView, CodeController, IssuesController, TagsController, HistoryController) {\n\n    &#39;use strict&#39;;\n\n    return Controller.extend({\n        $name: &#39;ContentController&#39;,\n\n        _defaultState: &#39;code&#39;,\n        _states: {\n            &#39;code&#39;: &#39;_codeState&#39;,\n            &#39;issues&#39;: &#39;_issuesState&#39;,\n            &#39;tags&#39;: &#39;_tagsState&#39;,\n            &#39;history&#39;: &#39;_historyState&#39;\n        },\n\n        /**\n         * Constructor.\n         *\n         * @param {Element} element The element in which the module will work on\n         * @param {String}  org     The GitHub org\n         * @param {String}  repo    The GitHub repo\n         */\n        initialize: function (element, org, repo) {\n            Controller.call(this);\n\n            this._org = org;\n            this._repo = repo;\n\n            this._view = this._link(new ContentView());\n            this._view.appendTo(element);\n\n            this.once(&#39;link&#39;, function () {\n                this._view.render();\n                this._rightElement = this._view.getContentElement();\n            }.bind(this));\n        },\n\n        /**\n         * Code state handler.\n         *\n         * @param {Object} state The state parameter bag\n         */\n        _codeState: function (state) {\n            this._view.selectMenu(&#39;code&#39;);\n            this._destroyContent();\n\n            this._content = this._link(new CodeController(this._rightElement, this._org, this._repo));\n            this._content.delegateState(state);\n        },\n\n        /**\n         * Issues state handler.\n         *\n         * @param {Object} state The state parameter bag\n         */\n        _issuesState: function (state) {\n            this._view.selectMenu(&#39;issues&#39;);\n            this._destroyContent();\n\n            this._content = this._link(new IssuesController(this._rightElement, this._org, this._repo));\n            this._content.delegateState(state);\n        },\n\n        /**\n         * Tags state handler.\n         *\n         * @param {Object} state The state parameter bag\n         */\n        _tagsState: function (state) {\n            this._view.selectMenu(&#39;tags&#39;);\n            this._destroyContent();\n\n            this._content = this._link(new TagsController(this._rightElement, this._org, this._repo));\n            this._content.delegateState(state);\n        },\n\n        /**\n         * History state handler.\n         *\n         * @param {Object} state The state parameter bag\n         */\n        _historyState: function (state) {\n            this._view.selectMenu(&#39;history&#39;);\n            this._destroyContent();\n\n            this._content = this._link(new HistoryController(this._rightElement, this._org, this._repo));\n            this._content.delegateState(state);\n        },\n\n        /**\n         * Destroys the current content if any.\n         */\n        _destroyContent: function () {\n            if (this._content) {\n                this._content.destroy();\n                this._content = null;\n            }\n        }\n    });\n});</code></pre>\n<p>Next lets add some HTML and CSS in the <code>ContentView</code> template and css files:</p>\n<pre><code class="lang-html">&lt;div class=&quot;left&quot;&gt;\n    &lt;div class=&quot;back&quot;&gt;\n        &lt;a class=&quot;btn btn-small&quot; href=&quot;{{! it.$url(&#39;/home&#39;) }}&quot;&gt;&lt;i class=&quot;icon-chevron-left&quot;&gt;&lt;/i&gt; Back&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;ul class=&quot;nav nav-list&quot;&gt;\n        &lt;li class=&quot;nav-header&quot;&gt;repo-browser&lt;/li&gt;\n        &lt;li class=&quot;code&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;code&#39;) }}&quot;&gt;Code&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=&quot;issues&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;issues&#39;) }}&quot;&gt;Issues&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=&quot;tags&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;tags&#39;) }}&quot;&gt;Tags&lt;/a&gt;&lt;/li&gt;\n        &lt;li class=&quot;history&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;history&#39;) }}&quot;&gt;History&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;div class=&quot;right&quot;&gt;&lt;/div&gt;</code></pre>\n<p>Note that we are using the <code>$url</code> helper that <code>SpoonJS</code> provides to generate an URL for a state. For other template engines, a <code>$url</code> function is also provided that does exactly the same. For <code>Handlebars</code>, there&#39;s a <code>url</code> helper that does the same. It follows just as a reference:</p>\n<pre><code class="lang-html">&lt;li class=&quot;issues&quot;&gt;&lt;a href=&quot;{{url &quot;issues&quot; }}&quot;&gt;Issues&lt;/a&gt;&lt;/li&gt;</code></pre>\n<p>While we haven&#39;t yet associated any state to an URL, the application still works. One of the advantages of mapping URL to states is to make <code>back</code> and <code>forward</code> browser buttons work. Later on we will learn how to do that.</p>\n<p>In the html code above, there&#39;s a special meaning for the <code>/home</code> state. When prefixed with a <code>/</code>, it means that we are referencing the a state absolutely. In this case, the root home state.</p>\n<p>Ok, so let&#39;s define css file for the assets/css/content.css :</p>\n<pre><code class="lang-css">.content {\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    top: 0;\n}\n\n.content .left {\n    width: 199px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    background: #EEE;\n    border-right: 1px solid #CCC;\n}\n\n.content .right {\n    float: left;\n    position: absolute;\n    left: 200px;\n    right: 0;\n    bottom: 0;\n    top: 0;\n    padding: 20px;\n}\n\n.content .left .nav {\n    margin-top: 20px;\n}\n\n.content .left .back {\n    margin-top: 15px;\n    margin-left: 15px;\n}\n\n.content .right &gt; * {\n    width: 100%;\n    height: 100%;\n}</code></pre>\n<p>Note that we will be calling two functions from the <code>ContentView</code>: <code>getContentElement()</code> and <code>selectMenu()</code>.\nLets code them:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/View&#39;,\n    &#39;jquery&#39;,\n    &#39;doT&#39;,\n    &#39;text!./assets/tmpl/content.html&#39;,\n    &#39;css!./assets/css/content&#39;\n], function (View, $, doT, tmpl) {\n\n    &#39;use strict&#39;;\n\n    return View.extend({\n        $name: &#39;ContentView&#39;,\n\n        _element: &#39;div.content&#39;,\n        _template: doT.template(tmpl),\n\n        /**\n         * Returns the element in which the right content will be shown.\n         *\n         * @return {Object} The jQuery element\n         */\n        getContentElement: function () {\n            return this._element.find(&#39;.right&#39;);\n        },\n\n        /**\n         * Sets the active menu.\n         *\n         * @param {String} item The item to activate, valid ones are &quot;code&quot;, &quot;issues&quot;, &quot;tags&quot; and &quot;history&quot;\n         */\n        selectMenu: function (item) {\n            this._element.find(&#39;.active&#39;).removeClass(&#39;active&#39;);\n            this._element.find(&#39;.&#39; + item).addClass(&#39;active&#39;);\n        }\n    });\n});</code></pre>\n<p>Now that we have our <code>Content</code> module pretty much ready, lets instantiate it in the <code>inner</code> state of the <code>ApplicationController</code>.</p>\n<p><strong>NOTE:</strong> You must require it in the <code>define</code> statement at the top of the file.</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/Controller&#39;,\n    &#39;./ApplicationView&#39;,\n    &#39;./HomeView&#39;,\n    &#39;./../Content/ContentController&#39;\n], function (Controller, ApplicationView, HomeView, ContentController) {\n ...</code></pre>\n<pre><code class="lang-js">/**\n * Inner state handler.\n *\n * @param {Object} state The state parameter bag\n */\n_innerState: function (state) {\n    this._destroyContent();\n\n    this._content = this._link(new ContentController(&#39;#content&#39;, state.org, state.repo));\n    this._content.delegateState(state);\n}</code></pre>\n<p>Note that we call the <code>delegateState</code> on the child controller. We are basically saying to <code>ContentController</code> that we are done handling this part of the state and it&#39;s up to him to handle the rest. We have also extracted the <code>org</code> and <code>repo</code> parameters from the state parameters and passed them to the constructor.</p>\n<p>And thats it! We easily scaffolded, bootstrapped and connected quite a few modules of our application in a very rapid way. But most importantly you got a feeling of organisation and separation of concerns thanks to the modular approach of the framework.</p>\n<h2>Issues list</h2>\n<p>Next, we will work on the list of issues of a repository. As such, we will work on the isolated <code>Issues</code> module we created before.\nSince you are getting familiar with <code>SpoonJS</code>, you should spot that the <code>IssuesController</code> will have two states: one for listing the issues and another to show the details of a particular issue. More states could be implemented later, for instance, a search state in case we had the functionality to search the list of issues.</p>\n<p>Having this said, let&#39;s create the <code>index</code> state:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/Controller&#39;,\n    &#39;./IssuesView&#39;,\n    &#39;jquery&#39;\n], function (Controller, IssuesView, $) {\n\n    &#39;use strict&#39;;\n\n    return Controller.extend({\n        $name: &#39;IssuesController&#39;,\n\n        _defaultState: &#39;index&#39;,\n        _states: {\n            &#39;index&#39;: &#39;_indexState&#39;\n        },\n\n        /**\n         * Constructor.\n         *\n         * @param {Element} element The element in which the module will work on\n         * @param {String}  org     The GitHub org\n         * @param {String}  repo    The GitHub repo\n         */\n        initialize: function (element, org, repo) {\n            Controller.call(this);\n\n            this._element = element;\n            this._org = org;\n            this._repo = repo;\n        },\n\n        /**\n         * Index state handler.\n         *\n         * @param {Object} state The state parameter bag\n         */\n        _indexState: function (state) {\n            this._destroyContent();\n\n            this._content = this._link(new IssuesView());\n            this._content.appendTo(this._element);\n            this._content.loading();\n\n            $.get(&#39;https://api.github.com/repos/&#39; + this._org + &#39;/&#39; + this._repo + &#39;/issues&#39;)\n            .then(function (data) {\n                this._content.render({\n                    org: this._org,\n                    repo: this._repo,\n                    issues: data\n                });\n            }.bind(this), function () {\n                this._content.error();\n            }.bind(this));\n        },\n\n        /**\n         * Destroys the current content if any.\n         */\n        _destroyContent: function () {\n            if (this._content) {\n                this._content.destroy();\n                this._content = null;\n            }\n        }\n    });\n});</code></pre>\n<p>The <code>index</code> state instantiates the <code>IssuesView</code>, putting it into loading state. Afterwards, the issues from the repository are fetched through an <code>AJAX</code> call. Note that we advise users to create a <code>model</code> layer that is responsible to do these kind of requests but we will skip that for the sake of simplicity. When the request is done and succeeds, we call render with the array of issues, otherwise we put the <code>IsusesView</code> into error state.</p>\n<p><strong>NOTE:</strong> In order to keep this example simple as it should be, we&#39;ll not be dealing with pagination. Since git API returns chuncked data accessible through an offset and a limit, we&#39;ll keep our focus into just the first set of data received and we&#39;ll be displaying a flat array of elements not going deep into all results that git might have available. </p>\n<p>As seen above, we need to implement the <code>loading()</code> and <code>error()</code> methods in the <code>IssuesView</code> as well as its template and some styles to make the list look like the mockups:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/View&#39;,\n    &#39;jquery&#39;,\n    &#39;doT&#39;,\n    &#39;text!./assets/tmpl/issues.html&#39;,\n    &#39;css!./assets/css/issues&#39;\n], function (View, $, doT, tmpl) {\n\n    &#39;use strict&#39;;\n\n    return View.extend({\n        $name: &#39;IssuesView&#39;,\n\n        _element: &#39;div.issues&#39;,\n        _template: doT.template(tmpl),\n\n        /**\n         * Sets the view state to loading.\n         */\n        loading: function () {\n            this._element.empty();\n            this._element.removeClass(&#39;error&#39;);\n            this._element.addClass(&#39;loading&#39;);\n        },\n\n        /**\n         * Sets the view state to error.\n         */\n        error: function () {\n            this._element.html(&#39;Oops, something went wrong..&#39;);\n            this._element.removeClass(&#39;loading&#39;);\n            this._element.addClass(&#39;error&#39;);\n        },\n\n        /**\n         * {@inheritDoc}\n         */\n        render: function (data) {\n            this._element.removeClass(&#39;loading error&#39;);\n\n            return View.prototype.render.call(this, data);\n        }\n    });\n});</code></pre>\n<pre><code class="lang-html">&lt;ul class=&quot;breadcrumb&quot;&gt;\n  &lt;li&gt;&lt;a href=&quot;{{! it.$url(&#39;../code&#39;) }}&quot;&gt;{{! it.org }}/{{! it.repo }}&lt;/a&gt; &lt;span class=&quot;divider&quot;&gt;/&lt;/span&gt;&lt;/li&gt;\n  &lt;li class=&quot;active&quot;&gt;Issues&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;ul class=&quot;issues-list&quot;&gt;\n    {{~it.issues :issue}}\n    &lt;li class=&quot;clearfix&quot;&gt;\n        &lt;div class=&quot;main-info&quot;&gt;\n            &lt;div class=&quot;title&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;details&#39;, { nr: issue.number }) }}&quot;&gt;{{! issue.title }}&lt;/a&gt; &lt;span class=&quot;nr&quot;&gt;(#{{! issue.number }})&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=&quot;by&quot;&gt;Open by &lt;span class=&quot;user&quot;&gt;{{! issue.user.login }}&lt;/span&gt; {{! issue.created_at }}&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;labels&quot;&gt;\n            &lt;ul&gt;\n                {{~issue.labels :label}}\n                &lt;li style=&quot;background-color: #{{! label.color }}&quot;&gt;{{! label.name }}&lt;/li&gt;\n                {{~}}\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/li&gt;\n    {{~}}\n&lt;/ul&gt;</code></pre>\n<pre><code class="lang-css">.issues.loading {\n    background: url(&#39;../img/ajax-loader.gif&#39;) no-repeat center center;\n}\n\n.issues ul {\n    list-style: none;\n    margin: 0;\n}\n\n.issues .issues-list {\n    margin-top: 30px;\n}\n\n.issues .issues-list &gt; li {\n    border: 1px solid #e7e7e7;\n    border-bottom: 1px solid #ddd;\n    box-shadow: 0 1px 3px 0 #eee;\n    border-radius: 3px;\n    padding: 10px;\n    margin-top: 10px;\n}\n\n.issues .issues-list &gt; li:first-child {\n    margin-top: 0;\n}\n\n.issues .issues-list .main-info {\n    float: left;\n}\n\n.issues .issues-list .title {\n    font-size: 20px;\n}\n\n.issues .issues-list .nr {\n    font-size: 15px;\n}\n\n.issues .issues-list .by {\n    color: #666;\n}\n\n.issues .issues-list .user {\n    color: #0088CC;\n}\n\n.issues .issues-list .labels {\n    float: right;\n}\n\n.issues .issues-list .labels li {\n    float: left;\n    border-radius: 3px;\n    padding: 10px;\n    margin-left: 10px;\n}</code></pre>\n<p>Note that for the <code>loading</code> style we are using an animated gif downloaded from <a href="http://www.ajaxload.info/">ajaxload</a>. Feel free to download one of the available animated gifs and adjust the <code>issues.loading</code> css class.<br>The gif is located within the <code>img</code> folder of the module (repo-browser/src/Content/Issues/assets/img). If for some reason, this asset is shared across the application, you can store it where you feel more appropriate (e.g.: in the Application <code>assets/img</code> folder).</p>\n<h2>Issues details</h2>\n<p>The <code>details</code> state is very similar to what&#39;s being done in the <code>index</code> state in terms of flow. The only thing that changes is the GitHub API request and the view being rendered.\nAs such, we will need a new view that will be responsible to render the issue details. To create a view, you can use the <code>CLI</code> by executing <code>spoon view create &lt;name&gt;</code>. For the name field, type in <code>Content/Issues/IssueDetails</code>. This will generate the view as well as its <code>template</code> and <code>css</code> file.</p>\n<p>Let&#39;s start by creating the <code>details</code> state in the <code>IssuesController</code>:</p>\n<pre><code class="lang-js">_states: {\n    &#39;index&#39;: &#39;_indexState&#39;,\n    &#39;details(nr)&#39;: &#39;_detailsState&#39;\n},\n\n//..\n\n/**\n * Details state handler.\n *\n * @param {Object} state The state parameter bag\n */\n_detailsState: function (state) {\n    this._destroyContent();\n\n    this._content = this._link(new IssueDetailsView());\n    this._content.appendTo(this._element);\n    this._content.loading();\n\n    // Make both details and comments requests\n    $.when(\n        $.get(&#39;https://api.github.com/repos/&#39; + this._org + &#39;/&#39; + this._repo + &#39;/issues/&#39; + state.nr),\n        $.get(&#39;https://api.github.com/repos/&#39; + this._org + &#39;/&#39; + this._repo + &#39;/issues/&#39; + state.nr + &#39;/comments&#39;)\n    ).then(function (first, second) {\n        this._content.render({\n            org: this._org,\n            repo: this._repo,\n            issue: first[0],\n            comments: second[0]\n        });\n    }.bind(this), function () {\n        this._content.error();\n    }.bind(this));\n}</code></pre>\n<p><strong>Don&#39;t forget</strong> to require the <code>IssueDetailsView</code> at the top of the file.</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/Controller&#39;,\n    &#39;./IssuesView&#39;,\n    &#39;./IssueDetailsView&#39;,\n    &#39;jquery&#39;\n], function (Controller, IssuesView, IssueDetailsView, $) {\n ...</code></pre>\n<p>After, let&#39;s code the <code>IssueDetailsView</code> and tweak its <code>template</code> and <code>css</code> file:</p>\n<pre><code class="lang-js">define([\n    &#39;spoon/View&#39;,\n    &#39;jquery&#39;,\n    &#39;doT&#39;,\n    &#39;text!./assets/tmpl/issue_details.html&#39;,\n    &#39;css!./assets/css/issue_details&#39;\n], function (View, $, doT, tmpl) {\n\n    &#39;use strict&#39;;\n\n    return View.extend({\n        $name: &#39;IssueDetailsView&#39;,\n\n        _element: &#39;div.issue-details&#39;,\n        _template: doT.template(tmpl),\n\n        /**\n         * Sets the view state to loading.\n         */\n        loading: function () {\n            this._element.empty();\n            this._element.removeClass(&#39;error&#39;);\n            this._element.addClass(&#39;loading&#39;);\n        },\n\n        /**\n         * Sets the view state to error.\n         */\n        error: function () {\n            this._element.html(&#39;Oops, something went wrong..&#39;);\n            this._element.removeClass(&#39;loading&#39;);\n            this._element.addClass(&#39;error&#39;);\n        },\n\n        /**\n         * {@inheritDoc}\n         */\n        render: function (data) {\n            this._element.removeClass(&#39;loading error&#39;);\n\n            return View.prototype.render.call(this, data);\n        }\n    });\n});</code></pre>\n<pre><code class="lang-html">&lt;ul class=&quot;breadcrumb&quot;&gt;\n  &lt;li&gt;&lt;a href=&quot;{{! it.$url(&#39;../code&#39;) }}&quot;&gt;{{! it.org }}/{{! it.repo }}&lt;/a&gt; &lt;span class=&quot;divider&quot;&gt;/&lt;/span&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=&quot;{{! it.$url(&#39;index&#39;) }}&quot;&gt;Issues&lt;/a&gt; &lt;span class=&quot;divider&quot;&gt;/&lt;/span&gt;&lt;/li&gt;\n  &lt;li class=&quot;active&quot;&gt;{{! it.issue.title}}&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;div class=&quot;issue-box&quot;&gt;\n    &lt;div class=&quot;user-avatar&quot;&gt;&lt;img src=&quot;{{! it.issue.user.avatar_url }}&quot; alt=&quot;{{! it.issue.user.login }}&quot; /&gt;&lt;/div&gt;\n    &lt;div class=&quot;issue-wrapper&quot;&gt;\n        &lt;div class=&quot;clearfix&quot;&gt;\n            &lt;div class=&quot;main-info&quot;&gt;\n                &lt;div class=&quot;title&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;details&#39;, { nr: it.issue.number }) }}&quot;&gt;{{! it.issue.title }}&lt;/a&gt; &lt;span class=&quot;nr&quot;&gt;(#{{! it.issue.number }})&lt;/span&gt;&lt;/div&gt;\n                &lt;div class=&quot;by&quot;&gt;Open by &lt;span class=&quot;user&quot;&gt;{{! it.issue.user.login }}&lt;/span&gt; {{! it.issue.created_at }}&lt;/div&gt;\n            &lt;/div&gt;\n            {{ if (it.issue.labels.length) { }}}\n            &lt;div class=&quot;labels&quot;&gt;\n                &lt;ul&gt;\n                    {{~it.issue.labels :label}}\n                    &lt;li style=&quot;background-color: #{{! label.color }}&quot;&gt;{{! label.name }}&lt;/li&gt;\n                    {{~}}\n                &lt;/ul&gt;\n            &lt;/div&gt;\n            {{ } }}\n        &lt;/div&gt;\n        &lt;div class=&quot;body&quot;&gt;{{! it.issue.body }}&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n{{ if (it.issue.comments &gt; 0) { }}\n&lt;div class=&quot;issue-details issue-wrapper comments-total&quot;&gt;{{! it.issue.comments}} comment{{ if (it.issue.comments &gt; 1) { }}s{{ } }}&lt;/div&gt;\n&lt;div&gt;\n    {{~it.comments :comment}}\n        &lt;div class=&quot;issue-box&quot;&gt;\n            &lt;div class=&quot;issue-wrapper&quot;&gt;\n                &lt;div class=&quot;clearfix&quot;&gt;\n                    &lt;div class=&quot;main-info&quot;&gt;\n                        &lt;div class=&quot;by&quot;&gt;&lt;span class=&quot;user comment&quot;&gt;comment by&lt;/span&gt; &lt;span class=&quot;user&quot;&gt;{{! comment.user.login }}&lt;/span&gt; {{! comment.created_at }}&lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;body&quot;&gt;{{! comment.body }}&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    {{~}}    \n&lt;/div&gt;\n{{ } }}</code></pre>\n<pre><code class="lang-css">.issue-details.loading {\n    background: url(&#39;../img/ajax-loader.gif&#39;) no-repeat center center;\n}\n\n.issue-details ul {\n    list-style: none;\n}\n\n.issue-details .issue-box {\n    position: relative;\n}\n\n.issue-details .issue-wrapper {\n    border: 1px solid #e7e7e7;\n    border-bottom: 1px solid #ddd;\n    box-shadow: 0 1px 3px 0 #eee;\n    border-radius: 3px;\n    padding: 10px;\n    margin-top: 10px;\n    margin-left: 60px;\n}\n\n.issue-details .user-avatar {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n.issue-details .user-avatar img {\n    width: 50px;\n    height: 50px;\n    border-radius: 3px;\n}\n\n.issue-details .main-info {\n    float: left;\n}\n\n.issue-details .labels {\n    float: right;\n}\n\n.issue-details .labels li {\n    float: left;\n    border-radius: 3px;\n    padding: 10px;\n    margin-left: 10px;\n}\n\n.issue-details .body {\n    margin-top: 10px;\n    border-radius: 3px;\n    background: #EEE;\n    padding: 20px;\n}\n\n.user {\n    font-size: 13px;\n    font-weight: bold;\n}\n\n.user.comment {\n    color: #0088CC;\n    font-weight: normal;\n}\n\n.comments-total {\n    color: #D96868;\n}</code></pre>\n<h2>State URLs</h2>\n<p>As mentioned before, you can map states to URLs. This will add support for back &amp; forward buttons, bookmarkable URLs among other things. These mappings can be done in the <code>app/config/states.js</code> file.</p>\n<pre><code class="lang-js">define(function () {\n\n    &#39;use strict&#39;;\n\n    return {\n        home: &#39;/&#39;,\n        inner: {\n            $pattern: &#39;/{org}/{repo}&#39;,\n            code: &#39;/&#39;,\n            issues: {\n                index: &#39;/&#39;,\n                details: {\n                    $pattern: &#39;/{nr}&#39;,\n                    $constraints: {\n                        nr: /\\d+/\n                    }\n                }\n            },\n            tags: &#39;/tags&#39;,\n            history: &#39;/history&#39;\n        }\n    };\n});</code></pre>\n<p>Since states are hierarchical, states in this file are declared with nesting. For instance, the state <code>inner.issues.index</code> maps exactly to that object key.</p>\n<p>There are some special keywords, prefixed with <code>$</code>, that have special meanings:</p>\n<ul>\n<li><code>$pattern</code> - Used to specify a pattern other than the assumed key.</li>\n<li><code>$fullPattern</code> - Used to specify the complete pattern.</li>\n<li><code>$constraints</code> - Adds validation to pattern parameters; If a constraint fails, the state is not matched.</li>\n<li><code>$order</code> - Used to specify the match order, since objects do not ensure order. The higher, the more precende they have.</li>\n</ul>\n<p>As we can see, there is a state that depends on 2 parameters <code>org</code> and <code>repo</code>.\nThis means that if either one changes, the state handler will be run. \n<strong>NOTE</strong> If a state is transitioned to itself, nothing will be done. </p>\n<p>Now try to run the application and access the issues list. \n<em>Did it work?</em></p>\n<p>As you could see in the browser console, the application failed to run, giving an error:</p>\n<pre><code>Error: Missing param &quot;org&quot;.\n    throw new Error(&#39;Missing param &quot;&#39; + placeholderName + &#39;&quot;.&#39;);</code></pre>\n<p>This happened precisely because the inner state depends on those two parameters we previously refered to. So, in order this to run, you&#39;ll have to inform your <code>ApplicationController</code> state <code>inner</code> that it should expect parameters. </p>\n<pre><code class="lang-js">    _states: {\n        &#39;home&#39;: &#39;_homeState&#39;,\n        &#39;inner(org, repo)&#39;: &#39;_innerState&#39;\n    },</code></pre>\n<p><strong>NOTE:</strong> As you can recall, in &#39;Content/assets/tmpl/content.html&#39; when defining the state urls, you did not define any additional parameters to that states, and you shouldn&#39;t either. It&#39;s up to <code>SpoonJS</code> framework to handle the state and understand that, somewhere up in the hierarchy, there are parameters that need to be added to the state (and are part of it) regardless you map or not the state to an URL representation.</p>\n<h2>Extras</h2>\n<h3>Date Plugin</h3>\n<p>As you could see when you ran the application, the date fields were not very user friendly, so now we&#39;re placing a possible solution to overcome that situation. For this example application we&#39;ll be using a jquery plugin called <code>timeago</code> that will allow us to see dates as time references. e.g. <code>1 minute ago</code>. More information can be seen here: <a href="http://timeago.yarp.com/"><a href="http://timeago.yarp.com/">http://timeago.yarp.com/</a></a></p>\n<p>To install the plugin into your application, you should ùse <code>bower</code> to install the dependencies. If you&#39;re having trouble remembering the full name of the dependency you want to install, you can query <code>bower</code> for a specific string by typing <code>bower search time</code>, that will outcome :</p>\n<pre><code>Search results:\n    ...\n    jquery-timeago git://github.com/rmm5t/jquery-timeago.git\n    ...</code></pre>\n<p>By looking at the results you can see that the plugin we&#39;re looking for is available, so let&#39;s install it locally into our sample application. Let&#39;s also add the <code>save</code> option to include the dependency into our project. </p>\n<pre><code>bower install jquery-timeago --save</code></pre>\n<p>Now we have component installed, he have to add it to the application loader <code>app/loader.js</code> so it will be avaiable globally to all modules. With this said :</p>\n<pre><code>paths: {\n        ...\n        &#39;bootstrap&#39;: &#39;../components/components-bootstrap&#39;,\n        &#39;jquery-timeago&#39;: &#39;../components/jquery-timeago/jquery.timeago&#39;\n    },\n    shim: {\n        &#39;bootstrap/js/bootstrap&#39;: {\n            deps: [&#39;jquery&#39;],\n            exports: &#39;$&#39;\n        },\n        &#39;jquery-timeago&#39;: {\n            deps: [&#39;jquery&#39;],\n            exports: &#39;$&#39;\n        }\n    },\n    ...</code></pre>\n<p>Notice that, since jquery-timeago needs jquery to be loaded in order for it to work, we have to &quot;shim it&quot;, so the shim configuration is needed above where we read that our plugin depends on jquery being loaded and exported as &#39;$&#39; variable. </p>\n<p>Now let&#39;s put things to work. We&#39;ll start by the issues list. So the new html for the <code>src/Content/Issues/assets/tmpl/issues.html</code> will be:</p>\n<pre><code class="lang-html">&lt;ul class=&quot;breadcrumb&quot;&gt;\n  &lt;li&gt;&lt;a href=&quot;{{! it.$url(&#39;../code&#39;) }}&quot;&gt;{{! it.org }}/{{! it.repo }}&lt;/a&gt; &lt;span class=&quot;divider&quot;&gt;/&lt;/span&gt;&lt;/li&gt;\n  &lt;li class=&quot;active&quot;&gt;Issues&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;ul class=&quot;issues-list&quot;&gt;\n    {{~it.issues :issue}}\n    &lt;li class=&quot;clearfix&quot;&gt;\n        &lt;div class=&quot;main-info&quot;&gt;\n            &lt;div class=&quot;title&quot;&gt;&lt;a href=&quot;{{! it.$url(&#39;details&#39;, { nr: issue.number }) }}&quot;&gt;{{! issue.title }}&lt;/a&gt; &lt;span class=&quot;nr&quot;&gt;(#{{! issue.number }})&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=&quot;by&quot;&gt;Open by &lt;span class=&quot;user&quot;&gt;{{! issue.user.login }}&lt;/span&gt; &lt;abbr class=&quot;timeago&quot; title=&quot;{{! issue.created_at }}&quot;&gt;{{! issue.created_at }}&lt;/abbr&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;labels&quot;&gt;\n            &lt;ul&gt;\n                {{~issue.labels :label}}\n                &lt;li style=&quot;background-color: #{{! label.color }}&quot;&gt;{{! label.name }}&lt;/li&gt;\n                {{~}}\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/li&gt;\n    {{~}}\n&lt;/ul&gt;</code></pre>\n<p>With this new html, we&#39;ll be able to apply the plugin to the date fields. \n<strong>NOTE:</strong> When the plugin is first applied to a field, it starts a timer that fires periodically thus updating the time info seen by the end users. </p>\n<p>We also need to performe some changes in the <code>IssuesView</code>. These changes will be responsible for updating the date fields we&#39;ve defined previously in the html file. Basically, all we need to do is to import the plugin into the view and when rendering the template, apply the plugin to the respective fields. </p>\n<pre><code class="lang-js">define([\n    &#39;spoon/View&#39;,\n    &#39;jquery&#39;,\n    &#39;doT&#39;,\n    &#39;text!./assets/tmpl/issues.html&#39;,\n    &#39;css!./assets/css/issues&#39;,\n    &#39;jquery-timeago&#39;\n], function (View, $, doT, tmpl) {\n ...</code></pre>\n<p>The plugin import is the last in the queue because we chose to and we advise it to be like so. You can also see that we don&#39;t require the variable the variable as function parameters. This is because we don&#39;t a specific variable to that plugin since it&#39;s already bound to jquery, so we only need to use &#39;$&#39; and we have access to the plugin features and functions. </p>\n<p>By now, we only need to update the <code>render</code> function in the <code>IssuesView</code>.</p>\n<pre><code class="lang-js">    /**\n     * {@inheritDoc}\n     */\n    render: function (data) {\n        this._element.removeClass(&#39;loading error&#39;);\n\n        // just render the view, without returning it\n        // since we need the view rendered prior to \n        // applying the timeago() function\n        View.prototype.render.call(this, data);\n\n        // apply the timeago() function to all data elements\n        this._element.find(&#39;abbr.timeago&#39;).timeago();\n\n        // return this to allow method chaining\n        return this;\n    }</code></pre>\n<p>By now, you should be able to run the application and see the effect, so, try it out. </p>\n<p>We&#39;re almost done here. You just need to apply this changes to <code>IssueDetailsView</code> also. It should be pretty straightforward to you now, so please do so. </p>\n<h3>Markdown Renderer</h3>\n<p>With this tool applied to issues details, we&#39;ll be able to see markdown notation compiled to HTML notation. If you run the application now, you&#39;ll see that markdown is not recognized as HTMl being shown as plain text. To give a better style of that tags, let&#39;s install this tool:</p>\n<pre><code>bower install marked --save</code></pre>\n<p>So, for the tool to be available throughout the application, we have to add the dependency in the <code>app/loader</code>. So it comes:</p>\n<pre><code class="lang-js">paths: {\n        ...\n        &#39;jquery-timeago&#39;: &#39;../components/jquery-timeago/jquery.timeago&#39;,\n        &#39;marked&#39;: &#39;../components/marked/lib/marked&#39;\n    },</code></pre>\n<p>Now, we&#39;re going to apply this tool to all texts in the <code>IssueDetailsView</code>. \nThis means that all texts with markdown tags will be converted into html thus being rendered normally in the browser. </p>\n<pre><code class="lang-js">    /**\n     * {@inheritDoc}\n     */\n    render: function (data) {\n        this._element.removeClass(&#39;loading error&#39;);\n\n        View.prototype.render.call(this, data);\n\n        // apply the tool to all body texts (comments included)\n        $(&#39;div .body&#39;).each(function () {\n            $(this).html(marked($(this).html()));\n        });\n\n        this._element.find(&#39;abbr.timeago&#39;).timeago();\n\n        return this;\n    }</code></pre>\n'
}),define("css!Content/Guide/assets/css/guide",[],function(){}),define("Content/Guide/GuideView",["../../Common/DocumentView","text!./assets/tmpl/motivation.html","text!./assets/tmpl/concepts.html","text!./assets/tmpl/folder_structure.html","text!./assets/tmpl/sample_application.html","css!./assets/css/guide"],function(e,t,n,r,o){return e.extend({$name:"GuideView",_element:"div.guide.document",render:function(){return this.setBlocks([t,n,r,o]),e.prototype.render.call(this)}})}),define("Content/Guide/GuideController",["spoon/Controller","./GuideView"],function(e,t){return e.extend({$name:"GuideController",_defaultState:"index",_states:{index:"_indexState","topic(name)":"_topicState"},initialize:function(n){e.call(this),this._view=this._link(new t),this._view.appendTo(n)},_indexState:function(){this._renderView()},_topicState:function(e){this._renderView(),this._view.scrollTo(e.name)},_renderView:function(){this._rendered||(this._view.render(),this._rendered=!0)}})}),define("Application/ApplicationController",["spoon/Controller","./ApplicationView","../Content/Home/HomeView","../Content/ApiReference/ApiReferenceController","../Content/Guide/GuideController"],function(e,t,n,r,o){return e.extend({$name:"ApplicationController",_defaultState:"guide",_states:{home:"_homeState",api:"_apiState",guide:"_guideState"},initialize:function(){e.call(this),this._view=this._link(new t),this._view.appendTo(document.body).render()},_homeState:function(){this._destroyContent(),this._view.setActiveMenu("home"),this._content=this._link(new n),this._content.appendTo(this._view,".app-content").render()},_apiState:function(e){this._destroyContent(),this._view.setActiveMenu("api"),this._content=this._link(new r(".app-content")),this._content.delegateState(e)},_guideState:function(e){this._destroyContent(),this._view.setActiveMenu("guide"),this._content=this._link(new o(".app-content")),this._content.delegateState(e)},_destroyContent:function(){this._content&&(this._content.destroy(),this._content=null)}})}),require(["Application/ApplicationController","services/state","jquery"],function(e,t,n){n(document).ready(function(){var n=new e;t.on("change",n.delegateState,n),t.parse()})}),define("../app/bootstrap",function(){});